const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FAQPage-BN8zG_Rb.js","assets/ui-components-DqEG6yq2.js","assets/vendor-Chun8WN8.js","assets/player-BLuYXUgV.js","assets/ContactPage-p9IBS_MY.js","assets/AboutPage-CJCl-N7y.js","assets/globe-Dq8U2wt4.js","assets/users-DNMod8JS.js","assets/TechnologiesPage-nrV_Er8G.js","assets/TermsPage-DSSBJ3ec.js","assets/PrivacyPage-BqwkD3qg.js","assets/lock-DmzOmJup.js","assets/HelpPage-DLZW6CT8.js","assets/monitor-BwQYlHMJ.js","assets/SubscriptionPage-CGYnhLrA.js","assets/SubscriptionStatus-BChRkKbm.js","assets/calendar-C7k6v_HG.js","assets/AccountPage-uZdc1dEK.js","assets/settings-z4NhHRC0.js","assets/DetailPage-CKC5okXK.js","assets/PlayPage-QQeFIl2N.js","assets/WatchPartyPage-jWIyoXYr.js","assets/watch-party-DrKsmoI2.js","assets/auth-CvLoGRuB.js","assets/WatchPartyListPage-DWtFeikW.js","assets/VideoPlayerPage-BBLmcmjA.js","assets/ContentCard-kUGkB5zV.js","assets/PremiumContentExample-eTPVQB5K.js","assets/BrowsePage-DQNit-eS.js"])))=>i.map(i=>d[i]);
var Wd=Object.defineProperty;var Kd=(t,e,r)=>e in t?Wd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var jr=(t,e,r)=>Kd(t,typeof e!="symbol"?e+"":e,r);import{j as l,P as Ut,c as wr,s as Tt,B as Zr,a as Yd,L as Xd,C as Za,T as Jd,I as xu,b as Zd,d as Qd,e as ba,F as e0,f as t0,g as r0,A as Du,h as a0,D as s0}from"./ui-components-DqEG6yq2.js";import{f as n0,g as u0,a as C,b as se,L as ke,h as wu,i as i0,u as wc,j as Rn,e as o0,B as c0,k as l0,l as te}from"./vendor-Chun8WN8.js";import{l as ya,a as sn}from"./player-BLuYXUgV.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const u of s)if(u.type==="childList")for(const n of u.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function r(s){const u={};return s.integrity&&(u.integrity=s.integrity),s.referrerPolicy&&(u.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?u.credentials="include":s.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(s){if(s.ep)return;s.ep=!0;const u=r(s);fetch(s.href,u)}})();const d0="modulepreload",f0=function(t){return"/"+t},Au={},we=function(e,r,a){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),i=(n==null?void 0:n.nonce)||(n==null?void 0:n.getAttribute("nonce"));s=Promise.allSettled(r.map(o=>{if(o=f0(o),o in Au)return;Au[o]=!0;const c=o.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":d0,c||(f.as="script"),f.crossOrigin="",f.href=o,i&&f.setAttribute("nonce",i),document.head.appendChild(f),c)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${o}`)))})}))}function u(n){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=n,window.dispatchEvent(i),!i.defaultPrevented)throw n}return s.then(n=>{for(const i of n||[])i.status==="rejected"&&u(i.reason);return e().catch(u)})};var Qe,et;function nn(){throw new Error("setTimeout has not been defined")}function un(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Qe=setTimeout:Qe=nn}catch{Qe=nn}try{typeof clearTimeout=="function"?et=clearTimeout:et=un}catch{et=un}})();function Ac(t){if(Qe===setTimeout)return setTimeout(t,0);if((Qe===nn||!Qe)&&setTimeout)return Qe=setTimeout,setTimeout(t,0);try{return Qe(t,0)}catch{try{return Qe.call(null,t,0)}catch{return Qe.call(this,t,0)}}}function h0(t){if(et===clearTimeout)return clearTimeout(t);if((et===un||!et)&&clearTimeout)return et=clearTimeout,clearTimeout(t);try{return et(t)}catch{try{return et.call(null,t)}catch{return et.call(this,t)}}}var ht=[],hr=!1,$t,Ha=-1;function p0(){!hr||!$t||(hr=!1,$t.length?ht=$t.concat(ht):Ha=-1,ht.length&&Cc())}function Cc(){if(!hr){var t=Ac(p0);hr=!0;for(var e=ht.length;e;){for($t=ht,ht=[];++Ha<e;)$t&&$t[Ha].run();Ha=-1,e=ht.length}$t=null,hr=!1,h0(t)}}function Sc(t,e){this.fun=t,this.array=e}Sc.prototype.run=function(){this.fun.apply(null,this.array)};function nt(){}const m0={title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},nextTick:function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];ht.push(new Sc(t,e)),ht.length===1&&!hr&&Ac(Cc)},on:nt,addListener:nt,once:nt,off:nt,removeListener:nt,removeAllListeners:nt,emit:nt,prependListener:nt,prependOnceListener:nt,listeners:function(t){return[]},binding:function(t){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(t){throw new Error("process.chdir is not supported")},umask:function(){return 0}};window.process=m0;var va={},Cu;function g0(){if(Cu)return va;Cu=1;var t=n0();return va.createRoot=t.createRoot,va.hydrateRoot=t.hydrateRoot,va}var b0=g0();const y0=u0(b0),Ec=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),ds=C.createContext({}),fs=C.createContext(null),hs=typeof document<"u",qn=hs?C.useLayoutEffect:C.useEffect,Tc=C.createContext({strict:!1}),_n=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),v0="framerAppearId",jc="data-"+_n(v0);function x0(t,e,r,a){const{visualElement:s}=C.useContext(ds),u=C.useContext(Tc),n=C.useContext(fs),i=C.useContext(Ec).reducedMotion,o=C.useRef();a=a||u.renderer,!o.current&&a&&(o.current=a(t,{visualState:e,parent:s,props:r,presenceContext:n,blockInitialAnimation:n?n.initial===!1:!1,reducedMotionConfig:i}));const c=o.current;C.useInsertionEffect(()=>{c&&c.update(r,n)});const d=C.useRef(!!(r[jc]&&!window.HandoffComplete));return qn(()=>{c&&(c.render(),d.current&&c.animationState&&c.animationState.animateChanges())}),C.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}function nr(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function D0(t,e,r){return C.useCallback(a=>{a&&t.mount&&t.mount(a),e&&(a?e.mount(a):e.unmount()),r&&(typeof r=="function"?r(a):nr(r)&&(r.current=a))},[e])}function Qr(t){return typeof t=="string"||Array.isArray(t)}function ps(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Mn=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],In=["initial",...Mn];function ms(t){return ps(t.animate)||In.some(e=>Qr(t[e]))}function kc(t){return!!(ms(t)||t.variants)}function w0(t,e){if(ms(t)){const{initial:r,animate:a}=t;return{initial:r===!1||Qr(r)?r:void 0,animate:Qr(a)?a:void 0}}return t.inherit!==!1?e:{}}function A0(t){const{initial:e,animate:r}=w0(t,C.useContext(ds));return C.useMemo(()=>({initial:e,animate:r}),[Su(e),Su(r)])}function Su(t){return Array.isArray(t)?t.join(" "):t}const Eu={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ea={};for(const t in Eu)ea[t]={isEnabled:e=>Eu[t].some(r=>!!e[r])};function C0(t){for(const e in t)ea[e]={...ea[e],...t[e]}}const On=C.createContext({}),Nc=C.createContext({}),S0=Symbol.for("motionComponentSymbol");function E0({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:a,Component:s}){t&&C0(t);function u(i,o){let c;const d={...C.useContext(Ec),...i,layoutId:T0(i)},{isStatic:f}=d,h=A0(i),p=a(i,f);if(!f&&hs){h.visualElement=x0(s,p,d,e);const m=C.useContext(Nc),b=C.useContext(Tc).strict;h.visualElement&&(c=h.visualElement.loadFeatures(d,b,t,m))}return C.createElement(ds.Provider,{value:h},c&&h.visualElement?C.createElement(c,{visualElement:h.visualElement,...d}):null,r(s,i,D0(p,h.visualElement,o),p,f,h.visualElement))}const n=C.forwardRef(u);return n[S0]=s,n}function T0({layoutId:t}){const e=C.useContext(On).id;return e&&t!==void 0?e+"-"+t:t}function j0(t){function e(a,s={}){return E0(t(a,s))}if(typeof Proxy>"u")return e;const r=new Map;return new Proxy(e,{get:(a,s)=>(r.has(s)||r.set(s,e(s)),r.get(s))})}const k0=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Vn(t){return typeof t!="string"||t.includes("-")?!1:!!(k0.indexOf(t)>-1||/[A-Z]/.test(t))}const Qa={};function N0(t){Object.assign(Qa,t)}const ua=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Yt=new Set(ua);function Pc(t,{layout:e,layoutId:r}){return Yt.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Qa[t]||t==="opacity")}const qe=t=>!!(t&&t.getVelocity),P0={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},B0=ua.length;function F0(t,{enableHardwareAcceleration:e=!0,allowTransformNone:r=!0},a,s){let u="";for(let n=0;n<B0;n++){const i=ua[n];if(t[i]!==void 0){const o=P0[i]||i;u+=`${o}(${t[i]}) `}}return e&&!t.z&&(u+="translateZ(0)"),u=u.trim(),s?u=s(t,a?"":u):r&&a&&(u="none"),u}const Bc=t=>e=>typeof e=="string"&&e.startsWith(t),Fc=Bc("--"),on=Bc("var(--"),L0=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,R0=(t,e)=>e&&typeof t=="number"?e.transform(t):t,St=(t,e,r)=>Math.min(Math.max(r,t),e),Xt={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},zr={...Xt,transform:t=>St(0,1,t)},xa={...Xt,default:1},Gr=t=>Math.round(t*1e5)/1e5,gs=/(-)?([\d]*\.?[\d])+/g,Lc=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,q0=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ia(t){return typeof t=="string"}const oa=t=>({test:e=>ia(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Dt=oa("deg"),at=oa("%"),V=oa("px"),_0=oa("vh"),M0=oa("vw"),Tu={...at,parse:t=>at.parse(t)/100,transform:t=>at.transform(t*100)},ju={...Xt,transform:Math.round},Rc={borderWidth:V,borderTopWidth:V,borderRightWidth:V,borderBottomWidth:V,borderLeftWidth:V,borderRadius:V,radius:V,borderTopLeftRadius:V,borderTopRightRadius:V,borderBottomRightRadius:V,borderBottomLeftRadius:V,width:V,maxWidth:V,height:V,maxHeight:V,size:V,top:V,right:V,bottom:V,left:V,padding:V,paddingTop:V,paddingRight:V,paddingBottom:V,paddingLeft:V,margin:V,marginTop:V,marginRight:V,marginBottom:V,marginLeft:V,rotate:Dt,rotateX:Dt,rotateY:Dt,rotateZ:Dt,scale:xa,scaleX:xa,scaleY:xa,scaleZ:xa,skew:Dt,skewX:Dt,skewY:Dt,distance:V,translateX:V,translateY:V,translateZ:V,x:V,y:V,z:V,perspective:V,transformPerspective:V,opacity:zr,originX:Tu,originY:Tu,originZ:V,zIndex:ju,fillOpacity:zr,strokeOpacity:zr,numOctaves:ju};function Un(t,e,r,a){const{style:s,vars:u,transform:n,transformOrigin:i}=t;let o=!1,c=!1,d=!0;for(const f in e){const h=e[f];if(Fc(f)){u[f]=h;continue}const p=Rc[f],m=R0(h,p);if(Yt.has(f)){if(o=!0,n[f]=m,!d)continue;h!==(p.default||0)&&(d=!1)}else f.startsWith("origin")?(c=!0,i[f]=m):s[f]=m}if(e.transform||(o||a?s.transform=F0(t.transform,r,d,a):s.transform&&(s.transform="none")),c){const{originX:f="50%",originY:h="50%",originZ:p=0}=i;s.transformOrigin=`${f} ${h} ${p}`}}const $n=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function qc(t,e,r){for(const a in e)!qe(e[a])&&!Pc(a,r)&&(t[a]=e[a])}function I0({transformTemplate:t},e,r){return C.useMemo(()=>{const a=$n();return Un(a,e,{enableHardwareAcceleration:!r},t),Object.assign({},a.vars,a.style)},[e])}function O0(t,e,r){const a=t.style||{},s={};return qc(s,a,t),Object.assign(s,I0(t,e,r)),t.transformValues?t.transformValues(s):s}function V0(t,e,r){const a={},s=O0(t,e,r);return t.drag&&t.dragListener!==!1&&(a.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(a.tabIndex=0),a.style=s,a}const U0=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function es(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||U0.has(t)}let _c=t=>!es(t);function $0(t){t&&(_c=e=>e.startsWith("on")?!es(e):t(e))}try{$0(require("@emotion/is-prop-valid").default)}catch{}function H0(t,e,r){const a={};for(const s in t)s==="values"&&typeof t.values=="object"||(_c(s)||r===!0&&es(s)||!e&&!es(s)||t.draggable&&s.startsWith("onDrag"))&&(a[s]=t[s]);return a}function ku(t,e,r){return typeof t=="string"?t:V.transform(e+r*t)}function z0(t,e,r){const a=ku(e,t.x,t.width),s=ku(r,t.y,t.height);return`${a} ${s}`}const G0={offset:"stroke-dashoffset",array:"stroke-dasharray"},W0={offset:"strokeDashoffset",array:"strokeDasharray"};function K0(t,e,r=1,a=0,s=!0){t.pathLength=1;const u=s?G0:W0;t[u.offset]=V.transform(-a);const n=V.transform(e),i=V.transform(r);t[u.array]=`${n} ${i}`}function Hn(t,{attrX:e,attrY:r,attrScale:a,originX:s,originY:u,pathLength:n,pathSpacing:i=1,pathOffset:o=0,...c},d,f,h){if(Un(t,c,d,h),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:m,dimensions:b}=t;p.transform&&(b&&(m.transform=p.transform),delete p.transform),b&&(s!==void 0||u!==void 0||m.transform)&&(m.transformOrigin=z0(b,s!==void 0?s:.5,u!==void 0?u:.5)),e!==void 0&&(p.x=e),r!==void 0&&(p.y=r),a!==void 0&&(p.scale=a),n!==void 0&&K0(p,n,i,o,!1)}const Mc=()=>({...$n(),attrs:{}}),zn=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Y0(t,e,r,a){const s=C.useMemo(()=>{const u=Mc();return Hn(u,e,{enableHardwareAcceleration:!1},zn(a),t.transformTemplate),{...u.attrs,style:{...u.style}}},[e]);if(t.style){const u={};qc(u,t.style,t),s.style={...u,...s.style}}return s}function X0(t=!1){return(r,a,s,{latestValues:u},n)=>{const o=(Vn(r)?Y0:V0)(a,u,n,r),d={...H0(a,typeof r=="string",t),...o,ref:s},{children:f}=a,h=C.useMemo(()=>qe(f)?f.get():f,[f]);return C.createElement(r,{...d,children:h})}}function Ic(t,{style:e,vars:r},a,s){Object.assign(t.style,e,s&&s.getProjectionStyles(a));for(const u in r)t.style.setProperty(u,r[u])}const Oc=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Vc(t,e,r,a){Ic(t,e,void 0,a);for(const s in e.attrs)t.setAttribute(Oc.has(s)?s:_n(s),e.attrs[s])}function Gn(t,e){const{style:r}=t,a={};for(const s in r)(qe(r[s])||e.style&&qe(e.style[s])||Pc(s,t))&&(a[s]=r[s]);return a}function Uc(t,e){const r=Gn(t,e);for(const a in t)if(qe(t[a])||qe(e[a])){const s=ua.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[s]=t[a]}return r}function Wn(t,e,r,a={},s={}){return typeof e=="function"&&(e=e(r!==void 0?r:t.custom,a,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(r!==void 0?r:t.custom,a,s)),e}function $c(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}const ts=t=>Array.isArray(t),J0=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Z0=t=>ts(t)?t[t.length-1]||0:t;function za(t){const e=qe(t)?t.get():t;return J0(e)?e.toValue():e}function Q0({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:r},a,s,u){const n={latestValues:ef(a,s,u,t),renderState:e()};return r&&(n.mount=i=>r(a,i,n)),n}const Hc=t=>(e,r)=>{const a=C.useContext(ds),s=C.useContext(fs),u=()=>Q0(t,e,a,s);return r?u():$c(u)};function ef(t,e,r,a){const s={},u=a(t,{});for(const h in u)s[h]=za(u[h]);let{initial:n,animate:i}=t;const o=ms(t),c=kc(t);e&&c&&!o&&t.inherit!==!1&&(n===void 0&&(n=e.initial),i===void 0&&(i=e.animate));let d=r?r.initial===!1:!1;d=d||n===!1;const f=d?i:n;return f&&typeof f!="boolean"&&!ps(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const m=Wn(t,p);if(!m)return;const{transitionEnd:b,transition:x,...E}=m;for(const A in E){let y=E[A];if(Array.isArray(y)){const g=d?y.length-1:0;y=y[g]}y!==null&&(s[A]=y)}for(const A in b)s[A]=b[A]}),s}const le=t=>t;class Nu{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const r=this.order.indexOf(e);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function tf(t){let e=new Nu,r=new Nu,a=0,s=!1,u=!1;const n=new WeakSet,i={schedule:(o,c=!1,d=!1)=>{const f=d&&s,h=f?e:r;return c&&n.add(o),h.add(o)&&f&&s&&(a=e.order.length),o},cancel:o=>{r.remove(o),n.delete(o)},process:o=>{if(s){u=!0;return}if(s=!0,[e,r]=[r,e],r.clear(),a=e.order.length,a)for(let c=0;c<a;c++){const d=e.order[c];d(o),n.has(d)&&(i.schedule(d),t())}s=!1,u&&(u=!1,i.process(o))}};return i}const Da=["prepare","read","update","preRender","render","postRender"],rf=40;function af(t,e){let r=!1,a=!0;const s={delta:0,timestamp:0,isProcessing:!1},u=Da.reduce((f,h)=>(f[h]=tf(()=>r=!0),f),{}),n=f=>u[f].process(s),i=()=>{const f=performance.now();r=!1,s.delta=a?1e3/60:Math.max(Math.min(f-s.timestamp,rf),1),s.timestamp=f,s.isProcessing=!0,Da.forEach(n),s.isProcessing=!1,r&&e&&(a=!1,t(i))},o=()=>{r=!0,a=!0,s.isProcessing||t(i)};return{schedule:Da.reduce((f,h)=>{const p=u[h];return f[h]=(m,b=!1,x=!1)=>(r||o(),p.schedule(m,b,x)),f},{}),cancel:f=>Da.forEach(h=>u[h].cancel(f)),state:s,steps:u}}const{schedule:re,cancel:bt,state:Ae,steps:ks}=af(typeof requestAnimationFrame<"u"?requestAnimationFrame:le,!0),sf={useVisualState:Hc({scrapeMotionValuesFromProps:Uc,createRenderState:Mc,onMount:(t,e,{renderState:r,latestValues:a})=>{re.read(()=>{try{r.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),re.render(()=>{Hn(r,a,{enableHardwareAcceleration:!1},zn(e.tagName),t.transformTemplate),Vc(e,r)})}})},nf={useVisualState:Hc({scrapeMotionValuesFromProps:Gn,createRenderState:$n})};function uf(t,{forwardMotionProps:e=!1},r,a){return{...Vn(t)?sf:nf,preloadedFeatures:r,useRender:X0(e),createVisualElement:a,Component:t}}function pt(t,e,r,a={passive:!0}){return t.addEventListener(e,r,a),()=>t.removeEventListener(e,r)}const zc=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function bs(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const of=t=>e=>zc(e)&&t(e,bs(e));function mt(t,e,r,a){return pt(t,e,of(r),a)}const cf=(t,e)=>r=>e(t(r)),Ct=(...t)=>t.reduce(cf);function Gc(t){let e=null;return()=>{const r=()=>{e=null};return e===null?(e=t,r):!1}}const Pu=Gc("dragHorizontal"),Bu=Gc("dragVertical");function Wc(t){let e=!1;if(t==="y")e=Bu();else if(t==="x")e=Pu();else{const r=Pu(),a=Bu();r&&a?e=()=>{r(),a()}:(r&&r(),a&&a())}return e}function Kc(){const t=Wc(!0);return t?(t(),!1):!0}class jt{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Fu(t,e){const r="pointer"+(e?"enter":"leave"),a="onHover"+(e?"Start":"End"),s=(u,n)=>{if(u.pointerType==="touch"||Kc())return;const i=t.getProps();t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",e),i[a]&&re.update(()=>i[a](u,n))};return mt(t.current,r,s,{passive:!t.getProps()[a]})}class lf extends jt{mount(){this.unmount=Ct(Fu(this.node,!0),Fu(this.node,!1))}unmount(){}}class df extends jt{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ct(pt(this.node.current,"focus",()=>this.onFocus()),pt(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Yc=(t,e)=>e?t===e?!0:Yc(t,e.parentElement):!1;function Ns(t,e){if(!e)return;const r=new PointerEvent("pointer"+t);e(r,bs(r))}class ff extends jt{constructor(){super(...arguments),this.removeStartListeners=le,this.removeEndListeners=le,this.removeAccessibleListeners=le,this.startPointerPress=(e,r)=>{if(this.isPressing)return;this.removeEndListeners();const a=this.node.getProps(),u=mt(window,"pointerup",(i,o)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:f}=this.node.getProps();re.update(()=>{!f&&!Yc(this.node.current,i.target)?d&&d(i,o):c&&c(i,o)})},{passive:!(a.onTap||a.onPointerUp)}),n=mt(window,"pointercancel",(i,o)=>this.cancelPress(i,o),{passive:!(a.onTapCancel||a.onPointerCancel)});this.removeEndListeners=Ct(u,n),this.startPress(e,r)},this.startAccessiblePress=()=>{const e=u=>{if(u.key!=="Enter"||this.isPressing)return;const n=i=>{i.key!=="Enter"||!this.checkPressEnd()||Ns("up",(o,c)=>{const{onTap:d}=this.node.getProps();d&&re.update(()=>d(o,c))})};this.removeEndListeners(),this.removeEndListeners=pt(this.node.current,"keyup",n),Ns("down",(i,o)=>{this.startPress(i,o)})},r=pt(this.node.current,"keydown",e),a=()=>{this.isPressing&&Ns("cancel",(u,n)=>this.cancelPress(u,n))},s=pt(this.node.current,"blur",a);this.removeAccessibleListeners=Ct(r,s)}}startPress(e,r){this.isPressing=!0;const{onTapStart:a,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),a&&re.update(()=>a(e,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Kc()}cancelPress(e,r){if(!this.checkPressEnd())return;const{onTapCancel:a}=this.node.getProps();a&&re.update(()=>a(e,r))}mount(){const e=this.node.getProps(),r=mt(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),a=pt(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ct(r,a)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const cn=new WeakMap,Ps=new WeakMap,hf=t=>{const e=cn.get(t.target);e&&e(t)},pf=t=>{t.forEach(hf)};function mf({root:t,...e}){const r=t||document;Ps.has(r)||Ps.set(r,{});const a=Ps.get(r),s=JSON.stringify(e);return a[s]||(a[s]=new IntersectionObserver(pf,{root:t,...e})),a[s]}function gf(t,e,r){const a=mf(e);return cn.set(t,r),a.observe(t),()=>{cn.delete(t),a.unobserve(t)}}const bf={some:0,all:1};class yf extends jt{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:a,amount:s="some",once:u}=e,n={root:r?r.current:void 0,rootMargin:a,threshold:typeof s=="number"?s:bf[s]},i=o=>{const{isIntersecting:c}=o;if(this.isInView===c||(this.isInView=c,u&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=c?d:f;h&&h(o)};return gf(this.node.current,n,i)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(vf(e,r))&&this.startObserver()}unmount(){}}function vf({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const xf={inView:{Feature:yf},tap:{Feature:ff},focus:{Feature:df},hover:{Feature:lf}};function Xc(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let a=0;a<r;a++)if(e[a]!==t[a])return!1;return!0}function Df(t){const e={};return t.values.forEach((r,a)=>e[a]=r.get()),e}function wf(t){const e={};return t.values.forEach((r,a)=>e[a]=r.getVelocity()),e}function ys(t,e,r){const a=t.getProps();return Wn(a,e,r!==void 0?r:a.custom,Df(t),wf(t))}let Kn=le;const Gt=t=>t*1e3,gt=t=>t/1e3,Af={current:!1},Jc=t=>Array.isArray(t)&&typeof t[0]=="number";function Zc(t){return!!(!t||typeof t=="string"&&Qc[t]||Jc(t)||Array.isArray(t)&&t.every(Zc))}const Vr=([t,e,r,a])=>`cubic-bezier(${t}, ${e}, ${r}, ${a})`,Qc={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vr([0,.65,.55,1]),circOut:Vr([.55,0,1,.45]),backIn:Vr([.31,.01,.66,-.59]),backOut:Vr([.33,1.53,.69,.99])};function el(t){if(t)return Jc(t)?Vr(t):Array.isArray(t)?t.map(el):Qc[t]}function Cf(t,e,r,{delay:a=0,duration:s,repeat:u=0,repeatType:n="loop",ease:i,times:o}={}){const c={[e]:r};o&&(c.offset=o);const d=el(i);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:a,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:u+1,direction:n==="reverse"?"alternate":"normal"})}function Sf(t,{repeat:e,repeatType:r="loop"}){const a=e&&r!=="loop"&&e%2===1?0:t.length-1;return t[a]}const tl=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,Ef=1e-7,Tf=12;function jf(t,e,r,a,s){let u,n,i=0;do n=e+(r-e)/2,u=tl(n,a,s)-t,u>0?r=n:e=n;while(Math.abs(u)>Ef&&++i<Tf);return n}function ca(t,e,r,a){if(t===e&&r===a)return le;const s=u=>jf(u,0,1,t,r);return u=>u===0||u===1?u:tl(s(u),e,a)}const kf=ca(.42,0,1,1),Nf=ca(0,0,.58,1),rl=ca(.42,0,.58,1),Pf=t=>Array.isArray(t)&&typeof t[0]!="number",al=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,sl=t=>e=>1-t(1-e),Yn=t=>1-Math.sin(Math.acos(t)),nl=sl(Yn),Bf=al(Yn),ul=ca(.33,1.53,.69,.99),Xn=sl(ul),Ff=al(Xn),Lf=t=>(t*=2)<1?.5*Xn(t):.5*(2-Math.pow(2,-10*(t-1))),Rf={linear:le,easeIn:kf,easeInOut:rl,easeOut:Nf,circIn:Yn,circInOut:Bf,circOut:nl,backIn:Xn,backInOut:Ff,backOut:ul,anticipate:Lf},Lu=t=>{if(Array.isArray(t)){Kn(t.length===4);const[e,r,a,s]=t;return ca(e,r,a,s)}else if(typeof t=="string")return Rf[t];return t},Jn=(t,e)=>r=>!!(ia(r)&&q0.test(r)&&r.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(r,e)),il=(t,e,r)=>a=>{if(!ia(a))return a;const[s,u,n,i]=a.match(gs);return{[t]:parseFloat(s),[e]:parseFloat(u),[r]:parseFloat(n),alpha:i!==void 0?parseFloat(i):1}},qf=t=>St(0,255,t),Bs={...Xt,transform:t=>Math.round(qf(t))},Ht={test:Jn("rgb","red"),parse:il("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:a=1})=>"rgba("+Bs.transform(t)+", "+Bs.transform(e)+", "+Bs.transform(r)+", "+Gr(zr.transform(a))+")"};function _f(t){let e="",r="",a="",s="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),a=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),a=t.substring(3,4),s=t.substring(4,5),e+=e,r+=r,a+=a,s+=s),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(a,16),alpha:s?parseInt(s,16)/255:1}}const ln={test:Jn("#"),parse:_f,transform:Ht.transform},ur={test:Jn("hsl","hue"),parse:il("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:a=1})=>"hsla("+Math.round(t)+", "+at.transform(Gr(e))+", "+at.transform(Gr(r))+", "+Gr(zr.transform(a))+")"},je={test:t=>Ht.test(t)||ln.test(t)||ur.test(t),parse:t=>Ht.test(t)?Ht.parse(t):ur.test(t)?ur.parse(t):ln.parse(t),transform:t=>ia(t)?t:t.hasOwnProperty("red")?Ht.transform(t):ur.transform(t)},ie=(t,e,r)=>-r*t+r*e+t;function Fs(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function Mf({hue:t,saturation:e,lightness:r,alpha:a}){t/=360,e/=100,r/=100;let s=0,u=0,n=0;if(!e)s=u=n=r;else{const i=r<.5?r*(1+e):r+e-r*e,o=2*r-i;s=Fs(o,i,t+1/3),u=Fs(o,i,t),n=Fs(o,i,t-1/3)}return{red:Math.round(s*255),green:Math.round(u*255),blue:Math.round(n*255),alpha:a}}const Ls=(t,e,r)=>{const a=t*t;return Math.sqrt(Math.max(0,r*(e*e-a)+a))},If=[ln,Ht,ur],Of=t=>If.find(e=>e.test(t));function Ru(t){const e=Of(t);let r=e.parse(t);return e===ur&&(r=Mf(r)),r}const ol=(t,e)=>{const r=Ru(t),a=Ru(e),s={...r};return u=>(s.red=Ls(r.red,a.red,u),s.green=Ls(r.green,a.green,u),s.blue=Ls(r.blue,a.blue,u),s.alpha=ie(r.alpha,a.alpha,u),Ht.transform(s))};function Vf(t){var e,r;return isNaN(t)&&ia(t)&&(((e=t.match(gs))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(Lc))===null||r===void 0?void 0:r.length)||0)>0}const cl={regex:L0,countKey:"Vars",token:"${v}",parse:le},ll={regex:Lc,countKey:"Colors",token:"${c}",parse:je.parse},dl={regex:gs,countKey:"Numbers",token:"${n}",parse:Xt.parse};function Rs(t,{regex:e,countKey:r,token:a,parse:s}){const u=t.tokenised.match(e);u&&(t["num"+r]=u.length,t.tokenised=t.tokenised.replace(e,a),t.values.push(...u.map(s)))}function rs(t){const e=t.toString(),r={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&Rs(r,cl),Rs(r,ll),Rs(r,dl),r}function fl(t){return rs(t).values}function hl(t){const{values:e,numColors:r,numVars:a,tokenised:s}=rs(t),u=e.length;return n=>{let i=s;for(let o=0;o<u;o++)o<a?i=i.replace(cl.token,n[o]):o<a+r?i=i.replace(ll.token,je.transform(n[o])):i=i.replace(dl.token,Gr(n[o]));return i}}const Uf=t=>typeof t=="number"?0:t;function $f(t){const e=fl(t);return hl(t)(e.map(Uf))}const Et={test:Vf,parse:fl,createTransformer:hl,getAnimatableNone:$f},pl=(t,e)=>r=>`${r>0?e:t}`;function ml(t,e){return typeof t=="number"?r=>ie(t,e,r):je.test(t)?ol(t,e):t.startsWith("var(")?pl(t,e):bl(t,e)}const gl=(t,e)=>{const r=[...t],a=r.length,s=t.map((u,n)=>ml(u,e[n]));return u=>{for(let n=0;n<a;n++)r[n]=s[n](u);return r}},Hf=(t,e)=>{const r={...t,...e},a={};for(const s in r)t[s]!==void 0&&e[s]!==void 0&&(a[s]=ml(t[s],e[s]));return s=>{for(const u in a)r[u]=a[u](s);return r}},bl=(t,e)=>{const r=Et.createTransformer(e),a=rs(t),s=rs(e);return a.numVars===s.numVars&&a.numColors===s.numColors&&a.numNumbers>=s.numNumbers?Ct(gl(a.values,s.values),r):pl(t,e)},ta=(t,e,r)=>{const a=e-t;return a===0?1:(r-t)/a},qu=(t,e)=>r=>ie(t,e,r);function zf(t){return typeof t=="number"?qu:typeof t=="string"?je.test(t)?ol:bl:Array.isArray(t)?gl:typeof t=="object"?Hf:qu}function Gf(t,e,r){const a=[],s=r||zf(t[0]),u=t.length-1;for(let n=0;n<u;n++){let i=s(t[n],t[n+1]);if(e){const o=Array.isArray(e)?e[n]||le:e;i=Ct(o,i)}a.push(i)}return a}function yl(t,e,{clamp:r=!0,ease:a,mixer:s}={}){const u=t.length;if(Kn(u===e.length),u===1)return()=>e[0];t[0]>t[u-1]&&(t=[...t].reverse(),e=[...e].reverse());const n=Gf(e,a,s),i=n.length,o=c=>{let d=0;if(i>1)for(;d<t.length-2&&!(c<t[d+1]);d++);const f=ta(t[d],t[d+1],c);return n[d](f)};return r?c=>o(St(t[0],t[u-1],c)):o}function Wf(t,e){const r=t[t.length-1];for(let a=1;a<=e;a++){const s=ta(0,e,a);t.push(ie(r,1,s))}}function Kf(t){const e=[0];return Wf(e,t.length-1),e}function Yf(t,e){return t.map(r=>r*e)}function Xf(t,e){return t.map(()=>e||rl).splice(0,t.length-1)}function as({duration:t=300,keyframes:e,times:r,ease:a="easeInOut"}){const s=Pf(a)?a.map(Lu):Lu(a),u={done:!1,value:e[0]},n=Yf(r&&r.length===e.length?r:Kf(e),t),i=yl(n,e,{ease:Array.isArray(s)?s:Xf(e,s)});return{calculatedDuration:t,next:o=>(u.value=i(o),u.done=o>=t,u)}}function vl(t,e){return e?t*(1e3/e):0}const Jf=5;function xl(t,e,r){const a=Math.max(e-Jf,0);return vl(r-t(a),e-a)}const _u=.001,Zf=.01,Qf=10,eh=.05,th=1;function rh({duration:t=800,bounce:e=.25,velocity:r=0,mass:a=1}){let s,u,n=1-e;n=St(eh,th,n),t=St(Zf,Qf,gt(t)),n<1?(s=c=>{const d=c*n,f=d*t,h=d-r,p=dn(c,n),m=Math.exp(-f);return _u-h/p*m},u=c=>{const f=c*n*t,h=f*r+r,p=Math.pow(n,2)*Math.pow(c,2)*t,m=Math.exp(-f),b=dn(Math.pow(c,2),n);return(-s(c)+_u>0?-1:1)*((h-p)*m)/b}):(s=c=>{const d=Math.exp(-c*t),f=(c-r)*t+1;return-.001+d*f},u=c=>{const d=Math.exp(-c*t),f=(r-c)*(t*t);return d*f});const i=5/t,o=sh(s,u,i);if(t=Gt(t),isNaN(o))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(o,2)*a;return{stiffness:c,damping:n*2*Math.sqrt(a*c),duration:t}}}const ah=12;function sh(t,e,r){let a=r;for(let s=1;s<ah;s++)a=a-t(a)/e(a);return a}function dn(t,e){return t*Math.sqrt(1-e*e)}const nh=["duration","bounce"],uh=["stiffness","damping","mass"];function Mu(t,e){return e.some(r=>t[r]!==void 0)}function ih(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Mu(t,uh)&&Mu(t,nh)){const r=rh(t);e={...e,...r,mass:1},e.isResolvedFromDuration=!0}return e}function Dl({keyframes:t,restDelta:e,restSpeed:r,...a}){const s=t[0],u=t[t.length-1],n={done:!1,value:s},{stiffness:i,damping:o,mass:c,duration:d,velocity:f,isResolvedFromDuration:h}=ih({...a,velocity:-gt(a.velocity||0)}),p=f||0,m=o/(2*Math.sqrt(i*c)),b=u-s,x=gt(Math.sqrt(i/c)),E=Math.abs(b)<5;r||(r=E?.01:2),e||(e=E?.005:.5);let A;if(m<1){const y=dn(x,m);A=g=>{const v=Math.exp(-m*x*g);return u-v*((p+m*x*b)/y*Math.sin(y*g)+b*Math.cos(y*g))}}else if(m===1)A=y=>u-Math.exp(-x*y)*(b+(p+x*b)*y);else{const y=x*Math.sqrt(m*m-1);A=g=>{const v=Math.exp(-m*x*g),D=Math.min(y*g,300);return u-v*((p+m*x*b)*Math.sinh(D)+y*b*Math.cosh(D))/y}}return{calculatedDuration:h&&d||null,next:y=>{const g=A(y);if(h)n.done=y>=d;else{let v=p;y!==0&&(m<1?v=xl(A,y,g):v=0);const D=Math.abs(v)<=r,S=Math.abs(u-g)<=e;n.done=D&&S}return n.value=n.done?u:g,n}}}function Iu({keyframes:t,velocity:e=0,power:r=.8,timeConstant:a=325,bounceDamping:s=10,bounceStiffness:u=500,modifyTarget:n,min:i,max:o,restDelta:c=.5,restSpeed:d}){const f=t[0],h={done:!1,value:f},p=k=>i!==void 0&&k<i||o!==void 0&&k>o,m=k=>i===void 0?o:o===void 0||Math.abs(i-k)<Math.abs(o-k)?i:o;let b=r*e;const x=f+b,E=n===void 0?x:n(x);E!==x&&(b=E-f);const A=k=>-b*Math.exp(-k/a),y=k=>E+A(k),g=k=>{const q=A(k),O=y(k);h.done=Math.abs(q)<=c,h.value=h.done?E:O};let v,D;const S=k=>{p(h.value)&&(v=k,D=Dl({keyframes:[h.value,m(h.value)],velocity:xl(y,k,h.value),damping:s,stiffness:u,restDelta:c,restSpeed:d}))};return S(0),{calculatedDuration:null,next:k=>{let q=!1;return!D&&v===void 0&&(q=!0,g(k),S(k)),v!==void 0&&k>v?D.next(k-v):(!q&&g(k),h)}}}const oh=t=>{const e=({timestamp:r})=>t(r);return{start:()=>re.update(e,!0),stop:()=>bt(e),now:()=>Ae.isProcessing?Ae.timestamp:performance.now()}},Ou=2e4;function Vu(t){let e=0;const r=50;let a=t.next(e);for(;!a.done&&e<Ou;)e+=r,a=t.next(e);return e>=Ou?1/0:e}const ch={decay:Iu,inertia:Iu,tween:as,keyframes:as,spring:Dl};function ss({autoplay:t=!0,delay:e=0,driver:r=oh,keyframes:a,type:s="keyframes",repeat:u=0,repeatDelay:n=0,repeatType:i="loop",onPlay:o,onStop:c,onComplete:d,onUpdate:f,...h}){let p=1,m=!1,b,x;const E=()=>{x=new Promise(_=>{b=_})};E();let A;const y=ch[s]||as;let g;y!==as&&typeof a[0]!="number"&&(g=yl([0,100],a,{clamp:!1}),a=[0,100]);const v=y({...h,keyframes:a});let D;i==="mirror"&&(D=y({...h,keyframes:[...a].reverse(),velocity:-(h.velocity||0)}));let S="idle",k=null,q=null,O=null;v.calculatedDuration===null&&u&&(v.calculatedDuration=Vu(v));const{calculatedDuration:N}=v;let F=1/0,B=1/0;N!==null&&(F=N+n,B=F*(u+1)-n);let w=0;const j=_=>{if(q===null)return;p>0&&(q=Math.min(q,_)),p<0&&(q=Math.min(_-B/p,q)),k!==null?w=k:w=Math.round(_-q)*p;const $=w-e*(p>=0?1:-1),ee=p>=0?$<0:$>B;w=Math.max($,0),S==="finished"&&k===null&&(w=B);let X=w,be=v;if(u){const ce=Math.min(w,B)/F;let Pe=Math.floor(ce),de=ce%1;!de&&ce>=1&&(de=1),de===1&&Pe--,Pe=Math.min(Pe,u+1),!!(Pe%2)&&(i==="reverse"?(de=1-de,n&&(de-=n/F)):i==="mirror"&&(be=D)),X=St(0,1,de)*F}const K=ee?{done:!1,value:a[0]}:be.next(X);g&&(K.value=g(K.value));let{done:Y}=K;!ee&&N!==null&&(Y=p>=0?w>=B:w<=0);const oe=k===null&&(S==="finished"||S==="running"&&Y);return f&&f(K.value),oe&&R(),K},P=()=>{A&&A.stop(),A=void 0},T=()=>{S="idle",P(),b(),E(),q=O=null},R=()=>{S="finished",d&&d(),P(),b()},L=()=>{if(m)return;A||(A=r(j));const _=A.now();o&&o(),k!==null?q=_-k:(!q||S==="finished")&&(q=_),S==="finished"&&E(),O=q,k=null,S="running",A.start()};t&&L();const M={then(_,$){return x.then(_,$)},get time(){return gt(w)},set time(_){_=Gt(_),w=_,k!==null||!A||p===0?k=_:q=A.now()-_/p},get duration(){const _=v.calculatedDuration===null?Vu(v):v.calculatedDuration;return gt(_)},get speed(){return p},set speed(_){_===p||!A||(p=_,M.time=gt(w))},get state(){return S},play:L,pause:()=>{S="paused",k=w},stop:()=>{m=!0,S!=="idle"&&(S="idle",c&&c(),T())},cancel:()=>{O!==null&&j(O),T()},complete:()=>{S="finished"},sample:_=>(q=0,j(_))};return M}function lh(t){let e;return()=>(e===void 0&&(e=t()),e)}const dh=lh(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),fh=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),wa=10,hh=2e4,ph=(t,e)=>e.type==="spring"||t==="backgroundColor"||!Zc(e.ease);function mh(t,e,{onUpdate:r,onComplete:a,...s}){if(!(dh()&&fh.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let n=!1,i,o,c=!1;const d=()=>{o=new Promise(y=>{i=y})};d();let{keyframes:f,duration:h=300,ease:p,times:m}=s;if(ph(e,s)){const y=ss({...s,repeat:0,delay:0});let g={done:!1,value:f[0]};const v=[];let D=0;for(;!g.done&&D<hh;)g=y.sample(D),v.push(g.value),D+=wa;m=void 0,f=v,h=D-wa,p="linear"}const b=Cf(t.owner.current,e,f,{...s,duration:h,ease:p,times:m}),x=()=>{c=!1,b.cancel()},E=()=>{c=!0,re.update(x),i(),d()};return b.onfinish=()=>{c||(t.set(Sf(f,s)),a&&a(),E())},{then(y,g){return o.then(y,g)},attachTimeline(y){return b.timeline=y,b.onfinish=null,le},get time(){return gt(b.currentTime||0)},set time(y){b.currentTime=Gt(y)},get speed(){return b.playbackRate},set speed(y){b.playbackRate=y},get duration(){return gt(h)},play:()=>{n||(b.play(),bt(x))},pause:()=>b.pause(),stop:()=>{if(n=!0,b.playState==="idle")return;const{currentTime:y}=b;if(y){const g=ss({...s,autoplay:!1});t.setWithVelocity(g.sample(y-wa).value,g.sample(y).value,wa)}E()},complete:()=>{c||b.finish()},cancel:E}}function gh({keyframes:t,delay:e,onUpdate:r,onComplete:a}){const s=()=>(r&&r(t[t.length-1]),a&&a(),{time:0,speed:1,duration:0,play:le,pause:le,stop:le,then:u=>(u(),Promise.resolve()),cancel:le,complete:le});return e?ss({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const bh={type:"spring",stiffness:500,damping:25,restSpeed:10},yh=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),vh={type:"keyframes",duration:.8},xh={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Dh=(t,{keyframes:e})=>e.length>2?vh:Yt.has(t)?t.startsWith("scale")?yh(e[1]):bh:xh,fn=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Et.test(e)||e==="0")&&!e.startsWith("url(")),wh=new Set(["brightness","contrast","saturate","opacity"]);function Ah(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[a]=r.match(gs)||[];if(!a)return t;const s=r.replace(a,"");let u=wh.has(e)?1:0;return a!==r&&(u*=100),e+"("+u+s+")"}const Ch=/([a-z-]*)\(.*?\)/g,hn={...Et,getAnimatableNone:t=>{const e=t.match(Ch);return e?e.map(Ah).join(" "):t}},Sh={...Rc,color:je,backgroundColor:je,outlineColor:je,fill:je,stroke:je,borderColor:je,borderTopColor:je,borderRightColor:je,borderBottomColor:je,borderLeftColor:je,filter:hn,WebkitFilter:hn},Zn=t=>Sh[t];function wl(t,e){let r=Zn(t);return r!==hn&&(r=Et),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const Al=t=>/^0[^.\s]+$/.test(t);function Eh(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||Al(t)}function Th(t,e,r,a){const s=fn(e,r);let u;Array.isArray(r)?u=[...r]:u=[null,r];const n=a.from!==void 0?a.from:t.get();let i;const o=[];for(let c=0;c<u.length;c++)u[c]===null&&(u[c]=c===0?n:u[c-1]),Eh(u[c])&&o.push(c),typeof u[c]=="string"&&u[c]!=="none"&&u[c]!=="0"&&(i=u[c]);if(s&&o.length&&i)for(let c=0;c<o.length;c++){const d=o[c];u[d]=wl(e,i)}return u}function jh({when:t,delay:e,delayChildren:r,staggerChildren:a,staggerDirection:s,repeat:u,repeatType:n,repeatDelay:i,from:o,elapsed:c,...d}){return!!Object.keys(d).length}function Qn(t,e){return t[e]||t.default||t}const kh={skipAnimations:!1},eu=(t,e,r,a={})=>s=>{const u=Qn(a,t)||{},n=u.delay||a.delay||0;let{elapsed:i=0}=a;i=i-Gt(n);const o=Th(e,t,r,u),c=o[0],d=o[o.length-1],f=fn(t,c),h=fn(t,d);let p={keyframes:o,velocity:e.getVelocity(),ease:"easeOut",...u,delay:-i,onUpdate:m=>{e.set(m),u.onUpdate&&u.onUpdate(m)},onComplete:()=>{s(),u.onComplete&&u.onComplete()}};if(jh(u)||(p={...p,...Dh(t,p)}),p.duration&&(p.duration=Gt(p.duration)),p.repeatDelay&&(p.repeatDelay=Gt(p.repeatDelay)),!f||!h||Af.current||u.type===!1||kh.skipAnimations)return gh(p);if(!a.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const m=mh(e,t,p);if(m)return m}return ss(p)};function ns(t){return!!(qe(t)&&t.add)}const Cl=t=>/^\-?\d*\.?\d+$/.test(t);function tu(t,e){t.indexOf(e)===-1&&t.push(e)}function ru(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class au{constructor(){this.subscriptions=[]}add(e){return tu(this.subscriptions,e),()=>ru(this.subscriptions,e)}notify(e,r,a){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,r,a);else for(let u=0;u<s;u++){const n=this.subscriptions[u];n&&n(e,r,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Nh=t=>!isNaN(parseFloat(t));class Ph{constructor(e,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(a,s=!0)=>{this.prev=this.current,this.current=a;const{delta:u,timestamp:n}=Ae;this.lastUpdated!==n&&(this.timeDelta=u,this.lastUpdated=n,re.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>re.postRender(this.velocityCheck),this.velocityCheck=({timestamp:a})=>{a!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=Nh(this.current),this.owner=r.owner}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new au);const a=this.events[e].add(r);return e==="change"?()=>{a(),re.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,a){this.set(r),this.prev=e,this.timeDelta=a}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?vl(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function mr(t,e){return new Ph(t,e)}const Sl=t=>e=>e.test(t),Bh={test:t=>t==="auto",parse:t=>t},El=[Xt,V,at,Dt,M0,_0,Bh],kr=t=>El.find(Sl(t)),Fh=[...El,je,Et],Lh=t=>Fh.find(Sl(t));function Rh(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,mr(r))}function qh(t,e){const r=ys(t,e);let{transitionEnd:a={},transition:s={},...u}=r?t.makeTargetAnimatable(r,!1):{};u={...u,...a};for(const n in u){const i=Z0(u[n]);Rh(t,n,i)}}function _h(t,e,r){var a,s;const u=Object.keys(e).filter(i=>!t.hasValue(i)),n=u.length;if(n)for(let i=0;i<n;i++){const o=u[i],c=e[o];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(s=(a=r[o])!==null&&a!==void 0?a:t.readValue(o))!==null&&s!==void 0?s:e[o]),d!=null&&(typeof d=="string"&&(Cl(d)||Al(d))?d=parseFloat(d):!Lh(d)&&Et.test(c)&&(d=wl(o,c)),t.addValue(o,mr(d,{owner:t})),r[o]===void 0&&(r[o]=d),d!==null&&t.setBaseTarget(o,d))}}function Mh(t,e){return e?(e[t]||e.default||e).from:void 0}function Ih(t,e,r){const a={};for(const s in t){const u=Mh(s,e);if(u!==void 0)a[s]=u;else{const n=r.getValue(s);n&&(a[s]=n.get())}}return a}function Oh({protectedKeys:t,needsAnimating:e},r){const a=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,a}function Vh(t,e){const r=t.get();if(Array.isArray(e)){for(let a=0;a<e.length;a++)if(e[a]!==r)return!0}else return r!==e}function Tl(t,e,{delay:r=0,transitionOverride:a,type:s}={}){let{transition:u=t.getDefaultTransition(),transitionEnd:n,...i}=t.makeTargetAnimatable(e);const o=t.getValue("willChange");a&&(u=a);const c=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const f in i){const h=t.getValue(f),p=i[f];if(!h||p===void 0||d&&Oh(d,f))continue;const m={delay:r,elapsed:0,...Qn(u||{},f)};if(window.HandoffAppearAnimations){const E=t.getProps()[jc];if(E){const A=window.HandoffAppearAnimations(E,f,h,re);A!==null&&(m.elapsed=A,m.isHandoff=!0)}}let b=!m.isHandoff&&!Vh(h,p);if(m.type==="spring"&&(h.getVelocity()||m.velocity)&&(b=!1),h.animation&&(b=!1),b)continue;h.start(eu(f,h,p,t.shouldReduceMotion&&Yt.has(f)?{type:!1}:m));const x=h.animation;ns(o)&&(o.add(f),x.then(()=>o.remove(f))),c.push(x)}return n&&Promise.all(c).then(()=>{n&&qh(t,n)}),c}function pn(t,e,r={}){const a=ys(t,e,r.custom);let{transition:s=t.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(s=r.transitionOverride);const u=a?()=>Promise.all(Tl(t,a,r)):()=>Promise.resolve(),n=t.variantChildren&&t.variantChildren.size?(o=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=s;return Uh(t,e,c+o,d,f,r)}:()=>Promise.resolve(),{when:i}=s;if(i){const[o,c]=i==="beforeChildren"?[u,n]:[n,u];return o().then(()=>c())}else return Promise.all([u(),n(r.delay)])}function Uh(t,e,r=0,a=0,s=1,u){const n=[],i=(t.variantChildren.size-1)*a,o=s===1?(c=0)=>c*a:(c=0)=>i-c*a;return Array.from(t.variantChildren).sort($h).forEach((c,d)=>{c.notify("AnimationStart",e),n.push(pn(c,e,{...u,delay:r+o(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(n)}function $h(t,e){return t.sortNodePosition(e)}function Hh(t,e,r={}){t.notify("AnimationStart",e);let a;if(Array.isArray(e)){const s=e.map(u=>pn(t,u,r));a=Promise.all(s)}else if(typeof e=="string")a=pn(t,e,r);else{const s=typeof e=="function"?ys(t,e,r.custom):e;a=Promise.all(Tl(t,s,r))}return a.then(()=>t.notify("AnimationComplete",e))}const zh=[...Mn].reverse(),Gh=Mn.length;function Wh(t){return e=>Promise.all(e.map(({animation:r,options:a})=>Hh(t,r,a)))}function Kh(t){let e=Wh(t);const r=Xh();let a=!0;const s=(o,c)=>{const d=ys(t,c);if(d){const{transition:f,transitionEnd:h,...p}=d;o={...o,...p,...h}}return o};function u(o){e=o(t)}function n(o,c){const d=t.getProps(),f=t.getVariantContext(!0)||{},h=[],p=new Set;let m={},b=1/0;for(let E=0;E<Gh;E++){const A=zh[E],y=r[A],g=d[A]!==void 0?d[A]:f[A],v=Qr(g),D=A===c?y.isActive:null;D===!1&&(b=E);let S=g===f[A]&&g!==d[A]&&v;if(S&&a&&t.manuallyAnimateOnMount&&(S=!1),y.protectedKeys={...m},!y.isActive&&D===null||!g&&!y.prevProp||ps(g)||typeof g=="boolean")continue;let q=Yh(y.prevProp,g)||A===c&&y.isActive&&!S&&v||E>b&&v,O=!1;const N=Array.isArray(g)?g:[g];let F=N.reduce(s,{});D===!1&&(F={});const{prevResolvedValues:B={}}=y,w={...B,...F},j=P=>{q=!0,p.has(P)&&(O=!0,p.delete(P)),y.needsAnimating[P]=!0};for(const P in w){const T=F[P],R=B[P];if(m.hasOwnProperty(P))continue;let L=!1;ts(T)&&ts(R)?L=!Xc(T,R):L=T!==R,L?T!==void 0?j(P):p.add(P):T!==void 0&&p.has(P)?j(P):y.protectedKeys[P]=!0}y.prevProp=g,y.prevResolvedValues=F,y.isActive&&(m={...m,...F}),a&&t.blockInitialAnimation&&(q=!1),q&&(!S||O)&&h.push(...N.map(P=>({animation:P,options:{type:A,...o}})))}if(p.size){const E={};p.forEach(A=>{const y=t.getBaseTarget(A);y!==void 0&&(E[A]=y)}),h.push({animation:E})}let x=!!h.length;return a&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(x=!1),a=!1,x?e(h):Promise.resolve()}function i(o,c,d){var f;if(r[o].isActive===c)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(o,c)}),r[o].isActive=c;const h=n(d,o);for(const p in r)r[p].protectedKeys={};return h}return{animateChanges:n,setActive:i,setAnimateFunction:u,getState:()=>r}}function Yh(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Xc(e,t):!1}function kt(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Xh(){return{animate:kt(!0),whileInView:kt(),whileHover:kt(),whileTap:kt(),whileDrag:kt(),whileFocus:kt(),exit:kt()}}class Jh extends jt{constructor(e){super(e),e.animationState||(e.animationState=Kh(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),ps(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let Zh=0;class Qh extends jt{constructor(){super(...arguments),this.id=Zh++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r,custom:a}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const u=this.node.animationState.setActive("exit",!e,{custom:a??this.node.getProps().custom});r&&!e&&u.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const ep={animation:{Feature:Jh},exit:{Feature:Qh}},Uu=(t,e)=>Math.abs(t-e);function tp(t,e){const r=Uu(t.x,e.x),a=Uu(t.y,e.y);return Math.sqrt(r**2+a**2)}class jl{constructor(e,r,{transformPagePoint:a,contextWindow:s,dragSnapToOrigin:u=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=_s(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=tp(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:m}=f,{timestamp:b}=Ae;this.history.push({...m,timestamp:b});const{onStart:x,onMove:E}=this.handlers;h||(x&&x(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=qs(h,this.transformPagePoint),re.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:m,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=_s(f.type==="pointercancel"?this.lastMoveEventInfo:qs(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,x),m&&m(f,x)},!zc(e))return;this.dragSnapToOrigin=u,this.handlers=r,this.transformPagePoint=a,this.contextWindow=s||window;const n=bs(e),i=qs(n,this.transformPagePoint),{point:o}=i,{timestamp:c}=Ae;this.history=[{...o,timestamp:c}];const{onSessionStart:d}=r;d&&d(e,_s(i,this.history)),this.removeListeners=Ct(mt(this.contextWindow,"pointermove",this.handlePointerMove),mt(this.contextWindow,"pointerup",this.handlePointerUp),mt(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),bt(this.updatePoint)}}function qs(t,e){return e?{point:e(t.point)}:t}function $u(t,e){return{x:t.x-e.x,y:t.y-e.y}}function _s({point:t},e){return{point:t,delta:$u(t,kl(e)),offset:$u(t,rp(e)),velocity:ap(e,.1)}}function rp(t){return t[0]}function kl(t){return t[t.length-1]}function ap(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,a=null;const s=kl(t);for(;r>=0&&(a=t[r],!(s.timestamp-a.timestamp>Gt(e)));)r--;if(!a)return{x:0,y:0};const u=gt(s.timestamp-a.timestamp);if(u===0)return{x:0,y:0};const n={x:(s.x-a.x)/u,y:(s.y-a.y)/u};return n.x===1/0&&(n.x=0),n.y===1/0&&(n.y=0),n}function Ve(t){return t.max-t.min}function mn(t,e=0,r=.01){return Math.abs(t-e)<=r}function Hu(t,e,r,a=.5){t.origin=a,t.originPoint=ie(e.min,e.max,t.origin),t.scale=Ve(r)/Ve(e),(mn(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=ie(r.min,r.max,t.origin)-t.originPoint,(mn(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Wr(t,e,r,a){Hu(t.x,e.x,r.x,a?a.originX:void 0),Hu(t.y,e.y,r.y,a?a.originY:void 0)}function zu(t,e,r){t.min=r.min+e.min,t.max=t.min+Ve(e)}function sp(t,e,r){zu(t.x,e.x,r.x),zu(t.y,e.y,r.y)}function Gu(t,e,r){t.min=e.min-r.min,t.max=t.min+Ve(e)}function Kr(t,e,r){Gu(t.x,e.x,r.x),Gu(t.y,e.y,r.y)}function np(t,{min:e,max:r},a){return e!==void 0&&t<e?t=a?ie(e,t,a.min):Math.max(t,e):r!==void 0&&t>r&&(t=a?ie(r,t,a.max):Math.min(t,r)),t}function Wu(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function up(t,{top:e,left:r,bottom:a,right:s}){return{x:Wu(t.x,r,s),y:Wu(t.y,e,a)}}function Ku(t,e){let r=e.min-t.min,a=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,a]=[a,r]),{min:r,max:a}}function ip(t,e){return{x:Ku(t.x,e.x),y:Ku(t.y,e.y)}}function op(t,e){let r=.5;const a=Ve(t),s=Ve(e);return s>a?r=ta(e.min,e.max-a,t.min):a>s&&(r=ta(t.min,t.max-s,e.min)),St(0,1,r)}function cp(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const gn=.35;function lp(t=gn){return t===!1?t=0:t===!0&&(t=gn),{x:Yu(t,"left","right"),y:Yu(t,"top","bottom")}}function Yu(t,e,r){return{min:Xu(t,e),max:Xu(t,r)}}function Xu(t,e){return typeof t=="number"?t:t[e]||0}const Ju=()=>({translate:0,scale:1,origin:0,originPoint:0}),ir=()=>({x:Ju(),y:Ju()}),Zu=()=>({min:0,max:0}),pe=()=>({x:Zu(),y:Zu()});function $e(t){return[t("x"),t("y")]}function Nl({top:t,left:e,right:r,bottom:a}){return{x:{min:e,max:r},y:{min:t,max:a}}}function dp({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function fp(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),a=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:a.y,right:a.x}}function Ms(t){return t===void 0||t===1}function bn({scale:t,scaleX:e,scaleY:r}){return!Ms(t)||!Ms(e)||!Ms(r)}function _t(t){return bn(t)||Pl(t)||t.z||t.rotate||t.rotateX||t.rotateY}function Pl(t){return Qu(t.x)||Qu(t.y)}function Qu(t){return t&&t!=="0%"}function us(t,e,r){const a=t-r,s=e*a;return r+s}function ei(t,e,r,a,s){return s!==void 0&&(t=us(t,s,a)),us(t,r,a)+e}function yn(t,e=0,r=1,a,s){t.min=ei(t.min,e,r,a,s),t.max=ei(t.max,e,r,a,s)}function Bl(t,{x:e,y:r}){yn(t.x,e.translate,e.scale,e.originPoint),yn(t.y,r.translate,r.scale,r.originPoint)}function hp(t,e,r,a=!1){const s=r.length;if(!s)return;e.x=e.y=1;let u,n;for(let i=0;i<s;i++){u=r[i],n=u.projectionDelta;const o=u.instance;o&&o.style&&o.style.display==="contents"||(a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&or(t,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),n&&(e.x*=n.x.scale,e.y*=n.y.scale,Bl(t,n)),a&&_t(u.latestValues)&&or(t,u.latestValues))}e.x=ti(e.x),e.y=ti(e.y)}function ti(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function At(t,e){t.min=t.min+e,t.max=t.max+e}function ri(t,e,[r,a,s]){const u=e[s]!==void 0?e[s]:.5,n=ie(t.min,t.max,u);yn(t,e[r],e[a],n,e.scale)}const pp=["x","scaleX","originX"],mp=["y","scaleY","originY"];function or(t,e){ri(t.x,e,pp),ri(t.y,e,mp)}function Fl(t,e){return Nl(fp(t.getBoundingClientRect(),e))}function gp(t,e,r){const a=Fl(t,r),{scroll:s}=e;return s&&(At(a.x,s.offset.x),At(a.y,s.offset.y)),a}const Ll=({current:t})=>t?t.ownerDocument.defaultView:null,bp=new WeakMap;class yp{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pe(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(bs(d,"page").point)},u=(d,f)=>{const{drag:h,dragPropagation:p,onDragStart:m}=this.getProps();if(h&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Wc(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),$e(x=>{let E=this.getAxisMotionValue(x).get()||0;if(at.test(E)){const{projection:A}=this.visualElement;if(A&&A.layout){const y=A.layout.layoutBox[x];y&&(E=Ve(y)*(parseFloat(E)/100))}}this.originPoint[x]=E}),m&&re.update(()=>m(d,f),!1,!0);const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},n=(d,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:m,onDrag:b}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:x}=f;if(p&&this.currentDirection===null){this.currentDirection=vp(x),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",f.point,x),this.updateAxis("y",f.point,x),this.visualElement.render(),b&&b(d,f)},i=(d,f)=>this.stop(d,f),o=()=>$e(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new jl(e,{onSessionStart:s,onStart:u,onMove:n,onSessionEnd:i,resumeAnimation:o},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:Ll(this.visualElement)})}stop(e,r){const a=this.isDragging;if(this.cancel(),!a)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:u}=this.getProps();u&&re.update(()=>u(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,a){const{drag:s}=this.getProps();if(!a||!Aa(e,s,this.currentDirection))return;const u=this.getAxisMotionValue(e);let n=this.originPoint[e]+a[e];this.constraints&&this.constraints[e]&&(n=np(n,this.constraints[e],this.elastic[e])),u.set(n)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:a}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,u=this.constraints;r&&nr(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=up(s.layoutBox,r):this.constraints=!1,this.elastic=lp(a),u!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&$e(n=>{this.getAxisMotionValue(n)&&(this.constraints[n]=cp(s.layoutBox[n],this.constraints[n]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!nr(e))return!1;const a=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const u=gp(a,s.root,this.visualElement.getTransformPagePoint());let n=ip(s.layout.layoutBox,u);if(r){const i=r(dp(n));this.hasMutatedConstraints=!!i,i&&(n=Nl(i))}return n}startAnimation(e){const{drag:r,dragMomentum:a,dragElastic:s,dragTransition:u,dragSnapToOrigin:n,onDragTransitionEnd:i}=this.getProps(),o=this.constraints||{},c=$e(d=>{if(!Aa(d,r,this.currentDirection))return;let f=o&&o[d]||{};n&&(f={min:0,max:0});const h=s?200:1e6,p=s?40:1e7,m={type:"inertia",velocity:a?e[d]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...u,...f};return this.startAxisValueAnimation(d,m)});return Promise.all(c).then(i)}startAxisValueAnimation(e,r){const a=this.getAxisMotionValue(e);return a.start(eu(e,a,0,r))}stopAnimation(){$e(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){$e(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r="_drag"+e.toUpperCase(),a=this.visualElement.getProps(),s=a[r];return s||this.visualElement.getValue(e,(a.initial?a.initial[e]:void 0)||0)}snapToCursor(e){$e(r=>{const{drag:a}=this.getProps();if(!Aa(r,a,this.currentDirection))return;const{projection:s}=this.visualElement,u=this.getAxisMotionValue(r);if(s&&s.layout){const{min:n,max:i}=s.layout.layoutBox[r];u.set(e[r]-ie(n,i,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:a}=this.visualElement;if(!nr(r)||!a||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};$e(n=>{const i=this.getAxisMotionValue(n);if(i){const o=i.get();s[n]=op({min:o,max:o},this.constraints[n])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),$e(n=>{if(!Aa(n,e,null))return;const i=this.getAxisMotionValue(n),{min:o,max:c}=this.constraints[n];i.set(ie(o,c,s[n]))})}addListeners(){if(!this.visualElement.current)return;bp.set(this.visualElement,this);const e=this.visualElement.current,r=mt(e,"pointerdown",o=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(o)}),a=()=>{const{dragConstraints:o}=this.getProps();nr(o)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,u=s.addEventListener("measure",a);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),a();const n=pt(window,"resize",()=>this.scalePositionWithinConstraints()),i=s.addEventListener("didUpdate",({delta:o,hasLayoutChanged:c})=>{this.isDragging&&c&&($e(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=o[d].translate,f.set(f.get()+o[d].translate))}),this.visualElement.render())});return()=>{n(),r(),u(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:a=!1,dragPropagation:s=!1,dragConstraints:u=!1,dragElastic:n=gn,dragMomentum:i=!0}=e;return{...e,drag:r,dragDirectionLock:a,dragPropagation:s,dragConstraints:u,dragElastic:n,dragMomentum:i}}}function Aa(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function vp(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class xp extends jt{constructor(e){super(e),this.removeGroupControls=le,this.removeListeners=le,this.controls=new yp(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||le}unmount(){this.removeGroupControls(),this.removeListeners()}}const ai=t=>(e,r)=>{t&&re.update(()=>t(e,r))};class Dp extends jt{constructor(){super(...arguments),this.removePointerDownListener=le}onPointerDown(e){this.session=new jl(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ll(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:a,onPanEnd:s}=this.node.getProps();return{onSessionStart:ai(e),onStart:ai(r),onMove:a,onEnd:(u,n)=>{delete this.session,s&&re.update(()=>s(u,n))}}}mount(){this.removePointerDownListener=mt(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function wp(){const t=C.useContext(fs);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:a}=t,s=C.useId();return C.useEffect(()=>a(s),[]),!e&&r?[!1,()=>r&&r(s)]:[!0]}const Ga={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function si(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Nr={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(V.test(t))t=parseFloat(t);else return t;const r=si(t,e.target.x),a=si(t,e.target.y);return`${r}% ${a}%`}},Ap={correct:(t,{treeScale:e,projectionDelta:r})=>{const a=t,s=Et.parse(t);if(s.length>5)return a;const u=Et.createTransformer(t),n=typeof s[0]!="number"?1:0,i=r.x.scale*e.x,o=r.y.scale*e.y;s[0+n]/=i,s[1+n]/=o;const c=ie(i,o,.5);return typeof s[2+n]=="number"&&(s[2+n]/=c),typeof s[3+n]=="number"&&(s[3+n]/=c),u(s)}};class Cp extends se.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:a,layoutId:s}=this.props,{projection:u}=e;N0(Sp),u&&(r.group&&r.group.add(u),a&&a.register&&s&&a.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Ga.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:a,drag:s,isPresent:u}=this.props,n=a.projection;return n&&(n.isPresent=u,s||e.layoutDependency!==r||r===void 0?n.willUpdate():this.safeToRemove(),e.isPresent!==u&&(u?n.promote():n.relegate()||re.postRender(()=>{const i=n.getStack();(!i||!i.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:a}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),a&&a.deregister&&a.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Rl(t){const[e,r]=wp(),a=C.useContext(On);return se.createElement(Cp,{...t,layoutGroup:a,switchLayoutGroup:C.useContext(Nc),isPresent:e,safeToRemove:r})}const Sp={borderRadius:{...Nr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Nr,borderTopRightRadius:Nr,borderBottomLeftRadius:Nr,borderBottomRightRadius:Nr,boxShadow:Ap},ql=["TopLeft","TopRight","BottomLeft","BottomRight"],Ep=ql.length,ni=t=>typeof t=="string"?parseFloat(t):t,ui=t=>typeof t=="number"||V.test(t);function Tp(t,e,r,a,s,u){s?(t.opacity=ie(0,r.opacity!==void 0?r.opacity:1,jp(a)),t.opacityExit=ie(e.opacity!==void 0?e.opacity:1,0,kp(a))):u&&(t.opacity=ie(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,a));for(let n=0;n<Ep;n++){const i=`border${ql[n]}Radius`;let o=ii(e,i),c=ii(r,i);if(o===void 0&&c===void 0)continue;o||(o=0),c||(c=0),o===0||c===0||ui(o)===ui(c)?(t[i]=Math.max(ie(ni(o),ni(c),a),0),(at.test(c)||at.test(o))&&(t[i]+="%")):t[i]=c}(e.rotate||r.rotate)&&(t.rotate=ie(e.rotate||0,r.rotate||0,a))}function ii(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const jp=_l(0,.5,nl),kp=_l(.5,.95,le);function _l(t,e,r){return a=>a<t?0:a>e?1:r(ta(t,e,a))}function oi(t,e){t.min=e.min,t.max=e.max}function Ue(t,e){oi(t.x,e.x),oi(t.y,e.y)}function ci(t,e,r,a,s){return t-=e,t=us(t,1/r,a),s!==void 0&&(t=us(t,1/s,a)),t}function Np(t,e=0,r=1,a=.5,s,u=t,n=t){if(at.test(e)&&(e=parseFloat(e),e=ie(n.min,n.max,e/100)-n.min),typeof e!="number")return;let i=ie(u.min,u.max,a);t===u&&(i-=e),t.min=ci(t.min,e,r,i,s),t.max=ci(t.max,e,r,i,s)}function li(t,e,[r,a,s],u,n){Np(t,e[r],e[a],e[s],e.scale,u,n)}const Pp=["x","scaleX","originX"],Bp=["y","scaleY","originY"];function di(t,e,r,a){li(t.x,e,Pp,r?r.x:void 0,a?a.x:void 0),li(t.y,e,Bp,r?r.y:void 0,a?a.y:void 0)}function fi(t){return t.translate===0&&t.scale===1}function Ml(t){return fi(t.x)&&fi(t.y)}function Fp(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function Il(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function hi(t){return Ve(t.x)/Ve(t.y)}class Lp{constructor(){this.members=[]}add(e){tu(this.members,e),e.scheduleRender()}remove(e){if(ru(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(s=>e===s);if(r===0)return!1;let a;for(let s=r;s>=0;s--){const u=this.members[s];if(u.isPresent!==!1){a=u;break}}return a?(this.promote(a),!0):!1}promote(e,r){const a=this.lead;if(e!==a&&(this.prevLead=a,this.lead=e,e.show(),a)){a.instance&&a.scheduleRender(),e.scheduleRender(),e.resumeFrom=a,r&&(e.resumeFrom.preserveOpacity=!0),a.snapshot&&(e.snapshot=a.snapshot,e.snapshot.latestValues=a.animationValues||a.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:a}=e;r.onExitComplete&&r.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function pi(t,e,r){let a="";const s=t.x.translate/e.x,u=t.y.translate/e.y;if((s||u)&&(a=`translate3d(${s}px, ${u}px, 0) `),(e.x!==1||e.y!==1)&&(a+=`scale(${1/e.x}, ${1/e.y}) `),r){const{rotate:o,rotateX:c,rotateY:d}=r;o&&(a+=`rotate(${o}deg) `),c&&(a+=`rotateX(${c}deg) `),d&&(a+=`rotateY(${d}deg) `)}const n=t.x.scale*e.x,i=t.y.scale*e.y;return(n!==1||i!==1)&&(a+=`scale(${n}, ${i})`),a||"none"}const Rp=(t,e)=>t.depth-e.depth;class qp{constructor(){this.children=[],this.isDirty=!1}add(e){tu(this.children,e),this.isDirty=!0}remove(e){ru(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Rp),this.isDirty=!1,this.children.forEach(e)}}function _p(t,e){const r=performance.now(),a=({timestamp:s})=>{const u=s-r;u>=e&&(bt(a),t(u-e))};return re.read(a,!0),()=>bt(a)}function Mp(t){window.MotionDebug&&window.MotionDebug.record(t)}function Ip(t){return t instanceof SVGElement&&t.tagName!=="svg"}function Op(t,e,r){const a=qe(t)?t:mr(t);return a.start(eu("",a,e,r)),a.animation}const mi=["","X","Y","Z"],Vp={visibility:"hidden"},gi=1e3;let Up=0;const Mt={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Ol({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:a,resetTransform:s}){return class{constructor(n={},i=e==null?void 0:e()){this.id=Up++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Mt.totalNodes=Mt.resolvedTargetDeltas=Mt.recalculatedProjection=0,this.nodes.forEach(zp),this.nodes.forEach(Xp),this.nodes.forEach(Jp),this.nodes.forEach(Gp),Mp(Mt)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=n,this.root=i?i.root||i:this,this.path=i?[...i.path,i]:[],this.parent=i,this.depth=i?i.depth+1:0;for(let o=0;o<this.path.length;o++)this.path[o].shouldResetTransform=!0;this.root===this&&(this.nodes=new qp)}addEventListener(n,i){return this.eventHandlers.has(n)||this.eventHandlers.set(n,new au),this.eventHandlers.get(n).add(i)}notifyListeners(n,...i){const o=this.eventHandlers.get(n);o&&o.notify(...i)}hasListeners(n){return this.eventHandlers.has(n)}mount(n,i=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Ip(n),this.instance=n;const{layoutId:o,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(n),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),i&&(c||o)&&(this.isLayoutDirty=!0),t){let f;const h=()=>this.root.updateBlockedByResize=!1;t(n,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=_p(h,250),Ga.hasAnimatedSinceResize&&(Ga.hasAnimatedSinceResize=!1,this.nodes.forEach(yi))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&d&&(o||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||d.getDefaultTransition()||r2,{onLayoutAnimationStart:x,onLayoutAnimationComplete:E}=d.getProps(),A=!this.targetLayout||!Il(this.targetLayout,m)||p,y=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||h&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,y);const g={...Qn(b,"layout"),onPlay:x,onComplete:E};(d.shouldReduceMotion||this.options.layoutRoot)&&(g.delay=0,g.type=!1),this.startAnimation(g)}else h||yi(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const n=this.getStack();n&&n.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,bt(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Zp),this.animationId++)}getTransformTemplate(){const{visualElement:n}=this.options;return n&&n.getProps().transformTemplate}willUpdate(n=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:i,layout:o}=this.options;if(i===void 0&&!o)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),n&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(bi);return}this.isUpdating||this.nodes.forEach(Kp),this.isUpdating=!1,this.nodes.forEach(Yp),this.nodes.forEach($p),this.nodes.forEach(Hp),this.clearAllSnapshots();const i=performance.now();Ae.delta=St(0,1e3/60,i-Ae.timestamp),Ae.timestamp=i,Ae.isProcessing=!0,ks.update.process(Ae),ks.preRender.process(Ae),ks.render.process(Ae),Ae.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Wp),this.sharedNodes.forEach(Qp)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,re.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){re.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let o=0;o<this.path.length;o++)this.path[o].updateScroll();const n=this.layout;this.layout=this.measure(!1),this.layoutCorrected=pe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:i}=this.options;i&&i.notify("LayoutMeasure",this.layout.layoutBox,n?n.layoutBox:void 0)}updateScroll(n="measure"){let i=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===n&&(i=!1),i&&(this.scroll={animationId:this.root.animationId,phase:n,isRoot:a(this.instance),offset:r(this.instance)})}resetTransform(){if(!s)return;const n=this.isLayoutDirty||this.shouldResetTransform,i=this.projectionDelta&&!Ml(this.projectionDelta),o=this.getTransformTemplate(),c=o?o(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;n&&(i||_t(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(n=!0){const i=this.measurePageBox();let o=this.removeElementScroll(i);return n&&(o=this.removeTransform(o)),a2(o),{animationId:this.root.animationId,measuredBox:i,layoutBox:o,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:n}=this.options;if(!n)return pe();const i=n.measureViewportBox(),{scroll:o}=this.root;return o&&(At(i.x,o.offset.x),At(i.y,o.offset.y)),i}removeElementScroll(n){const i=pe();Ue(i,n);for(let o=0;o<this.path.length;o++){const c=this.path[o],{scroll:d,options:f}=c;if(c!==this.root&&d&&f.layoutScroll){if(d.isRoot){Ue(i,n);const{scroll:h}=this.root;h&&(At(i.x,-h.offset.x),At(i.y,-h.offset.y))}At(i.x,d.offset.x),At(i.y,d.offset.y)}}return i}applyTransform(n,i=!1){const o=pe();Ue(o,n);for(let c=0;c<this.path.length;c++){const d=this.path[c];!i&&d.options.layoutScroll&&d.scroll&&d!==d.root&&or(o,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),_t(d.latestValues)&&or(o,d.latestValues)}return _t(this.latestValues)&&or(o,this.latestValues),o}removeTransform(n){const i=pe();Ue(i,n);for(let o=0;o<this.path.length;o++){const c=this.path[o];if(!c.instance||!_t(c.latestValues))continue;bn(c.latestValues)&&c.updateSnapshot();const d=pe(),f=c.measurePageBox();Ue(d,f),di(i,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return _t(this.latestValues)&&di(i,this.latestValues),i}setTargetDelta(n){this.targetDelta=n,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(n){this.options={...this.options,...n,crossfade:n.crossfade!==void 0?n.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ae.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(n=!1){var i;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==o;if(!(n||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Ae.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pe(),this.relativeTargetOrigin=pe(),Kr(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Ue(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=pe(),this.targetWithTransforms=pe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),sp(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ue(this.target,this.layout.layoutBox),Bl(this.target,this.targetDelta)):Ue(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pe(),this.relativeTargetOrigin=pe(),Kr(this.relativeTargetOrigin,this.target,p.target),Ue(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Mt.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||bn(this.parent.latestValues)||Pl(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var n;const i=this.getLead(),o=!!this.resumingFrom||this!==i;let c=!0;if((this.isProjectionDirty||!((n=this.parent)===null||n===void 0)&&n.isProjectionDirty)&&(c=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ae.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Ue(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;hp(this.layoutCorrected,this.treeScale,this.path,o),i.layout&&!i.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(i.target=i.layout.layoutBox);const{target:m}=i;if(!m){this.projectionTransform&&(this.projectionDelta=ir(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ir(),this.projectionDeltaWithTransform=ir());const b=this.projectionTransform;Wr(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=pi(this.projectionDelta,this.treeScale),(this.projectionTransform!==b||this.treeScale.x!==h||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),Mt.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(n=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),n){const i=this.getStack();i&&i.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(n,i=!1){const o=this.snapshot,c=o?o.latestValues:{},d={...this.latestValues},f=ir();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!i;const h=pe(),p=o?o.source:void 0,m=this.layout?this.layout.source:void 0,b=p!==m,x=this.getStack(),E=!x||x.members.length<=1,A=!!(b&&!E&&this.options.crossfade===!0&&!this.path.some(t2));this.animationProgress=0;let y;this.mixTargetDelta=g=>{const v=g/1e3;vi(f.x,n.x,v),vi(f.y,n.y,v),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Kr(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),e2(this.relativeTarget,this.relativeTargetOrigin,h,v),y&&Fp(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=pe()),Ue(y,this.relativeTarget)),b&&(this.animationValues=d,Tp(d,c,this.latestValues,v,A,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=v},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(n){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(bt(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=re.update(()=>{Ga.hasAnimatedSinceResize=!0,this.currentAnimation=Op(0,gi,{...n,onUpdate:i=>{this.mixTargetDelta(i),n.onUpdate&&n.onUpdate(i)},onComplete:()=>{n.onComplete&&n.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const n=this.getStack();n&&n.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(gi),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const n=this.getLead();let{targetWithTransforms:i,target:o,layout:c,latestValues:d}=n;if(!(!i||!o||!c)){if(this!==n&&this.layout&&c&&Vl(this.options.animationType,this.layout.layoutBox,c.layoutBox)){o=this.target||pe();const f=Ve(this.layout.layoutBox.x);o.x.min=n.target.x.min,o.x.max=o.x.min+f;const h=Ve(this.layout.layoutBox.y);o.y.min=n.target.y.min,o.y.max=o.y.min+h}Ue(i,o),or(i,d),Wr(this.projectionDeltaWithTransform,this.layoutCorrected,i,d)}}registerSharedNode(n,i){this.sharedNodes.has(n)||this.sharedNodes.set(n,new Lp),this.sharedNodes.get(n).add(i);const c=i.options.initialPromotionConfig;i.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(i):void 0})}isLead(){const n=this.getStack();return n?n.lead===this:!0}getLead(){var n;const{layoutId:i}=this.options;return i?((n=this.getStack())===null||n===void 0?void 0:n.lead)||this:this}getPrevLead(){var n;const{layoutId:i}=this.options;return i?(n=this.getStack())===null||n===void 0?void 0:n.prevLead:void 0}getStack(){const{layoutId:n}=this.options;if(n)return this.root.sharedNodes.get(n)}promote({needsReset:n,transition:i,preserveFollowOpacity:o}={}){const c=this.getStack();c&&c.promote(this,o),n&&(this.projectionDelta=void 0,this.needsReset=!0),i&&this.setOptions({transition:i})}relegate(){const n=this.getStack();return n?n.relegate(this):!1}resetRotation(){const{visualElement:n}=this.options;if(!n)return;let i=!1;const{latestValues:o}=n;if((o.rotate||o.rotateX||o.rotateY||o.rotateZ)&&(i=!0),!i)return;const c={};for(let d=0;d<mi.length;d++){const f="rotate"+mi[d];o[f]&&(c[f]=o[f],n.setStaticValue(f,0))}n.render();for(const d in c)n.setStaticValue(d,c[d]);n.scheduleRender()}getProjectionStyles(n){var i,o;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Vp;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=za(n==null?void 0:n.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=za(n==null?void 0:n.pointerEvents)||""),this.hasProjected&&!_t(this.latestValues)&&(b.transform=d?d({},""):"none",this.hasProjected=!1),b}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=pi(this.projectionDeltaWithTransform,this.treeScale,h),d&&(c.transform=d(h,c.transform));const{x:p,y:m}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,f.animationValues?c.opacity=f===this?(o=(i=h.opacity)!==null&&i!==void 0?i:this.latestValues.opacity)!==null&&o!==void 0?o:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const b in Qa){if(h[b]===void 0)continue;const{correct:x,applyTo:E}=Qa[b],A=c.transform==="none"?h[b]:x(h[b],f);if(E){const y=E.length;for(let g=0;g<y;g++)c[E[g]]=A}else c[b]=A}return this.options.layoutId&&(c.pointerEvents=f===this?za(n==null?void 0:n.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(n=>{var i;return(i=n.currentAnimation)===null||i===void 0?void 0:i.stop()}),this.root.nodes.forEach(bi),this.root.sharedNodes.clear()}}}function $p(t){t.updateLayout()}function Hp(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:s}=t.layout,{animationType:u}=t.options,n=r.source!==t.layout.source;u==="size"?$e(f=>{const h=n?r.measuredBox[f]:r.layoutBox[f],p=Ve(h);h.min=a[f].min,h.max=h.min+p}):Vl(u,r.layoutBox,a)&&$e(f=>{const h=n?r.measuredBox[f]:r.layoutBox[f],p=Ve(a[f]);h.max=h.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+p)});const i=ir();Wr(i,a,r.layoutBox);const o=ir();n?Wr(o,t.applyTransform(s,!0),r.measuredBox):Wr(o,a,r.layoutBox);const c=!Ml(i);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const m=pe();Kr(m,r.layoutBox,h.layoutBox);const b=pe();Kr(b,a,p.layoutBox),Il(m,b)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=m,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:a,snapshot:r,delta:o,layoutDelta:i,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:a}=t.options;a&&a()}t.options.transition=void 0}function zp(t){Mt.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Gp(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Wp(t){t.clearSnapshot()}function bi(t){t.clearMeasurements()}function Kp(t){t.isLayoutDirty=!1}function Yp(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function yi(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Xp(t){t.resolveTargetDelta()}function Jp(t){t.calcProjection()}function Zp(t){t.resetRotation()}function Qp(t){t.removeLeadSnapshot()}function vi(t,e,r){t.translate=ie(e.translate,0,r),t.scale=ie(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function xi(t,e,r,a){t.min=ie(e.min,r.min,a),t.max=ie(e.max,r.max,a)}function e2(t,e,r,a){xi(t.x,e.x,r.x,a),xi(t.y,e.y,r.y,a)}function t2(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const r2={duration:.45,ease:[.4,0,.1,1]},Di=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),wi=Di("applewebkit/")&&!Di("chrome/")?Math.round:le;function Ai(t){t.min=wi(t.min),t.max=wi(t.max)}function a2(t){Ai(t.x),Ai(t.y)}function Vl(t,e,r){return t==="position"||t==="preserve-aspect"&&!mn(hi(e),hi(r),.2)}const s2=Ol({attachResizeListener:(t,e)=>pt(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Is={current:void 0},Ul=Ol({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Is.current){const t=new s2({});t.mount(window),t.setOptions({layoutScroll:!0}),Is.current=t}return Is.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),n2={pan:{Feature:Dp},drag:{Feature:xp,ProjectionNode:Ul,MeasureLayout:Rl}},u2=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function i2(t){const e=u2.exec(t);if(!e)return[,];const[,r,a]=e;return[r,a]}function vn(t,e,r=1){const[a,s]=i2(t);if(!a)return;const u=window.getComputedStyle(e).getPropertyValue(a);if(u){const n=u.trim();return Cl(n)?parseFloat(n):n}else return on(s)?vn(s,e,r+1):s}function o2(t,{...e},r){const a=t.current;if(!(a instanceof Element))return{target:e,transitionEnd:r};r&&(r={...r}),t.values.forEach(s=>{const u=s.get();if(!on(u))return;const n=vn(u,a);n&&s.set(n)});for(const s in e){const u=e[s];if(!on(u))continue;const n=vn(u,a);n&&(e[s]=n,r||(r={}),r[s]===void 0&&(r[s]=u))}return{target:e,transitionEnd:r}}const c2=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),$l=t=>c2.has(t),l2=t=>Object.keys(t).some($l),Ci=t=>t===Xt||t===V,Si=(t,e)=>parseFloat(t.split(", ")[e]),Ei=(t,e)=>(r,{transform:a})=>{if(a==="none"||!a)return 0;const s=a.match(/^matrix3d\((.+)\)$/);if(s)return Si(s[1],e);{const u=a.match(/^matrix\((.+)\)$/);return u?Si(u[1],t):0}},d2=new Set(["x","y","z"]),f2=ua.filter(t=>!d2.has(t));function h2(t){const e=[];return f2.forEach(r=>{const a=t.getValue(r);a!==void 0&&(e.push([r,a.get()]),a.set(r.startsWith("scale")?1:0))}),e.length&&t.render(),e}const gr={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Ei(4,13),y:Ei(5,14)};gr.translateX=gr.x;gr.translateY=gr.y;const p2=(t,e,r)=>{const a=e.measureViewportBox(),s=e.current,u=getComputedStyle(s),{display:n}=u,i={};n==="none"&&e.setStaticValue("display",t.display||"block"),r.forEach(c=>{i[c]=gr[c](a,u)}),e.render();const o=e.measureViewportBox();return r.forEach(c=>{const d=e.getValue(c);d&&d.jump(i[c]),t[c]=gr[c](o,u)}),t},m2=(t,e,r={},a={})=>{e={...e},a={...a};const s=Object.keys(e).filter($l);let u=[],n=!1;const i=[];if(s.forEach(o=>{const c=t.getValue(o);if(!t.hasValue(o))return;let d=r[o],f=kr(d);const h=e[o];let p;if(ts(h)){const m=h.length,b=h[0]===null?1:0;d=h[b],f=kr(d);for(let x=b;x<m&&h[x]!==null;x++)p?Kn(kr(h[x])===p):p=kr(h[x])}else p=kr(h);if(f!==p)if(Ci(f)&&Ci(p)){const m=c.get();typeof m=="string"&&c.set(parseFloat(m)),typeof h=="string"?e[o]=parseFloat(h):Array.isArray(h)&&p===V&&(e[o]=h.map(parseFloat))}else f!=null&&f.transform&&(p!=null&&p.transform)&&(d===0||h===0)?d===0?c.set(p.transform(d)):e[o]=f.transform(h):(n||(u=h2(t),n=!0),i.push(o),a[o]=a[o]!==void 0?a[o]:e[o],c.jump(h))}),i.length){const o=i.indexOf("height")>=0?window.pageYOffset:null,c=p2(e,t,i);return u.length&&u.forEach(([d,f])=>{t.getValue(d).set(f)}),t.render(),hs&&o!==null&&window.scrollTo({top:o}),{target:c,transitionEnd:a}}else return{target:e,transitionEnd:a}};function g2(t,e,r,a){return l2(e)?m2(t,e,r,a):{target:e,transitionEnd:a}}const b2=(t,e,r,a)=>{const s=o2(t,e,a);return e=s.target,a=s.transitionEnd,g2(t,e,r,a)},xn={current:null},Hl={current:!1};function y2(){if(Hl.current=!0,!!hs)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>xn.current=t.matches;t.addListener(e),e()}else xn.current=!1}function v2(t,e,r){const{willChange:a}=e;for(const s in e){const u=e[s],n=r[s];if(qe(u))t.addValue(s,u),ns(a)&&a.add(s);else if(qe(n))t.addValue(s,mr(u,{owner:t})),ns(a)&&a.remove(s);else if(n!==u)if(t.hasValue(s)){const i=t.getValue(s);!i.hasAnimated&&i.set(u)}else{const i=t.getStaticValue(s);t.addValue(s,mr(i!==void 0?i:u,{owner:t}))}}for(const s in r)e[s]===void 0&&t.removeValue(s);return e}const Ti=new WeakMap,zl=Object.keys(ea),x2=zl.length,ji=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],D2=In.length;class w2{constructor({parent:e,props:r,presenceContext:a,reducedMotionConfig:s,visualState:u},n={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>re.render(this.render,!1,!0);const{latestValues:i,renderState:o}=u;this.latestValues=i,this.baseTarget={...i},this.initialValues=r.initial?{...i}:{},this.renderState=o,this.parent=e,this.props=r,this.presenceContext=a,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=n,this.isControllingVariants=ms(r),this.isVariantNode=kc(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(r,{});for(const f in d){const h=d[f];i[f]!==void 0&&qe(h)&&(h.set(i[f],!1),ns(c)&&c.add(f))}}scrapeMotionValuesFromProps(e,r){return{}}mount(e){this.current=e,Ti.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,a)=>this.bindToMotionValue(a,r)),Hl.current||y2(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xn.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Ti.delete(this.current),this.projection&&this.projection.unmount(),bt(this.notifyUpdate),bt(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,r){const a=Yt.has(e),s=r.on("change",n=>{this.latestValues[e]=n,this.props.onUpdate&&re.update(this.notifyUpdate,!1,!0),a&&this.projection&&(this.projection.isTransformDirty=!0)}),u=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),u()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...r},a,s,u){let n,i;for(let o=0;o<x2;o++){const c=zl[o],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:p}=ea[c];h&&(n=h),d(r)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),p&&(i=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&n){this.projection=new n(this.latestValues,this.parent&&this.parent.projection);const{layoutId:o,layout:c,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:p}=r;this.projection.setOptions({layoutId:o,layout:c,alwaysMeasureLayout:!!d||f&&nr(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:u,layoutScroll:h,layoutRoot:p})}return i}updateFeatures(){for(const e in this.features){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}makeTargetAnimatable(e,r=!0){return this.makeTargetAnimatableFromInstance(e,this.props,r)}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let a=0;a<ji.length;a++){const s=ji[a];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const u=e["on"+s];u&&(this.propEventSubscriptions[s]=this.on(s,u))}this.prevMotionValues=v2(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const a=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(a.initial=this.props.initial),a}const r={};for(let a=0;a<D2;a++){const s=In[a],u=this.props[s];(Qr(u)||u===!1)&&(r[s]=u)}return r}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){r!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,r)),this.values.set(e,r),this.latestValues[e]=r.get()}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let a=this.values.get(e);return a===void 0&&r!==void 0&&(a=mr(r,{owner:this}),this.addValue(e,a)),a}readValue(e){var r;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:a}=this.props,s=typeof a=="string"||typeof a=="object"?(r=Wn(this.props,a))===null||r===void 0?void 0:r[e]:void 0;if(a&&s!==void 0)return s;const u=this.getBaseTargetFromProps(this.props,e);return u!==void 0&&!qe(u)?u:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new au),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class Gl extends w2{sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:a}){delete r[e],delete a[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:r,...a},{transformValues:s},u){let n=Ih(a,e||{},this);if(s&&(r&&(r=s(r)),a&&(a=s(a)),n&&(n=s(n))),u){_h(this,a,n);const i=b2(this,a,n,r);r=i.transitionEnd,a=i.target}return{transition:e,transitionEnd:r,...a}}}function A2(t){return window.getComputedStyle(t)}class C2 extends Gl{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,r){if(Yt.has(r)){const a=Zn(r);return a&&a.default||0}else{const a=A2(e),s=(Fc(r)?a.getPropertyValue(r):a[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:r}){return Fl(e,r)}build(e,r,a,s){Un(e,r,a,s.transformTemplate)}scrapeMotionValuesFromProps(e,r){return Gn(e,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;qe(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(e,r,a,s){Ic(e,r,a,s)}}class S2 extends Gl{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Yt.has(r)){const a=Zn(r);return a&&a.default||0}return r=Oc.has(r)?r:_n(r),e.getAttribute(r)}measureInstanceViewportBox(){return pe()}scrapeMotionValuesFromProps(e,r){return Uc(e,r)}build(e,r,a,s){Hn(e,r,a,this.isSVGTag,s.transformTemplate)}renderInstance(e,r,a,s){Vc(e,r,a,s)}mount(e){this.isSVGTag=zn(e.tagName),super.mount(e)}}const E2=(t,e)=>Vn(t)?new S2(e,{enableHardwareAcceleration:!1}):new C2(e,{enableHardwareAcceleration:!0}),T2={layout:{ProjectionNode:Ul,MeasureLayout:Rl}},j2={...ep,...xf,...n2,...T2},I=j0((t,e)=>uf(t,e,j2,E2));function Wl(){const t=C.useRef(!1);return qn(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function k2(){const t=Wl(),[e,r]=C.useState(0),a=C.useCallback(()=>{t.current&&r(e+1)},[e]);return[C.useCallback(()=>re.postRender(a),[a]),e]}class N2 extends C.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const a=this.props.sizeRef.current;a.height=r.offsetHeight||0,a.width=r.offsetWidth||0,a.top=r.offsetTop,a.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function P2({children:t,isPresent:e}){const r=C.useId(),a=C.useRef(null),s=C.useRef({width:0,height:0,top:0,left:0});return C.useInsertionEffect(()=>{const{width:u,height:n,top:i,left:o}=s.current;if(e||!a.current||!u||!n)return;a.current.dataset.motionPopId=r;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${n}px !important;
            top: ${i}px !important;
            left: ${o}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),C.createElement(N2,{isPresent:e,childRef:a,sizeRef:s},C.cloneElement(t,{ref:a}))}const Os=({children:t,initial:e,isPresent:r,onExitComplete:a,custom:s,presenceAffectsLayout:u,mode:n})=>{const i=$c(B2),o=C.useId(),c=C.useMemo(()=>({id:o,initial:e,isPresent:r,custom:s,onExitComplete:d=>{i.set(d,!0);for(const f of i.values())if(!f)return;a&&a()},register:d=>(i.set(d,!1),()=>i.delete(d))}),u?void 0:[r]);return C.useMemo(()=>{i.forEach((d,f)=>i.set(f,!1))},[r]),C.useEffect(()=>{!r&&!i.size&&a&&a()},[r]),n==="popLayout"&&(t=C.createElement(P2,{isPresent:r},t)),C.createElement(fs.Provider,{value:c},t)};function B2(){return new Map}function F2(t){return C.useEffect(()=>()=>t(),[])}const It=t=>t.key||"";function L2(t,e){t.forEach(r=>{const a=It(r);e.set(a,r)})}function R2(t){const e=[];return C.Children.forEach(t,r=>{C.isValidElement(r)&&e.push(r)}),e}const pr=({children:t,custom:e,initial:r=!0,onExitComplete:a,exitBeforeEnter:s,presenceAffectsLayout:u=!0,mode:n="sync"})=>{const i=C.useContext(On).forceRender||k2()[0],o=Wl(),c=R2(t);let d=c;const f=C.useRef(new Map).current,h=C.useRef(d),p=C.useRef(new Map).current,m=C.useRef(!0);if(qn(()=>{m.current=!1,L2(c,p),h.current=d}),F2(()=>{m.current=!0,p.clear(),f.clear()}),m.current)return C.createElement(C.Fragment,null,d.map(A=>C.createElement(Os,{key:It(A),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:u,mode:n},A)));d=[...d];const b=h.current.map(It),x=c.map(It),E=b.length;for(let A=0;A<E;A++){const y=b[A];x.indexOf(y)===-1&&!f.has(y)&&f.set(y,void 0)}return n==="wait"&&f.size&&(d=[]),f.forEach((A,y)=>{if(x.indexOf(y)!==-1)return;const g=p.get(y);if(!g)return;const v=b.indexOf(y);let D=A;if(!D){const S=()=>{f.delete(y);const k=Array.from(p.keys()).filter(q=>!x.includes(q));if(k.forEach(q=>p.delete(q)),h.current=c.filter(q=>{const O=It(q);return O===y||k.includes(O)}),!f.size){if(o.current===!1)return;i(),a&&a()}};D=C.createElement(Os,{key:It(g),isPresent:!1,onExitComplete:S,custom:e,presenceAffectsLayout:u,mode:n},g),f.set(y,D)}d.splice(v,0,D)}),d=d.map(A=>{const y=A.key;return f.has(y)?A:C.createElement(Os,{key:It(A),isPresent:!0,presenceAffectsLayout:u,mode:n},A)}),C.createElement(C.Fragment,null,f.size?d:d.map(A=>C.cloneElement(A)))},q2={baseUrl:"https://videos.flodrama.com"},_2="https://api.flodrama.com/metadata",M2="https://d2ra390ol17u3n.cloudfront.net/data/metadata.json",ki="/data/metadata.json",Ni="https://flodrama.com/assets",Pi=q2.baseUrl,I2=async()=>{try{console.log("Tentative de rcupration des mtadonnes depuis le fichier local...");const t=await fetch(ki,{headers:{Accept:"application/json"}});if(t.ok){const a=await t.json();return console.log("Mtadonnes rcupres avec succs depuis le fichier local"),a}console.log("Fichier local non disponible, tentative de rcupration depuis l'API...");const e=await fetch(_2,{headers:{Accept:"application/json"},timeout:5e3});if(!e.ok)throw new Error(`Erreur HTTP: ${e.status}`);const r=await e.json();return console.log("Mtadonnes rcupres avec succs depuis l'API"),r}catch(t){console.warn(`chec de rcupration depuis l'API: ${t.message}`);try{console.log("Tentative de rcupration depuis CloudFront...");const e=await fetch(M2,{headers:{Accept:"application/json"},timeout:5e3});if(!e.ok)throw new Error(`Erreur HTTP fallback: ${e.status}`);const r=await e.json();return console.log("Mtadonnes rcupres avec succs depuis CloudFront"),r}catch(e){console.warn(`chec de rcupration depuis CloudFront: ${e.message}`);try{console.log("Tentative de rcupration depuis le fichier local...");const r=await fetch(ki);if(!r.ok)throw new Error(`Erreur HTTP local: ${r.status}`);const a=await r.json();return console.log("Mtadonnes rcupres avec succs depuis le fichier local"),a}catch(r){return console.error("Erreur de fallback:",r),console.warn("Utilisation des mtadonnes de secours minimales"),{dramas:[],movies:[],categories:[],featured:[],trending:[],_metadata:{version:"fallback-minimal",timestamp:new Date().toISOString(),source:"minimal-fallback"}}}}}},ra=t=>{if(!t)return"https://via.placeholder.com/300x450?text=Image+non+disponible";if(t.startsWith("http://")||t.startsWith("https://"))return t;const e=t.startsWith("/")?t.substring(1):t;return e.startsWith("assets/")?`${Ni}/${e.substring(7)}`:`${Ni}/${e}`},Ob=(t,e=null)=>t?t.type==="movie"||!e?`${Pi}/${t.id}/play.mp4`:`${Pi}/${t.id}/episodes/${e}/play.mp4`:"",Kl=()=>{const[t,e]=C.useState(null),[r,a]=C.useState(!0),[s,u]=C.useState(null),n=C.useCallback(async()=>{a(!0),u(null);try{const x=await I2();e(x)}catch(x){console.error("Erreur lors du chargement des mtadonnes:",x),u(x.message)}finally{a(!1)}},[]);C.useEffect(()=>{n()},[n]);const i=C.useCallback(x=>{if(!t)return null;for(const E of["dramas","movies","anime","bollywood"]){if(!t[E])continue;const A=t[E].find(y=>y.id===x);if(A)return{...A,section:E}}return null},[t]),o=C.useCallback(()=>{if(!t)return[];const x=[];return["dramas","movies","anime","bollywood"].forEach(E=>{t[E]&&t[E].forEach(A=>{x.push({...A,section:E})})}),x},[t]),c=C.useCallback(()=>t!=null&&t.featured?t.featured.map(x=>i(x)).filter(Boolean):[],[t,i]),d=C.useCallback(()=>t!=null&&t.trending?t.trending.map(x=>i(x)).filter(Boolean):[],[t,i]),f=C.useCallback(()=>t!=null&&t.recommended?t.recommended.map(x=>i(x)).filter(Boolean):[],[t,i]),h=C.useCallback(x=>{var y;if(!t)return{title:"",items:[]};const E={featured:{title:"En Vedette",items:c()},trending:{title:"Tendances",items:d()},recommended:{title:"Recommands pour vous",items:f()},dramas:{title:"Dramas",items:t.dramas||[]},movies:{title:"Films",items:t.movies||[]},anime:{title:"Anime",items:t.anime||[]},bollywood:{title:"Bollywood",items:t.bollywood||[]}};return E[x]?E[x]:{nouveautes:{title:"Nouveauts",items:c()},tendances:{title:"Tendances",items:d()},historiques:{title:"Drames Historiques",items:((y=t.dramas)==null?void 0:y.slice(0,4))||[]},romance:{title:"Romance",items:o().filter(g=>{var v;return(v=g.genres)==null?void 0:v.includes("Romance")}).slice(0,4)},action:{title:"Action",items:o().filter(g=>{var v;return(v=g.genres)==null?void 0:v.includes("Action")}).slice(0,4)}}[x]||{title:"",items:[]}},[t,c,d,f,o]),p=C.useCallback(()=>{if(!t)return[];const x=c();return x.length===0?[]:[{id:"hero-featured",type:"featured",position:"hero",content:{id:x[0].id,tagline:x[0].description||"Dcouvrez ce contenu exclusif",cta:"Regarder maintenant",item:x[0]}}]},[t,c]),m=C.useCallback(()=>(t==null?void 0:t.categories)||[],[t]),b=C.useCallback((x,E={})=>{if(!x||!t)return[];const A=o(),y=x.toLowerCase().trim();return A.filter(g=>{var D,S,k;return!(!(g.title.toLowerCase().includes(y)||((D=g.originalTitle)==null?void 0:D.toLowerCase().includes(y))||((S=g.synopsis)==null?void 0:S.toLowerCase().includes(y)))||E.type&&g.type!==E.type||E.genre&&!((k=g.genres)!=null&&k.includes(E.genre))||E.country&&g.country!==E.country||E.year&&g.year!==E.year||E.minRating&&g.rating<E.minRating)})},[t,o]);return{isLoading:r,error:s,metadata:t,getItemById:i,getAllItems:o,getFeaturedItems:c,getTrendingItems:d,getRecommendedItems:f,getSectionItems:h,getWidgets:p,getCategories:m,searchContent:b,refresh:n}};var O2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const V2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),W=(t,e)=>{const r=C.forwardRef(({color:a="currentColor",size:s=24,strokeWidth:u=2,absoluteStrokeWidth:n,children:i,...o},c)=>C.createElement("svg",{ref:c,...O2,width:s,height:s,stroke:a,strokeWidth:n?Number(u)*24/Number(s):u,className:`lucide lucide-${V2(t)}`,...o},[...e.map(([d,f])=>C.createElement(d,f)),...(Array.isArray(i)?i:[i])||[]]));return r.displayName=`${t}`,r},Yr=W("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]),U2=W("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),$2=W("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),H2=W("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),su=W("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),cr=W("ChevronDown",[["polyline",{points:"6 9 12 15 18 9",key:"1do0m2"}]]),z2=W("ChevronLeft",[["polyline",{points:"15 18 9 12 15 6",key:"kvxz59"}]]),G2=W("ChevronRight",[["polyline",{points:"9 18 15 12 9 6",key:"1rtp27"}]]),W2=W("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),K2=W("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),nu=W("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Y2=W("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),X2=W("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),J2=W("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Z2=W("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Bi=W("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),uu=W("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Q2=W("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),Yl=W("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]),Xl=W("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),em=W("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Jl=W("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Zl=W("Plus",[["line",{x1:"12",x2:"12",y1:"5",y2:"19",key:"pwfkuu"}],["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}]]),tm=W("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),iu=W("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),rm=W("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),rt=W("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),am=W("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),sm=W("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]),nm=W("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]),um=W("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]),im=W("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),om=W("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]),cm=W("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),Fi=W("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),sr=W("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),lm=W("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),Li={drama:"#1a1a2e",movie:"#16213e",anime:"#0f3460",bollywood:"#533483"},Ql=(t,e="drama",r=300,a=450)=>{const s=Li[e]||Li.drama,u=document.createElement("canvas");u.width=r,u.height=a;const n=u.getContext("2d");n.fillStyle=s,n.fillRect(0,0,r,a);const i=n.createLinearGradient(0,0,r,a);i.addColorStop(0,"rgba(0, 0, 0, 0)"),i.addColorStop(1,"rgba(0, 0, 0, 0.5)"),n.fillStyle=i,n.fillRect(0,0,r,a),n.fillStyle="white",n.font=`bold ${Math.floor(r/15)}px Arial`,n.textAlign="center",n.textBaseline="middle";const o=t.split(" ");let c=[],d=o[0];for(let p=1;p<o.length;p++){const m=d+" "+o[p];n.measureText(m).width>r*.8?(c.push(d),d=o[p]):d=m}c.push(d);const f=Math.floor(r/12),h=a/2-(c.length-1)*f/2;return c.forEach((p,m)=>{n.fillText(p,r/2,h+m*f)}),n.font=`bold ${Math.floor(r/20)}px Arial`,n.fillText("FloDrama",r/2,a-30),u.toDataURL("image/jpeg",.9)},Vs=t=>t?t.poster&&!t.poster.includes("/assets/posters/")?t.poster:Ql(t.title,t.type):"",Ri=t=>t?t.backdrop&&!t.backdrop.includes("/assets/backdrops/")?t.backdrop:Ql(t.title,t.type,1280,720):"",dm=({item:t})=>{if(!t)return null;const e=()=>t.section==="dramas"?"drama":t.section==="movies"?"movie":t.section==="bollywood"?"bollywood":t.section==="anime"?"anime":"drama",r=()=>{try{const u=ra(t.backdrop||t.poster);if(u&&!u.includes("undefined"))return u}catch(u){console.warn("Erreur lors du chargement de l'image de fond depuis les assets:",u)}return Ri(t)},a={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.8,when:"beforeChildren",staggerChildren:.2}}},s={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};return l.jsxs(I.div,{className:"relative w-full h-[80vh] overflow-hidden",initial:"hidden",animate:"visible",variants:a,children:[l.jsxs("div",{className:"absolute inset-0 w-full h-full",children:[l.jsx("img",{src:r(),alt:t.title,className:"w-full h-full object-cover",onError:u=>{u.target.src=Ri(t)}}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/70 to-transparent"})]}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-8 md:p-16 z-10",children:l.jsxs("div",{className:"max-w-3xl",children:[l.jsx(I.div,{variants:s,children:l.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-4",children:t.title})}),l.jsx(I.div,{variants:s,children:l.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-300 mb-4",children:[t.year&&l.jsx("span",{children:t.year}),t.duration&&l.jsx("span",{children:t.duration}),t.genres&&t.genres.length>0&&l.jsx("span",{children:t.genres.join("  ")}),t.rating&&l.jsxs("span",{className:"flex items-center",children:[l.jsx("span",{className:"text-pink-500 mr-1",children:""}),t.rating]})]})}),l.jsx(I.div,{variants:s,children:l.jsx("p",{className:"text-gray-300 text-lg mb-8 line-clamp-3 md:line-clamp-none",children:t.description||t.synopsis})}),l.jsxs(I.div,{className:"flex flex-wrap gap-4",variants:s,children:[l.jsx(ke,{to:`/${e()}/${t.id}/play`,children:l.jsxs(I.button,{className:"flex items-center gap-2 bg-pink-500 hover:bg-pink-600 text-white font-medium py-3 px-6 rounded-full transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:[l.jsx(Jl,{size:20,fill:"white"}),"Regarder"]})}),l.jsxs(I.button,{className:"flex items-center gap-2 bg-gray-700 hover:bg-gray-600 text-white font-medium py-3 px-6 rounded-full transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:[l.jsx(Zl,{size:20}),"Ma liste"]}),l.jsx(ke,{to:`/${e()}/${t.id}`,children:l.jsxs(I.button,{className:"flex items-center gap-2 bg-gray-700 hover:bg-gray-600 text-white font-medium py-3 px-6 rounded-full transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:[l.jsx(uu,{size:20}),"Dtails"]})})]})]})})]})},ed=()=>{const[t,e]=C.useState([]),[r,a]=C.useState(!0);C.useEffect(()=>{(()=>{try{const d=localStorage.getItem("flodrama_watchlist");d&&e(JSON.parse(d))}catch(d){console.error("Erreur lors du chargement de la liste de visionnage:",d)}finally{a(!1)}})()},[]),C.useEffect(()=>{r||localStorage.setItem("flodrama_watchlist",JSON.stringify(t))},[t,r]);const s=C.useCallback(c=>t.some(d=>d.id===c),[t]),u=C.useCallback(c=>{!c||!c.id||e(d=>d.some(f=>f.id===c.id)?d:[...d,{id:c.id,title:c.title,poster:c.poster,type:c.type||"drama",year:c.year,addedAt:new Date().toISOString()}])},[]),n=C.useCallback(c=>{e(d=>d.filter(f=>f.id!==c))},[]),i=C.useCallback(c=>s(c.id)?(n(c.id),!1):(u(c),!0),[s,n,u]);return{watchlist:C.useCallback(()=>[...t].sort((c,d)=>new Date(d.addedAt)-new Date(c.addedAt)),[t])(),isLoading:r,isInWatchlist:s,addToWatchlist:u,removeFromWatchlist:n,toggleWatchlist:i}},fm=()=>{const[t,e]=C.useState({}),[r,a]=C.useState(!0);C.useEffect(()=>{(()=>{try{const p=localStorage.getItem("flodrama_ratings");p&&e(JSON.parse(p))}catch(p){console.error("Erreur lors du chargement des valuations:",p)}finally{a(!1)}})()},[]),C.useEffect(()=>{r||localStorage.setItem("flodrama_ratings",JSON.stringify(t))},[t,r]);const s=C.useCallback(h=>t[h]==="like",[t]),u=C.useCallback(h=>t[h]==="dislike",[t]),n=C.useCallback(h=>t[h]||null,[t]),i=C.useCallback(h=>{e(p=>{if(p[h]==="like"){const m={...p};return delete m[h],m}return{...p,[h]:"like"}})},[]),o=C.useCallback(h=>{e(p=>{if(p[h]==="dislike"){const m={...p};return delete m[h],m}return{...p,[h]:"dislike"}})},[]),c=C.useCallback(()=>Object.entries(t).filter(([h,p])=>p==="like").map(([h])=>h),[t]),d=C.useCallback(()=>Object.entries(t).filter(([h,p])=>p==="dislike").map(([h])=>h),[t]),f=C.useCallback((h,p)=>{if(!h||!p)return 0;let m=0,b=0;if(h.genres&&p.genres){const x=h.genres.filter(E=>p.genres.includes(E));x.length>0&&(m+=x.length/Math.max(h.genres.length,p.genres.length),b++)}if(h.tags&&p.tags){const x=h.tags.filter(E=>p.tags.includes(E));x.length>0&&(m+=x.length/Math.max(h.tags.length,p.tags.length),b++)}if(h.country&&p.country&&h.country===p.country&&(m+=1,b++),h.year&&p.year){const x=Math.abs(h.year-p.year);x<=5&&(m+=1-x/5,b++)}return h.director&&p.director&&h.director===p.director&&(m+=1,b++),b>0?m/b:0},[]);return{isLoading:r,isLiked:s,isDisliked:u,getRating:n,likeContent:i,dislikeContent:o,getLikedContentIds:c,getDislikedContentIds:d,calculateSimilarity:f}},ou=({item:t,showInfo:e=!0,index:r=0})=>{const[a,s]=C.useState(!1),[u,n]=C.useState(!1),[i,o]=C.useState(!1),{isInWatchlist:c,toggleWatchlist:d}=ed(),{isLiked:f,isDisliked:h,likeContent:p,dislikeContent:m}=fm(),[b,x]=C.useState(!1),[E,A]=C.useState(!1),[y,g]=C.useState(!1),v=C.useRef(null),D=C.useRef(null);if(C.useEffect(()=>{t&&t.id&&(x(c(t.id)),A(f(t.id)),g(h(t.id)))},[t,c,f,h]),C.useEffect(()=>()=>{v.current&&clearTimeout(v.current)},[]),!t)return null;const S=P=>{if(P.preventDefault(),P.stopPropagation(),t){const T=d(t);x(T)}},k=P=>{P.preventDefault(),P.stopPropagation(),t&&(p(t.id),A(!E),y&&g(!1))},q=P=>{P.preventDefault(),P.stopPropagation(),t&&(m(t.id),g(!y),E&&A(!1))},O=()=>t.type?t.type.toLowerCase():t.section==="dramas"?"drama":t.section==="movies"?"movie":t.section==="bollywood"?"bollywood":t.section==="anime"||t.title&&(t.title.includes("Anime")||t.title.includes("")||t.genres&&t.genres.includes("Anime"))?"anime":t.title&&(t.title.includes("Bollywood")||t.country&&t.country==="Inde")?"bollywood":"drama",N=()=>{if(i)return Vs(t);try{if(t.image&&(t.image.startsWith("http://")||t.image.startsWith("https://")))return t.image;const P=t.poster||t.backdrop||t.image,T=ra(P);if(T&&!T.includes("undefined")&&!T.includes("null"))return T}catch(P){console.warn("Erreur lors du chargement de l'image depuis les assets:",P)}return Vs(t)},F=()=>{s(!0),v.current=setTimeout(()=>{n(!0)},500)},B=()=>{s(!1),n(!1),v.current&&(clearTimeout(v.current),v.current=null)},w={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,delay:r*.05}},hover:{scale:1.05,boxShadow:"0px 10px 30px -5px rgba(0, 0, 0, 0.3)",transition:{duration:.3}}},j={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3}}};return l.jsx(I.div,{ref:D,className:"relative",initial:"hidden",animate:"visible",whileHover:"hover",variants:w,onMouseEnter:F,onMouseLeave:B,children:l.jsx(ke,{to:`/${O()}/${t.id}`,children:l.jsxs("div",{className:"relative overflow-hidden rounded-xl",children:[l.jsx("img",{src:N(),alt:t.title||"Contenu FloDrama",className:"w-full aspect-video object-cover rounded-xl transition-all duration-500",loading:"lazy",onError:P=>{o(!0),P.target.src=Vs(t)}}),l.jsx(pr,{children:a&&l.jsxs(I.div,{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/50 to-transparent flex flex-col justify-end p-3",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:[l.jsxs("div",{className:"flex justify-between items-end",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-sm font-bold truncate",children:t.title}),t.year&&l.jsx("p",{className:"text-xs text-gray-300",children:t.year})]}),l.jsxs("div",{className:"flex space-x-1",children:[l.jsx("button",{className:`p-1.5 rounded-full ${b?"bg-fuchsia-600 text-white":"bg-white/20 text-white hover:bg-white/30"}`,onClick:S,"aria-label":b?"Retirer de ma liste":"Ajouter  ma liste",children:b?l.jsx(su,{size:14}):l.jsx(Zl,{size:14})}),l.jsx("button",{className:"p-1.5 rounded-full bg-fuchsia-600 text-white","aria-label":"Lire",children:l.jsx(Jl,{size:14,fill:"white"})})]})]}),l.jsx(pr,{children:u&&l.jsxs(I.div,{className:"mt-2",variants:j,initial:"hidden",animate:"visible",exit:"hidden",children:[l.jsxs("div",{className:"flex items-center text-xs space-x-2 mb-1",children:[t.rating&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(am,{size:12,className:"text-yellow-400 mr-0.5"}),l.jsx("span",{children:t.rating})]}),t.duration&&l.jsx("span",{children:t.duration}),t.releaseYear&&l.jsx("span",{children:t.releaseYear})]}),t.genres&&t.genres.length>0&&l.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:t.genres.slice(0,2).map((P,T)=>l.jsx("span",{className:"text-[10px] bg-white/20 px-1.5 py-0.5 rounded",children:P},T))}),l.jsx("div",{className:"flex justify-between mt-2",children:l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{className:`p-1 ${E?"text-green-400":"text-gray-400 hover:text-white"}`,onClick:k,"aria-label":"J'aime",children:l.jsx(um,{size:14})}),l.jsx("button",{className:`p-1 ${y?"text-red-400":"text-gray-400 hover:text-white"}`,onClick:q,"aria-label":"Je n'aime pas",children:l.jsx(nm,{size:14})})]})})]})})]})})]})})})},Nt=({title:t,items:e=[],size:r="md"})=>{const a=C.useRef(null),[s,u]=C.useState(!1),[n,i]=C.useState(!0),o=()=>{if(!a.current)return;const{scrollLeft:d,scrollWidth:f,clientWidth:h}=a.current;u(d>0),i(d+h<f-10)},c=d=>{if(!a.current)return;const f=d==="left"?-400:400;a.current.scrollBy({left:f,behavior:"smooth"}),setTimeout(o,400)};return e.length?l.jsxs("section",{className:"relative py-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-2xl font-bold text-white",children:t}),e.length>8&&l.jsx("button",{className:"text-gray-400 hover:text-white text-sm",children:"Voir tout"})]}),l.jsxs("div",{className:"relative group",children:[s&&l.jsx("button",{className:"absolute left-0 top-1/2 transform -translate-y-1/2 z-10 bg-black bg-opacity-70 rounded-full p-2 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300",onClick:()=>c("left"),children:l.jsx(z2,{size:24})}),l.jsx("div",{ref:a,className:"flex overflow-x-auto scrollbar-hide scroll-smooth py-2 px-1",onScroll:o,children:l.jsx("div",{className:"flex space-x-4",children:e.map(d=>l.jsx("div",{className:"flex-shrink-0",children:l.jsx(ou,{item:d,size:r})},d.id))})}),n&&l.jsx("button",{className:"absolute right-0 top-1/2 transform -translate-y-1/2 z-10 bg-black bg-opacity-70 rounded-full p-2 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300",onClick:()=>c("right"),children:l.jsx(G2,{size:24})})]})]}):null};var Re=function(){return Re=Object.assign||function(e){for(var r,a=1,s=arguments.length;a<s;a++){r=arguments[a];for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&(e[u]=r[u])}return e},Re.apply(this,arguments)};function is(t,e,r){if(r||arguments.length===2)for(var a=0,s=e.length,u;a<s;a++)(u||!(a in e))&&(u||(u=Array.prototype.slice.call(e,0,a)),u[a]=e[a]);return t.concat(u||Array.prototype.slice.call(e))}var ae="-ms-",Xr="-moz-",Q="-webkit-",td="comm",vs="rule",cu="decl",hm="@import",rd="@keyframes",pm="@layer",ad=Math.abs,lu=String.fromCharCode,Dn=Object.assign;function mm(t,e){return ye(t,0)^45?(((e<<2^ye(t,0))<<2^ye(t,1))<<2^ye(t,2))<<2^ye(t,3):0}function sd(t){return t.trim()}function dt(t,e){return(t=e.exec(t))?t[0]:t}function z(t,e,r){return t.replace(e,r)}function Wa(t,e,r){return t.indexOf(e,r)}function ye(t,e){return t.charCodeAt(e)|0}function br(t,e,r){return t.slice(e,r)}function tt(t){return t.length}function nd(t){return t.length}function Ur(t,e){return e.push(t),t}function gm(t,e){return t.map(e).join("")}function qi(t,e){return t.filter(function(r){return!dt(r,e)})}var xs=1,yr=1,ud=0,ze=0,me=0,Ar="";function Ds(t,e,r,a,s,u,n,i){return{value:t,root:e,parent:r,type:a,props:s,children:u,line:xs,column:yr,length:n,return:"",siblings:i}}function wt(t,e){return Dn(Ds("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Qt(t){for(;t.root;)t=wt(t.root,{children:[t]});Ur(t,t.siblings)}function bm(){return me}function ym(){return me=ze>0?ye(Ar,--ze):0,yr--,me===10&&(yr=1,xs--),me}function Xe(){return me=ze<ud?ye(Ar,ze++):0,yr++,me===10&&(yr=1,xs++),me}function Wt(){return ye(Ar,ze)}function Ka(){return ze}function ws(t,e){return br(Ar,t,e)}function wn(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function vm(t){return xs=yr=1,ud=tt(Ar=t),ze=0,[]}function xm(t){return Ar="",t}function Us(t){return sd(ws(ze-1,An(t===91?t+2:t===40?t+1:t)))}function Dm(t){for(;(me=Wt())&&me<33;)Xe();return wn(t)>2||wn(me)>3?"":" "}function wm(t,e){for(;--e&&Xe()&&!(me<48||me>102||me>57&&me<65||me>70&&me<97););return ws(t,Ka()+(e<6&&Wt()==32&&Xe()==32))}function An(t){for(;Xe();)switch(me){case t:return ze;case 34:case 39:t!==34&&t!==39&&An(me);break;case 40:t===41&&An(t);break;case 92:Xe();break}return ze}function Am(t,e){for(;Xe()&&t+me!==57;)if(t+me===84&&Wt()===47)break;return"/*"+ws(e,ze-1)+"*"+lu(t===47?t:Xe())}function Cm(t){for(;!wn(Wt());)Xe();return ws(t,ze)}function Sm(t){return xm(Ya("",null,null,null,[""],t=vm(t),0,[0],t))}function Ya(t,e,r,a,s,u,n,i,o){for(var c=0,d=0,f=n,h=0,p=0,m=0,b=1,x=1,E=1,A=0,y="",g=s,v=u,D=a,S=y;x;)switch(m=A,A=Xe()){case 40:if(m!=108&&ye(S,f-1)==58){Wa(S+=z(Us(A),"&","&\f"),"&\f",ad(c?i[c-1]:0))!=-1&&(E=-1);break}case 34:case 39:case 91:S+=Us(A);break;case 9:case 10:case 13:case 32:S+=Dm(m);break;case 92:S+=wm(Ka()-1,7);continue;case 47:switch(Wt()){case 42:case 47:Ur(Em(Am(Xe(),Ka()),e,r,o),o);break;default:S+="/"}break;case 123*b:i[c++]=tt(S)*E;case 125*b:case 59:case 0:switch(A){case 0:case 125:x=0;case 59+d:E==-1&&(S=z(S,/\f/g,"")),p>0&&tt(S)-f&&Ur(p>32?Mi(S+";",a,r,f-1,o):Mi(z(S," ","")+";",a,r,f-2,o),o);break;case 59:S+=";";default:if(Ur(D=_i(S,e,r,c,d,s,i,y,g=[],v=[],f,u),u),A===123)if(d===0)Ya(S,e,D,D,g,u,f,i,v);else switch(h===99&&ye(S,3)===110?100:h){case 100:case 108:case 109:case 115:Ya(t,D,D,a&&Ur(_i(t,D,D,0,0,s,i,y,s,g=[],f,v),v),s,v,f,i,a?g:v);break;default:Ya(S,D,D,D,[""],v,0,i,v)}}c=d=p=0,b=E=1,y=S="",f=n;break;case 58:f=1+tt(S),p=m;default:if(b<1){if(A==123)--b;else if(A==125&&b++==0&&ym()==125)continue}switch(S+=lu(A),A*b){case 38:E=d>0?1:(S+="\f",-1);break;case 44:i[c++]=(tt(S)-1)*E,E=1;break;case 64:Wt()===45&&(S+=Us(Xe())),h=Wt(),d=f=tt(y=S+=Cm(Ka())),A++;break;case 45:m===45&&tt(S)==2&&(b=0)}}return u}function _i(t,e,r,a,s,u,n,i,o,c,d,f){for(var h=s-1,p=s===0?u:[""],m=nd(p),b=0,x=0,E=0;b<a;++b)for(var A=0,y=br(t,h+1,h=ad(x=n[b])),g=t;A<m;++A)(g=sd(x>0?p[A]+" "+y:z(y,/&\f/g,p[A])))&&(o[E++]=g);return Ds(t,e,r,s===0?vs:i,o,c,d,f)}function Em(t,e,r,a){return Ds(t,e,r,td,lu(bm()),br(t,2,-2),0,a)}function Mi(t,e,r,a,s){return Ds(t,e,r,cu,br(t,0,a),br(t,a+1,-1),a,s)}function id(t,e,r){switch(mm(t,e)){case 5103:return Q+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Q+t+t;case 4789:return Xr+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Q+t+Xr+t+ae+t+t;case 5936:switch(ye(t,e+11)){case 114:return Q+t+ae+z(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Q+t+ae+z(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Q+t+ae+z(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return Q+t+ae+t+t;case 6165:return Q+t+ae+"flex-"+t+t;case 5187:return Q+t+z(t,/(\w+).+(:[^]+)/,Q+"box-$1$2"+ae+"flex-$1$2")+t;case 5443:return Q+t+ae+"flex-item-"+z(t,/flex-|-self/g,"")+(dt(t,/flex-|baseline/)?"":ae+"grid-row-"+z(t,/flex-|-self/g,""))+t;case 4675:return Q+t+ae+"flex-line-pack"+z(t,/align-content|flex-|-self/g,"")+t;case 5548:return Q+t+ae+z(t,"shrink","negative")+t;case 5292:return Q+t+ae+z(t,"basis","preferred-size")+t;case 6060:return Q+"box-"+z(t,"-grow","")+Q+t+ae+z(t,"grow","positive")+t;case 4554:return Q+z(t,/([^-])(transform)/g,"$1"+Q+"$2")+t;case 6187:return z(z(z(t,/(zoom-|grab)/,Q+"$1"),/(image-set)/,Q+"$1"),t,"")+t;case 5495:case 3959:return z(t,/(image-set\([^]*)/,Q+"$1$`$1");case 4968:return z(z(t,/(.+:)(flex-)?(.*)/,Q+"box-pack:$3"+ae+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Q+t+t;case 4200:if(!dt(t,/flex-|baseline/))return ae+"grid-column-align"+br(t,e)+t;break;case 2592:case 3360:return ae+z(t,"template-","")+t;case 4384:case 3616:return r&&r.some(function(a,s){return e=s,dt(a.props,/grid-\w+-end/)})?~Wa(t+(r=r[e].value),"span",0)?t:ae+z(t,"-start","")+t+ae+"grid-row-span:"+(~Wa(r,"span",0)?dt(r,/\d+/):+dt(r,/\d+/)-+dt(t,/\d+/))+";":ae+z(t,"-start","")+t;case 4896:case 4128:return r&&r.some(function(a){return dt(a.props,/grid-\w+-start/)})?t:ae+z(z(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return z(t,/(.+)-inline(.+)/,Q+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(tt(t)-1-e>6)switch(ye(t,e+1)){case 109:if(ye(t,e+4)!==45)break;case 102:return z(t,/(.+:)(.+)-([^]+)/,"$1"+Q+"$2-$3$1"+Xr+(ye(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Wa(t,"stretch",0)?id(z(t,"stretch","fill-available"),e,r)+t:t}break;case 5152:case 5920:return z(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(a,s,u,n,i,o,c){return ae+s+":"+u+c+(n?ae+s+"-span:"+(i?o:+o-+u)+c:"")+t});case 4949:if(ye(t,e+6)===121)return z(t,":",":"+Q)+t;break;case 6444:switch(ye(t,ye(t,14)===45?18:11)){case 120:return z(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Q+(ye(t,14)===45?"inline-":"")+"box$3$1"+Q+"$2$3$1"+ae+"$2box$3")+t;case 100:return z(t,":",":"+ae)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return z(t,"scroll-","scroll-snap-")+t}return t}function os(t,e){for(var r="",a=0;a<t.length;a++)r+=e(t[a],a,t,e)||"";return r}function Tm(t,e,r,a){switch(t.type){case pm:if(t.children.length)break;case hm:case cu:return t.return=t.return||t.value;case td:return"";case rd:return t.return=t.value+"{"+os(t.children,a)+"}";case vs:if(!tt(t.value=t.props.join(",")))return""}return tt(r=os(t.children,a))?t.return=t.value+"{"+r+"}":""}function jm(t){var e=nd(t);return function(r,a,s,u){for(var n="",i=0;i<e;i++)n+=t[i](r,a,s,u)||"";return n}}function km(t){return function(e){e.root||(e=e.return)&&t(e)}}function Nm(t,e,r,a){if(t.length>-1&&!t.return)switch(t.type){case cu:t.return=id(t.value,t.length,r);return;case rd:return os([wt(t,{value:z(t.value,"@","@"+Q)})],a);case vs:if(t.length)return gm(r=t.props,function(s){switch(dt(s,a=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Qt(wt(t,{props:[z(s,/:(read-\w+)/,":"+Xr+"$1")]})),Qt(wt(t,{props:[s]})),Dn(t,{props:qi(r,a)});break;case"::placeholder":Qt(wt(t,{props:[z(s,/:(plac\w+)/,":"+Q+"input-$1")]})),Qt(wt(t,{props:[z(s,/:(plac\w+)/,":"+Xr+"$1")]})),Qt(wt(t,{props:[z(s,/:(plac\w+)/,ae+"input-$1")]})),Qt(wt(t,{props:[s]})),Dn(t,{props:qi(r,a)});break}return""})}}var Pm={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ie={},vr=typeof process<"u"&&Ie!==void 0&&(Ie.REACT_APP_SC_ATTR||Ie.SC_ATTR)||"data-styled",od="active",cd="data-styled-version",As="6.1.15",du=`/*!sc*/
`,cs=typeof window<"u"&&"HTMLElement"in window,Bm=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Ie!==void 0&&Ie.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Ie.REACT_APP_SC_DISABLE_SPEEDY!==""?Ie.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Ie.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Ie!==void 0&&Ie.SC_DISABLE_SPEEDY!==void 0&&Ie.SC_DISABLE_SPEEDY!==""&&Ie.SC_DISABLE_SPEEDY!=="false"&&Ie.SC_DISABLE_SPEEDY),Cs=Object.freeze([]),xr=Object.freeze({});function Fm(t,e,r){return r===void 0&&(r=xr),t.theme!==r.theme&&t.theme||e||r.theme}var ld=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Lm=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Rm=/(^-|-$)/g;function Ii(t){return t.replace(Lm,"-").replace(Rm,"")}var qm=/(a)(d)/gi,Ca=52,Oi=function(t){return String.fromCharCode(t+(t>25?39:97))};function Cn(t){var e,r="";for(e=Math.abs(t);e>Ca;e=e/Ca|0)r=Oi(e%Ca)+r;return(Oi(e%Ca)+r).replace(qm,"$1-$2")}var $s,dd=5381,lr=function(t,e){for(var r=e.length;r;)t=33*t^e.charCodeAt(--r);return t},fd=function(t){return lr(dd,t)};function _m(t){return Cn(fd(t)>>>0)}function Mm(t){return t.displayName||t.name||"Component"}function Hs(t){return typeof t=="string"&&!0}var hd=typeof Symbol=="function"&&Symbol.for,pd=hd?Symbol.for("react.memo"):60115,Im=hd?Symbol.for("react.forward_ref"):60112,Om={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Vm={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},md={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Um=(($s={})[Im]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},$s[pd]=md,$s);function Vi(t){return("type"in(e=t)&&e.type.$$typeof)===pd?md:"$$typeof"in t?Um[t.$$typeof]:Om;var e}var $m=Object.defineProperty,Hm=Object.getOwnPropertyNames,Ui=Object.getOwnPropertySymbols,zm=Object.getOwnPropertyDescriptor,Gm=Object.getPrototypeOf,$i=Object.prototype;function gd(t,e,r){if(typeof e!="string"){if($i){var a=Gm(e);a&&a!==$i&&gd(t,a,r)}var s=Hm(e);Ui&&(s=s.concat(Ui(e)));for(var u=Vi(t),n=Vi(e),i=0;i<s.length;++i){var o=s[i];if(!(o in Vm||r&&r[o]||n&&o in n||u&&o in u)){var c=zm(e,o);try{$m(t,o,c)}catch{}}}}return t}function Dr(t){return typeof t=="function"}function fu(t){return typeof t=="object"&&"styledComponentId"in t}function zt(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function Hi(t,e){if(t.length===0)return"";for(var r=t[0],a=1;a<t.length;a++)r+=t[a];return r}function aa(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function Sn(t,e,r){if(r===void 0&&(r=!1),!r&&!aa(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var a=0;a<e.length;a++)t[a]=Sn(t[a],e[a]);else if(aa(e))for(var a in e)t[a]=Sn(t[a],e[a]);return t}function hu(t,e){Object.defineProperty(t,"toString",{value:e})}function la(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var Wm=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var r=0,a=0;a<e;a++)r+=this.groupSizes[a];return r},t.prototype.insertRules=function(e,r){if(e>=this.groupSizes.length){for(var a=this.groupSizes,s=a.length,u=s;e>=u;)if((u<<=1)<0)throw la(16,"".concat(e));this.groupSizes=new Uint32Array(u),this.groupSizes.set(a),this.length=u;for(var n=s;n<u;n++)this.groupSizes[n]=0}for(var i=this.indexOfGroup(e+1),o=(n=0,r.length);n<o;n++)this.tag.insertRule(i,r[n])&&(this.groupSizes[e]++,i++)},t.prototype.clearGroup=function(e){if(e<this.length){var r=this.groupSizes[e],a=this.indexOfGroup(e),s=a+r;this.groupSizes[e]=0;for(var u=a;u<s;u++)this.tag.deleteRule(a)}},t.prototype.getGroup=function(e){var r="";if(e>=this.length||this.groupSizes[e]===0)return r;for(var a=this.groupSizes[e],s=this.indexOfGroup(e),u=s+a,n=s;n<u;n++)r+="".concat(this.tag.getRule(n)).concat(du);return r},t}(),Xa=new Map,ls=new Map,Ja=1,Sa=function(t){if(Xa.has(t))return Xa.get(t);for(;ls.has(Ja);)Ja++;var e=Ja++;return Xa.set(t,e),ls.set(e,t),e},Km=function(t,e){Ja=e+1,Xa.set(t,e),ls.set(e,t)},Ym="style[".concat(vr,"][").concat(cd,'="').concat(As,'"]'),Xm=new RegExp("^".concat(vr,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Jm=function(t,e,r){for(var a,s=r.split(","),u=0,n=s.length;u<n;u++)(a=s[u])&&t.registerName(e,a)},Zm=function(t,e){for(var r,a=((r=e.textContent)!==null&&r!==void 0?r:"").split(du),s=[],u=0,n=a.length;u<n;u++){var i=a[u].trim();if(i){var o=i.match(Xm);if(o){var c=0|parseInt(o[1],10),d=o[2];c!==0&&(Km(d,c),Jm(t,d,o[3]),t.getTag().insertRules(c,s)),s.length=0}else s.push(i)}}},zi=function(t){for(var e=document.querySelectorAll(Ym),r=0,a=e.length;r<a;r++){var s=e[r];s&&s.getAttribute(vr)!==od&&(Zm(t,s),s.parentNode&&s.parentNode.removeChild(s))}};function Qm(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var bd=function(t){var e=document.head,r=t||e,a=document.createElement("style"),s=function(i){var o=Array.from(i.querySelectorAll("style[".concat(vr,"]")));return o[o.length-1]}(r),u=s!==void 0?s.nextSibling:null;a.setAttribute(vr,od),a.setAttribute(cd,As);var n=Qm();return n&&a.setAttribute("nonce",n),r.insertBefore(a,u),a},e1=function(){function t(e){this.element=bd(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(r){if(r.sheet)return r.sheet;for(var a=document.styleSheets,s=0,u=a.length;s<u;s++){var n=a[s];if(n.ownerNode===r)return n}throw la(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,r){try{return this.sheet.insertRule(r,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var r=this.sheet.cssRules[e];return r&&r.cssText?r.cssText:""},t}(),t1=function(){function t(e){this.element=bd(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,r){if(e<=this.length&&e>=0){var a=document.createTextNode(r);return this.element.insertBefore(a,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),r1=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,r){return e<=this.length&&(this.rules.splice(e,0,r),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),Gi=cs,a1={isServer:!cs,useCSSOMInjection:!Bm},yd=function(){function t(e,r,a){e===void 0&&(e=xr),r===void 0&&(r={});var s=this;this.options=Re(Re({},a1),e),this.gs=r,this.names=new Map(a),this.server=!!e.isServer,!this.server&&cs&&Gi&&(Gi=!1,zi(this)),hu(this,function(){return function(u){for(var n=u.getTag(),i=n.length,o="",c=function(f){var h=function(E){return ls.get(E)}(f);if(h===void 0)return"continue";var p=u.names.get(h),m=n.getGroup(f);if(p===void 0||!p.size||m.length===0)return"continue";var b="".concat(vr,".g").concat(f,'[id="').concat(h,'"]'),x="";p!==void 0&&p.forEach(function(E){E.length>0&&(x+="".concat(E,","))}),o+="".concat(m).concat(b,'{content:"').concat(x,'"}').concat(du)},d=0;d<i;d++)c(d);return o}(s)})}return t.registerId=function(e){return Sa(e)},t.prototype.rehydrate=function(){!this.server&&cs&&zi(this)},t.prototype.reconstructWithOptions=function(e,r){return r===void 0&&(r=!0),new t(Re(Re({},this.options),e),this.gs,r&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(r){var a=r.useCSSOMInjection,s=r.target;return r.isServer?new r1(s):a?new e1(s):new t1(s)}(this.options),new Wm(e)));var e},t.prototype.hasNameForId=function(e,r){return this.names.has(e)&&this.names.get(e).has(r)},t.prototype.registerName=function(e,r){if(Sa(e),this.names.has(e))this.names.get(e).add(r);else{var a=new Set;a.add(r),this.names.set(e,a)}},t.prototype.insertRules=function(e,r,a){this.registerName(e,r),this.getTag().insertRules(Sa(e),a)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Sa(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),s1=/&/g,n1=/^\s*\/\/.*$/gm;function vd(t,e){return t.map(function(r){return r.type==="rule"&&(r.value="".concat(e," ").concat(r.value),r.value=r.value.replaceAll(",",",".concat(e," ")),r.props=r.props.map(function(a){return"".concat(e," ").concat(a)})),Array.isArray(r.children)&&r.type!=="@keyframes"&&(r.children=vd(r.children,e)),r})}function u1(t){var e,r,a,s=xr,u=s.options,n=u===void 0?xr:u,i=s.plugins,o=i===void 0?Cs:i,c=function(h,p,m){return m.startsWith(r)&&m.endsWith(r)&&m.replaceAll(r,"").length>0?".".concat(e):h},d=o.slice();d.push(function(h){h.type===vs&&h.value.includes("&")&&(h.props[0]=h.props[0].replace(s1,r).replace(a,c))}),n.prefix&&d.push(Nm),d.push(Tm);var f=function(h,p,m,b){p===void 0&&(p=""),m===void 0&&(m=""),b===void 0&&(b="&"),e=b,r=p,a=new RegExp("\\".concat(r,"\\b"),"g");var x=h.replace(n1,""),E=Sm(m||p?"".concat(m," ").concat(p," { ").concat(x," }"):x);n.namespace&&(E=vd(E,n.namespace));var A=[];return os(E,jm(d.concat(km(function(y){return A.push(y)})))),A};return f.hash=o.length?o.reduce(function(h,p){return p.name||la(15),lr(h,p.name)},dd).toString():"",f}var i1=new yd,En=u1(),xd=se.createContext({shouldForwardProp:void 0,styleSheet:i1,stylis:En});xd.Consumer;se.createContext(void 0);function Wi(){return C.useContext(xd)}var o1=function(){function t(e,r){var a=this;this.inject=function(s,u){u===void 0&&(u=En);var n=a.name+u.hash;s.hasNameForId(a.id,n)||s.insertRules(a.id,n,u(a.rules,n,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=r,hu(this,function(){throw la(12,String(a.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=En),this.name+e.hash},t}(),c1=function(t){return t>="A"&&t<="Z"};function Ki(t){for(var e="",r=0;r<t.length;r++){var a=t[r];if(r===1&&a==="-"&&t[0]==="-")return t;c1(a)?e+="-"+a.toLowerCase():e+=a}return e.startsWith("ms-")?"-"+e:e}var Dd=function(t){return t==null||t===!1||t===""},wd=function(t){var e,r,a=[];for(var s in t){var u=t[s];t.hasOwnProperty(s)&&!Dd(u)&&(Array.isArray(u)&&u.isCss||Dr(u)?a.push("".concat(Ki(s),":"),u,";"):aa(u)?a.push.apply(a,is(is(["".concat(s," {")],wd(u),!1),["}"],!1)):a.push("".concat(Ki(s),": ").concat((e=s,(r=u)==null||typeof r=="boolean"||r===""?"":typeof r!="number"||r===0||e in Pm||e.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return a};function Kt(t,e,r,a){if(Dd(t))return[];if(fu(t))return[".".concat(t.styledComponentId)];if(Dr(t)){if(!Dr(u=t)||u.prototype&&u.prototype.isReactComponent||!e)return[t];var s=t(e);return Kt(s,e,r,a)}var u;return t instanceof o1?r?(t.inject(r,a),[t.getName(a)]):[t]:aa(t)?wd(t):Array.isArray(t)?Array.prototype.concat.apply(Cs,t.map(function(n){return Kt(n,e,r,a)})):[t.toString()]}function l1(t){for(var e=0;e<t.length;e+=1){var r=t[e];if(Dr(r)&&!fu(r))return!1}return!0}var d1=fd(As),f1=function(){function t(e,r,a){this.rules=e,this.staticRulesId="",this.isStatic=(a===void 0||a.isStatic)&&l1(e),this.componentId=r,this.baseHash=lr(d1,r),this.baseStyle=a,yd.registerId(r)}return t.prototype.generateAndInjectStyles=function(e,r,a){var s=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,r,a):"";if(this.isStatic&&!a.hash)if(this.staticRulesId&&r.hasNameForId(this.componentId,this.staticRulesId))s=zt(s,this.staticRulesId);else{var u=Hi(Kt(this.rules,e,r,a)),n=Cn(lr(this.baseHash,u)>>>0);if(!r.hasNameForId(this.componentId,n)){var i=a(u,".".concat(n),void 0,this.componentId);r.insertRules(this.componentId,n,i)}s=zt(s,n),this.staticRulesId=n}else{for(var o=lr(this.baseHash,a.hash),c="",d=0;d<this.rules.length;d++){var f=this.rules[d];if(typeof f=="string")c+=f;else if(f){var h=Hi(Kt(f,e,r,a));o=lr(o,h+d),c+=h}}if(c){var p=Cn(o>>>0);r.hasNameForId(this.componentId,p)||r.insertRules(this.componentId,p,a(c,".".concat(p),void 0,this.componentId)),s=zt(s,p)}}return s},t}(),Ad=se.createContext(void 0);Ad.Consumer;var zs={};function h1(t,e,r){var a=fu(t),s=t,u=!Hs(t),n=e.attrs,i=n===void 0?Cs:n,o=e.componentId,c=o===void 0?function(g,v){var D=typeof g!="string"?"sc":Ii(g);zs[D]=(zs[D]||0)+1;var S="".concat(D,"-").concat(_m(As+D+zs[D]));return v?"".concat(v,"-").concat(S):S}(e.displayName,e.parentComponentId):o,d=e.displayName,f=d===void 0?function(g){return Hs(g)?"styled.".concat(g):"Styled(".concat(Mm(g),")")}(t):d,h=e.displayName&&e.componentId?"".concat(Ii(e.displayName),"-").concat(e.componentId):e.componentId||c,p=a&&s.attrs?s.attrs.concat(i).filter(Boolean):i,m=e.shouldForwardProp;if(a&&s.shouldForwardProp){var b=s.shouldForwardProp;if(e.shouldForwardProp){var x=e.shouldForwardProp;m=function(g,v){return b(g,v)&&x(g,v)}}else m=b}var E=new f1(r,h,a?s.componentStyle:void 0);function A(g,v){return function(D,S,k){var q=D.attrs,O=D.componentStyle,N=D.defaultProps,F=D.foldedComponentIds,B=D.styledComponentId,w=D.target,j=se.useContext(Ad),P=Wi(),T=D.shouldForwardProp||P.shouldForwardProp,R=Fm(S,j,N)||xr,L=function(be,K,Y){for(var oe,ce=Re(Re({},K),{className:void 0,theme:Y}),Pe=0;Pe<be.length;Pe+=1){var de=Dr(oe=be[Pe])?oe(ce):oe;for(var De in de)ce[De]=De==="className"?zt(ce[De],de[De]):De==="style"?Re(Re({},ce[De]),de[De]):de[De]}return K.className&&(ce.className=zt(ce.className,K.className)),ce}(q,S,R),M=L.as||w,_={};for(var $ in L)L[$]===void 0||$[0]==="$"||$==="as"||$==="theme"&&L.theme===R||($==="forwardedAs"?_.as=L.forwardedAs:T&&!T($,M)||(_[$]=L[$]));var ee=function(be,K){var Y=Wi(),oe=be.generateAndInjectStyles(K,Y.styleSheet,Y.stylis);return oe}(O,L),X=zt(F,B);return ee&&(X+=" "+ee),L.className&&(X+=" "+L.className),_[Hs(M)&&!ld.has(M)?"class":"className"]=X,k&&(_.ref=k),C.createElement(M,_)}(y,g,v)}A.displayName=f;var y=se.forwardRef(A);return y.attrs=p,y.componentStyle=E,y.displayName=f,y.shouldForwardProp=m,y.foldedComponentIds=a?zt(s.foldedComponentIds,s.styledComponentId):"",y.styledComponentId=h,y.target=a?s.target:t,Object.defineProperty(y,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(g){this._foldedDefaultProps=a?function(v){for(var D=[],S=1;S<arguments.length;S++)D[S-1]=arguments[S];for(var k=0,q=D;k<q.length;k++)Sn(v,q[k],!0);return v}({},s.defaultProps,g):g}}),hu(y,function(){return".".concat(y.styledComponentId)}),u&&gd(y,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),y}function Yi(t,e){for(var r=[t[0]],a=0,s=e.length;a<s;a+=1)r.push(e[a],t[a+1]);return r}var Xi=function(t){return Object.assign(t,{isCss:!0})};function p1(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(Dr(t)||aa(t))return Xi(Kt(Yi(Cs,is([t],e,!0))));var a=t;return e.length===0&&a.length===1&&typeof a[0]=="string"?Kt(a):Xi(Kt(Yi(a,e)))}function Tn(t,e,r){if(r===void 0&&(r=xr),!e)throw la(1,e);var a=function(s){for(var u=[],n=1;n<arguments.length;n++)u[n-1]=arguments[n];return t(e,r,p1.apply(void 0,is([s],u,!1)))};return a.attrs=function(s){return Tn(t,e,Re(Re({},r),{attrs:Array.prototype.concat(r.attrs,s).filter(Boolean)}))},a.withConfig=function(s){return Tn(t,e,Re(Re({},r),s))},a}var Cd=function(t){return Tn(h1,t)},G=Cd;ld.forEach(function(t){G[t]=Cd(t)});var m1={};let g1=class{constructor(){this.isDevelopment=typeof process<"u"&&m1&&!1,this.isEnabled=this.isDevelopment,this.puppeteerProxyUrl="https://proxy.flodrama.org/proxy",this.corsAnywhereUrl="https://cors-anywhere.herokuapp.com",this.timeout=3e4,this.maxRetries=3,this.retryDelay=1e3,console.log(`[ProxyService] Initialis en mode ${this.isDevelopment?"dveloppement":"production"} - Service ${this.isEnabled?"activ":"dsactiv"}`)}getProxyUrl(e,r=!1){try{if(!e)throw new Error("URL non dfinie");if(!this.isEnabled)return e;const a=encodeURIComponent(e);return r?`${this.corsAnywhereUrl}/${e}`:`${this.puppeteerProxyUrl}?url=${a}`}catch(a){return console.error("[ProxyService] Erreur lors de la construction de l'URL du proxy:",a),e}}async fetch(e,r={},a=!1){try{if(!e)throw new Error("URL non dfinie");if(!this.isEnabled)return fetch(e,r);let s=0,u=null;for(;s<this.maxRetries;)try{s++;let n,i;if(a)n=this.getProxyUrl(e,!0),i={...r,headers:{...r.headers,"X-Requested-With":"XMLHttpRequest"}};else if(r.method==="POST"&&r.body){n=this.puppeteerProxyUrl;const f={url:e,headers:r.headers||{},timeout:this.timeout};if(r.body)if(typeof r.body=="string")try{f.body=JSON.parse(r.body)}catch{f.body=r.body}else if(r.body instanceof FormData){const h={};for(const[p,m]of r.body.entries())h[p]=m;f.formData=h}else f.body=r.body;i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)}}else n=this.getProxyUrl(e),i={method:"GET"};const o=new AbortController,c=setTimeout(()=>o.abort(),this.timeout);i.signal=o.signal;const d=await fetch(n,i);if(clearTimeout(c),!d.ok)throw new Error(`Rponse HTTP non OK: ${d.status} ${d.statusText}`);if(!a){const f=await d.json(),h=new Headers;if(h.append("Content-Type","text/html; charset=utf-8"),f.cookies){const p=f.cookies.map(m=>`${m.name}=${m.value}`).join("; ");h.append("Set-Cookie",p)}return new Response(f.content,{status:200,headers:h})}return d}catch(n){if(u=n,console.warn(`[ProxyService] Tentative ${s}/${this.maxRetries} choue:`,n),s>=this.maxRetries){if(!a)return console.log("[ProxyService] chec avec le proxy Puppeteer, tentative avec CORS Anywhere..."),this.fetch(e,r,!0);throw n}const i=s;await new Promise(o=>setTimeout(o,this.retryDelay*i))}throw u||new Error("chec de la requte aprs plusieurs tentatives")}catch(s){throw console.error("[ProxyService] Erreur critique:",s),s}}async get(e,r={},a=!1){try{if(!e)throw new Error("URL non dfinie");if(!this.isEnabled){const n=await fetch(e,r);return(n.headers.get("content-type")||"").includes("application/json")?n.json():n.text()}const s=await this.fetch(e,{...r,method:"GET"},a);return(s.headers.get("content-type")||"").includes("application/json")?s.json():s.text()}catch(s){throw console.error("[ProxyService] Erreur lors de la requte GET:",s),s}}async post(e,r,a={},s=!1){try{if(!e)throw new Error("URL non dfinie");if(!this.isEnabled){const d=await fetch(e,{...a,method:"POST",body:r});return(d.headers.get("content-type")||"").includes("application/json")?d.json():d.text()}let u,n;typeof r=="string"?(u=r,n="text/plain"):r instanceof FormData?u=r:(u=JSON.stringify(r),n="application/json");const i={...a,method:"POST",body:u,headers:{...a.headers}};n&&!(r instanceof FormData)&&(i.headers["Content-Type"]=n);const o=await this.fetch(e,i,s);return(o.headers.get("content-type")||"").includes("application/json")?o.json():o.text()}catch(u){throw console.error("[ProxyService] Erreur lors de la requte POST:",u),u}}extractDataFromResponse(e){try{return e?Array.isArray(e)?{data:e,MAX_LENGTH:e.length}:e&&typeof e=="object"&&"data"in e&&"MAX_LENGTH"in e?e:{data:e,MAX_LENGTH:Array.isArray(e)?e.length:0}:{data:[],MAX_LENGTH:0}}catch(r){return console.error("[ProxyService] Erreur lors de l'extraction des donnes:",r),{data:[],MAX_LENGTH:0}}}};const Sd=new g1,Ea=["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.0 Safari/605.1.15","Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4515.107 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:90.0) Gecko/20100101 Firefox/90.0","Mozilla/5.0 (iPhone; CPU iPhone OS 14_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/14.0 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:109.0) Gecko/20100101 Firefox/115.0","Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:109.0) Gecko/20100101 Firefox/115.0"],Ta=["fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","en-US,en;q=0.9","fr-FR,fr;q=0.8,en-US;q=0.5,en;q=0.3","en-GB,en;q=0.9,fr;q=0.8","fr-CA,fr;q=0.9,en-CA;q=0.7,en;q=0.5"],ja=["Windows","MacOS","Linux","Android","iOS"],ka=["1920x1080","1366x768","1440x900","1536x864","2560x1440","3840x2160","1280x720","1680x1050"],Na=["Europe/Paris","Europe/London","America/New_York","America/Los_Angeles","Asia/Tokyo","Australia/Sydney","Europe/Berlin","Europe/Madrid"],Ji=["Arial","Helvetica","Times New Roman","Courier New","Verdana","Georgia","Palatino","Garamond","Bookman","Comic Sans MS","Trebuchet MS","Arial Black","Impact","Roboto","Open Sans","Lato","Montserrat"];class b1{constructor(){this.lastUserAgentIndex=0,this.lastLanguageIndex=0,this.lastPlatformIndex=0,this.lastScreenResolutionIndex=0,this.lastTimezoneIndex=0,this.defaultFingerprint=this.generateFingerprint()}generateFingerprint(e={}){this.lastUserAgentIndex=(this.lastUserAgentIndex+1)%Ea.length,this.lastLanguageIndex=(this.lastLanguageIndex+1)%Ta.length,this.lastPlatformIndex=(this.lastPlatformIndex+1)%ja.length,this.lastScreenResolutionIndex=(this.lastScreenResolutionIndex+1)%ka.length,this.lastTimezoneIndex=(this.lastTimezoneIndex+1)%Na.length;const r=e.userAgent||Ea[this.lastUserAgentIndex],a=e.language||Ta[this.lastLanguageIndex],s=e.platform||ja[this.lastPlatformIndex],u=e.screenResolution||ka[this.lastScreenResolutionIndex],n=e.timezone||Na[this.lastTimezoneIndex],i=[...Ji],o=[],c=Math.floor(Math.random()*10)+5;for(let m=0;m<c&&i.length>0;m++){const b=Math.floor(Math.random()*i.length);o.push(i.splice(b,1)[0])}const d=this.generateWebGLHash(),f=this.generateCanvasHash(),h=this.generatePlugins(),p=this.generateHeaders(r,a,s);return{userAgent:r,language:a,platform:s,screenResolution:u,timezone:n,fonts:o,webglHash:d,canvasHash:f,plugins:h,headers:p,colorDepth:24,deviceMemory:8,hardwareConcurrency:4,touchSupport:!1,sessionStorage:!0,localStorage:!0,indexedDB:!0,addBehavior:!1,openDatabase:!0,cpuClass:"unknown",doNotTrack:"unspecified",canvas:f,webgl:d,webglVendor:"Google Inc. (Intel)",webglRenderer:"ANGLE (Intel, Intel(R) UHD Graphics Direct3D11 vs_5_0 ps_5_0, D3D11)",adBlock:!1,hasLiedLanguages:!1,hasLiedResolution:!1,hasLiedOs:!1,hasLiedBrowser:!1,touchPoints:0,audio:"audio_fp",enumerateDevices:"enumerate_devices_fp"}}generateRandomFingerprint(){const e=this.getRandomUserAgent(),r=this.getRandomLanguage(),a=this.getRandomPlatform(),s=ka[Math.floor(Math.random()*ka.length)],u=Na[Math.floor(Math.random()*Na.length)],n=this.generateWebGLHash(),i=this.generateCanvasHash(),o=this.generatePlugins(),c=this.generateHeaders(e,r,a),d=[...Ji],f=[],h=Math.floor(Math.random()*10)+5;for(let p=0;p<h&&d.length>0;p++){const m=Math.floor(Math.random()*d.length);f.push(d.splice(m,1)[0])}return{userAgent:e,language:r,platform:a,screenResolution:s,timezone:u,fonts:f,webglHash:n,canvasHash:i,plugins:o,headers:c,colorDepth:24,deviceMemory:8,hardwareConcurrency:4,touchSupport:!1,sessionStorage:!0,localStorage:!0,indexedDB:!0,addBehavior:!1,openDatabase:!0}}generateWebGLHash(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let r="";for(let s=0;s<32;s++)r+=e.charAt(Math.floor(Math.random()*e.length));return r}generateCanvasHash(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let r="";for(let s=0;s<32;s++)r+=e.charAt(Math.floor(Math.random()*e.length));return r}generatePlugins(){const e=[{name:"Chrome PDF Plugin",filename:"internal-pdf-viewer",description:"Portable Document Format"},{name:"Chrome PDF Viewer",filename:"mhjfbmdgcfjbbpaeojofohoefgiehjai",description:"Portable Document Format"},{name:"Native Client",filename:"internal-nacl-plugin",description:""},{name:"Widevine Content Decryption Module",filename:"widevinecdmadapter.dll",description:"Enables Widevine licenses for playback of HTML audio/video content."},{name:"Microsoft Edge PDF Plugin",filename:"internal-pdf-viewer",description:"Portable Document Format"},{name:"Microsoft Edge PDF Viewer",filename:"mhjfbmdgcfjbbpaeojofohoefgiehjai",description:"Portable Document Format"}],r=Math.floor(Math.random()*4)+1,a=[],s=[...e];for(let u=0;u<r&&s.length>0;u++){const n=Math.floor(Math.random()*s.length);a.push(s.splice(n,1)[0])}return a}generateHeaders(e,r,a){return{"User-Agent":e,"Accept-Language":r,Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7","Accept-Encoding":"gzip, deflate, br","Sec-Ch-Ua":'"Not A(Brand";v="99", "Google Chrome";v="121", "Chromium";v="121"',"Sec-Ch-Ua-Mobile":"?0","Sec-Ch-Ua-Platform":`"${a}"`,"Sec-Fetch-Dest":"document","Sec-Fetch-Mode":"navigate","Sec-Fetch-Site":"none","Sec-Fetch-User":"?1","Upgrade-Insecure-Requests":"1","Cache-Control":"max-age=0"}}generateCookies(e,r=null){const a=r||Math.floor(Math.random()*10)+5,s=["session_id","user_id","auth_token","csrf_token","theme","language","preferences","last_visit","device_id","tracking_id","visitor_id","ab_test","gdpr_consent","analytics_id","referrer","utm_source","utm_medium","utm_campaign","ads_id","notification"],u=[()=>this.generateRandomId(16),()=>Date.now().toString(),()=>Math.random()>.5?"true":"false",()=>Math.floor(Math.random()*1e3).toString(),()=>encodeURIComponent(JSON.stringify({id:this.generateRandomId(8),ts:Date.now()}))],n={},i=new Set;for(let o=0;o<a;o++){let c;do if(Math.random()>.7&&s.length>0){const p=Math.floor(Math.random()*s.length);c=s[p]}else c=this.generateRandomId(Math.floor(Math.random()*10)+3);while(i.has(c));i.add(c);const d=u[Math.floor(Math.random()*u.length)],f=d(),h=p=>({value:f,domain:e,path:Math.random()>.3?"/":"/path"+Math.floor(Math.random()*3),secure:Math.random()>.5,httpOnly:Math.random()>.7,sameSite:["Strict","Lax","None"][Math.floor(Math.random()*3)],expires:new Date(Date.now()+Math.floor(Math.random()*864e5*30)).toUTCString()});n[c]=h()}return n}getDefaultFingerprint(){return this.defaultFingerprint}getRandomUserAgent(){return Ea[Math.floor(Math.random()*Ea.length)]}getRandomLanguage(){return Ta[Math.floor(Math.random()*Ta.length)]}getRandomPlatform(){return ja[Math.floor(Math.random()*ja.length)]}generateRandomId(e){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let a="";for(let s=0;s<e;s++)a+=r.charAt(Math.floor(Math.random()*r.length));return a}}const Ed=new b1,y1={min:50,max:200},v1={min:200,max:500},x1={min:1e3,max:3e3},D1={min:500,max:1500},w1={min:100,max:300},A1={min:100,max:300},C1=.2,S1={min:.1,max:.3};class E1{constructor(){this.currentPosition={x:0,y:0},this.targetPosition={x:0,y:0},this.velocity={x:0,y:0},this.scrollPosition=0,this.scrollDirection=1,this.isScrolling=!1,this.isMovingMouse=!1,this.searchEngines=["https://www.google.com/search?q=","https://www.bing.com/search?q=","https://search.yahoo.com/search?p=","https://duckduckgo.com/?q=","https://www.baidu.com/s?wd="],this.socialSites=["https://www.facebook.com/","https://twitter.com/","https://www.instagram.com/","https://www.reddit.com/r/kdrama/","https://www.pinterest.com/"]}getRandomDelay(e){return Math.floor(Math.random()*(e.max-e.min+1))+e.min}async simulateTyping(e){const r=this.getRandomDelay(y1)*e;await new Promise(a=>setTimeout(a,r))}async simulateReading(e){const r=e.split(/\s+/).length,a=this.getRandomDelay(v1)*r;await new Promise(s=>setTimeout(s,a))}async simulateNavigation(){const e=this.getRandomDelay(x1);await new Promise(r=>setTimeout(r,e))}async simulateScrolling(e=5e3){if(this.isScrolling)return;this.isScrolling=!0;const r=Date.now();for(;Date.now()-r<e;){Math.random()<C1&&(this.scrollDirection*=-1);const a=this.getRandomDelay(A1)*this.scrollDirection;this.scrollPosition+=a,typeof window<"u"&&window.scrollBy(0,a),await new Promise(s=>setTimeout(s,this.getRandomDelay(D1)))}this.isScrolling=!1}async simulateMouseMovement(e,r=2e3){if(this.isMovingMouse)return;this.isMovingMouse=!0,this.targetPosition=e;const a=Date.now();for(;Date.now()-a<r;){const s=this.targetPosition.x-this.currentPosition.x,u=this.targetPosition.y-this.currentPosition.y,n=this.getRandomDelay(S1);if(this.velocity.x+=s*n,this.velocity.y+=u*n,this.velocity.x*=.9,this.velocity.y*=.9,this.currentPosition.x+=this.velocity.x,this.currentPosition.y+=this.velocity.y,typeof window<"u"&&window.dispatchEvent){const o=new MouseEvent("mousemove",{clientX:this.currentPosition.x,clientY:this.currentPosition.y,bubbles:!0,cancelable:!0});window.dispatchEvent(o)}if(await new Promise(o=>setTimeout(o,this.getRandomDelay(w1))),Math.sqrt(s*s+u*u)<5)break}this.isMovingMouse=!1}async simulateClick(e){if(await this.simulateMouseMovement(e),typeof window<"u"&&window.dispatchEvent){const r=new MouseEvent("click",{clientX:e.x,clientY:e.y,bubbles:!0,cancelable:!0});window.dispatchEvent(r)}await new Promise(r=>setTimeout(r,this.getRandomDelay({min:100,max:300})))}generateReferer(e){var u;let r="";try{r=new URL(e).hostname.replace("www.","")}catch{r=((u=e.split("/")[2])==null?void 0:u.replace("www.",""))||""}const a=["search","social","direct","internal"];switch(a[Math.floor(Math.random()*a.length)]){case"search":const n=this.searchEngines[Math.floor(Math.random()*this.searchEngines.length)],i=[`${r} drama online`,`watch ${r} korean drama`,`best dramas on ${r}`,`${r} new episodes`,`korean drama streaming ${r}`],o=i[Math.floor(Math.random()*i.length)];return`${n}${encodeURIComponent(o)}`;case"social":return this.socialSites[Math.floor(Math.random()*this.socialSites.length)];case"internal":try{const c=new URL(e),d=["/index.html","/popular","/recent","/top","/drama-list","/movies"],f=d[Math.floor(Math.random()*d.length)];return`${c.protocol}//${c.hostname}${f}`}catch{return`https://${r}`}case"direct":default:return""}}async simulateSession(e){for(const r of e)switch(r.type){case"navigate":await this.simulateNavigation();break;case"read":await this.simulateReading(r.text);break;case"type":await this.simulateTyping(r.text.length);break;case"scroll":await this.simulateScrolling(r.duration);break;case"move":await this.simulateMouseMovement(r.position,r.duration);break;case"click":await this.simulateClick(r.position);break;case"wait":await new Promise(a=>setTimeout(a,r.duration));break;default:console.warn(`[HumanBehaviorService] Action non reconnue: ${r.type}`)}}}const Td=new E1;var fe={},er={},Pa={},$r={exports:{}};/*! https://mths.be/he v1.2.0 by @mathias | MIT license */var T1=$r.exports,Zi;function pu(){return Zi||(Zi=1,function(t,e){(function(r){var a=e,s=t&&t.exports==a&&t,u=typeof wu=="object"&&wu;(u.global===u||u.window===u)&&(r=u);var n=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,i=/[\x01-\x7F]/g,o=/[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,c=/<\u20D2|=\u20E5|>\u20D2|\u205F\u200A|\u219D\u0338|\u2202\u0338|\u2220\u20D2|\u2229\uFE00|\u222A\uFE00|\u223C\u20D2|\u223D\u0331|\u223E\u0333|\u2242\u0338|\u224B\u0338|\u224D\u20D2|\u224E\u0338|\u224F\u0338|\u2250\u0338|\u2261\u20E5|\u2264\u20D2|\u2265\u20D2|\u2266\u0338|\u2267\u0338|\u2268\uFE00|\u2269\uFE00|\u226A\u0338|\u226A\u20D2|\u226B\u0338|\u226B\u20D2|\u227F\u0338|\u2282\u20D2|\u2283\u20D2|\u228A\uFE00|\u228B\uFE00|\u228F\u0338|\u2290\u0338|\u2293\uFE00|\u2294\uFE00|\u22B4\u20D2|\u22B5\u20D2|\u22D8\u0338|\u22D9\u0338|\u22DA\uFE00|\u22DB\uFE00|\u22F5\u0338|\u22F9\u0338|\u2933\u0338|\u29CF\u0338|\u29D0\u0338|\u2A6D\u0338|\u2A70\u0338|\u2A7D\u0338|\u2A7E\u0338|\u2AA1\u0338|\u2AA2\u0338|\u2AAC\uFE00|\u2AAD\uFE00|\u2AAF\u0338|\u2AB0\u0338|\u2AC5\u0338|\u2AC6\u0338|\u2ACB\uFE00|\u2ACC\uFE00|\u2AFD\u20E5|[\xA0-\u0113\u0116-\u0122\u0124-\u012B\u012E-\u014D\u0150-\u017E\u0192\u01B5\u01F5\u0237\u02C6\u02C7\u02D8-\u02DD\u0311\u0391-\u03A1\u03A3-\u03A9\u03B1-\u03C9\u03D1\u03D2\u03D5\u03D6\u03DC\u03DD\u03F0\u03F1\u03F5\u03F6\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E\u045F\u2002-\u2005\u2007-\u2010\u2013-\u2016\u2018-\u201A\u201C-\u201E\u2020-\u2022\u2025\u2026\u2030-\u2035\u2039\u203A\u203E\u2041\u2043\u2044\u204F\u2057\u205F-\u2063\u20AC\u20DB\u20DC\u2102\u2105\u210A-\u2113\u2115-\u211E\u2122\u2124\u2127-\u2129\u212C\u212D\u212F-\u2131\u2133-\u2138\u2145-\u2148\u2153-\u215E\u2190-\u219B\u219D-\u21A7\u21A9-\u21AE\u21B0-\u21B3\u21B5-\u21B7\u21BA-\u21DB\u21DD\u21E4\u21E5\u21F5\u21FD-\u2205\u2207-\u2209\u220B\u220C\u220F-\u2214\u2216-\u2218\u221A\u221D-\u2238\u223A-\u2257\u2259\u225A\u225C\u225F-\u2262\u2264-\u228B\u228D-\u229B\u229D-\u22A5\u22A7-\u22B0\u22B2-\u22BB\u22BD-\u22DB\u22DE-\u22E3\u22E6-\u22F7\u22F9-\u22FE\u2305\u2306\u2308-\u2310\u2312\u2313\u2315\u2316\u231C-\u231F\u2322\u2323\u232D\u232E\u2336\u233D\u233F\u237C\u23B0\u23B1\u23B4-\u23B6\u23DC-\u23DF\u23E2\u23E7\u2423\u24C8\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2550-\u256C\u2580\u2584\u2588\u2591-\u2593\u25A1\u25AA\u25AB\u25AD\u25AE\u25B1\u25B3-\u25B5\u25B8\u25B9\u25BD-\u25BF\u25C2\u25C3\u25CA\u25CB\u25EC\u25EF\u25F8-\u25FC\u2605\u2606\u260E\u2640\u2642\u2660\u2663\u2665\u2666\u266A\u266D-\u266F\u2713\u2717\u2720\u2736\u2758\u2772\u2773\u27C8\u27C9\u27E6-\u27ED\u27F5-\u27FA\u27FC\u27FF\u2902-\u2905\u290C-\u2913\u2916\u2919-\u2920\u2923-\u292A\u2933\u2935-\u2939\u293C\u293D\u2945\u2948-\u294B\u294E-\u2976\u2978\u2979\u297B-\u297F\u2985\u2986\u298B-\u2996\u299A\u299C\u299D\u29A4-\u29B7\u29B9\u29BB\u29BC\u29BE-\u29C5\u29C9\u29CD-\u29D0\u29DC-\u29DE\u29E3-\u29E5\u29EB\u29F4\u29F6\u2A00-\u2A02\u2A04\u2A06\u2A0C\u2A0D\u2A10-\u2A17\u2A22-\u2A27\u2A29\u2A2A\u2A2D-\u2A31\u2A33-\u2A3C\u2A3F\u2A40\u2A42-\u2A4D\u2A50\u2A53-\u2A58\u2A5A-\u2A5D\u2A5F\u2A66\u2A6A\u2A6D-\u2A75\u2A77-\u2A9A\u2A9D-\u2AA2\u2AA4-\u2AB0\u2AB3-\u2AC8\u2ACB\u2ACC\u2ACF-\u2ADB\u2AE4\u2AE6-\u2AE9\u2AEB-\u2AF3\u2AFD\uFB00-\uFB04]|\uD835[\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDD6B]/g,d={"":"shy","":"zwnj","":"zwj","":"lrm","":"ic","":"it","":"af","":"rlm","":"ZeroWidthSpace","":"NoBreak","":"DownBreve","":"tdot","":"DotDot","	":"Tab","\n":"NewLine","":"puncsp","":"MediumSpace","":"thinsp","":"hairsp","":"emsp13","":"ensp","":"emsp14","":"emsp","":"numsp","":"nbsp","":"ThickSpace","":"oline",_:"lowbar","":"dash","":"ndash","":"mdash","":"horbar",",":"comma",";":"semi","":"bsemi",":":"colon","":"Colone","!":"excl","":"iexcl","?":"quest","":"iquest",".":"period","":"nldr","":"mldr","":"middot","'":"apos","":"lsquo","":"rsquo","":"sbquo","":"lsaquo","":"rsaquo",'"':"quot","":"ldquo","":"rdquo","":"bdquo","":"laquo","":"raquo","(":"lpar",")":"rpar","[":"lsqb","]":"rsqb","{":"lcub","}":"rcub","":"lceil","":"rceil","":"lfloor","":"rfloor","":"lopar","":"ropar","":"lbrke","":"rbrke","":"lbrkslu","":"rbrksld","":"lbrksld","":"rbrkslu","":"langd","":"rangd","":"lparlt","":"rpargt","":"gtlPar","":"ltrPar","":"lobrk","":"robrk","":"lang","":"rang","":"Lang","":"Rang","":"loang","":"roang","":"lbbrk","":"rbbrk","":"Vert","":"sect","":"para","@":"commat","*":"ast","/":"sol",undefined:null,"&":"amp","#":"num","%":"percnt","":"permil","":"pertenk","":"dagger","":"Dagger","":"bull","":"hybull","":"prime","":"Prime","":"tprime","":"qprime","":"bprime","":"caret","`":"grave","":"acute","":"tilde","^":"Hat","":"macr","":"breve","":"dot","":"die","":"ring","":"dblac","":"cedil","":"ogon","":"circ","":"caron","":"deg","":"copy","":"reg","":"copysr","":"wp","":"rx","":"mho","":"iiota","":"larr","":"nlarr","":"rarr","":"nrarr","":"uarr","":"darr","":"harr","":"nharr","":"varr","":"nwarr","":"nearr","":"searr","":"swarr","":"rarrw","":"nrarrw","":"Larr","":"Uarr","":"Rarr","":"Darr","":"larrtl","":"rarrtl","":"mapstoleft","":"mapstoup","":"map","":"mapstodown","":"larrhk","":"rarrhk","":"larrlp","":"rarrlp","":"harrw","":"lsh","":"rsh","":"ldsh","":"rdsh","":"crarr","":"cularr","":"curarr","":"olarr","":"orarr","":"lharu","":"lhard","":"uharr","":"uharl","":"rharu","":"rhard","":"dharr","":"dharl","":"rlarr","":"udarr","":"lrarr","":"llarr","":"uuarr","":"rrarr","":"ddarr","":"lrhar","":"rlhar","":"lArr","":"nlArr","":"uArr","":"rArr","":"nrArr","":"dArr","":"iff","":"nhArr","":"vArr","":"nwArr","":"neArr","":"seArr","":"swArr","":"lAarr","":"rAarr","":"zigrarr","":"larrb","":"rarrb","":"duarr","":"loarr","":"roarr","":"hoarr","":"forall","":"comp","":"part","":"npart","":"exist","":"nexist","":"empty","":"Del","":"in","":"notin","":"ni","":"notni","":"bepsi","":"prod","":"coprod","":"sum","+":"plus","":"pm","":"div","":"times","<":"lt","":"nlt","<":"nvlt","=":"equals","":"ne","=":"bne","":"Equal",">":"gt","":"ngt",">":"nvgt","":"not","|":"vert","":"brvbar","":"minus","":"mp","":"plusdo","":"frasl","":"setmn","":"lowast","":"compfn","":"Sqrt","":"prop","":"infin","":"angrt","":"ang","":"nang","":"angmsd","":"angsph","":"mid","":"nmid","":"par","":"npar","":"and","":"or","":"cap","":"caps","":"cup","":"cups","":"int","":"Int","":"tint","":"qint","":"oint","":"Conint","":"Cconint","":"cwint","":"cwconint","":"awconint","":"there4","":"becaus","":"ratio","":"Colon","":"minusd","":"mDDot","":"homtht","":"sim","":"nsim","":"nvsim","":"bsim","":"race","":"ac","":"acE","":"acd","":"wr","":"esim","":"nesim","":"sime","":"nsime","":"cong","":"ncong","":"simne","":"ap","":"nap","":"ape","":"apid","":"napid","":"bcong","":"CupCap","":"NotCupCap","":"nvap","":"bump","":"nbump","":"bumpe","":"nbumpe","":"doteq","":"nedot","":"eDot","":"efDot","":"erDot","":"colone","":"ecolon","":"ecir","":"cire","":"wedgeq","":"veeeq","":"trie","":"equest","":"equiv","":"nequiv","":"bnequiv","":"le","":"nle","":"nvle","":"ge","":"nge","":"nvge","":"lE","":"nlE","":"gE","":"ngE","":"lvnE","":"lnE","":"gnE","":"gvnE","":"ll","":"nLtv","":"nLt","":"gg","":"nGtv","":"nGt","":"twixt","":"lsim","":"nlsim","":"gsim","":"ngsim","":"lg","":"ntlg","":"gl","":"ntgl","":"pr","":"npr","":"sc","":"nsc","":"prcue","":"nprcue","":"sccue","":"nsccue","":"prsim","":"scsim","":"NotSucceedsTilde","":"sub","":"nsub","":"vnsub","":"sup","":"nsup","":"vnsup","":"sube","":"nsube","":"supe","":"nsupe","":"vsubne","":"subne","":"vsupne","":"supne","":"cupdot","":"uplus","":"sqsub","":"NotSquareSubset","":"sqsup","":"NotSquareSuperset","":"sqsube","":"nsqsube","":"sqsupe","":"nsqsupe","":"sqcap","":"sqcaps","":"sqcup","":"sqcups","":"oplus","":"ominus","":"otimes","":"osol","":"odot","":"ocir","":"oast","":"odash","":"plusb","":"minusb","":"timesb","":"sdotb","":"vdash","":"nvdash","":"dashv","":"top","":"bot","":"models","":"vDash","":"nvDash","":"Vdash","":"nVdash","":"Vvdash","":"VDash","":"nVDash","":"prurel","":"vltri","":"nltri","":"vrtri","":"nrtri","":"ltrie","":"nltrie","":"nvltrie","":"rtrie","":"nrtrie","":"nvrtrie","":"origof","":"imof","":"mumap","":"hercon","":"intcal","":"veebar","":"barvee","":"angrtvb","":"lrtri","":"Wedge","":"Vee","":"xcap","":"xcup","":"diam","":"sdot","":"Star","":"divonx","":"bowtie","":"ltimes","":"rtimes","":"lthree","":"rthree","":"bsime","":"cuvee","":"cuwed","":"Sub","":"Sup","":"Cap","":"Cup","":"fork","":"epar","":"ltdot","":"gtdot","":"Ll","":"nLl","":"Gg","":"nGg","":"lesg","":"leg","":"gel","":"gesl","":"cuepr","":"cuesc","":"lnsim","":"gnsim","":"prnsim","":"scnsim","":"vellip","":"ctdot","":"utdot","":"dtdot","":"disin","":"isinsv","":"isins","":"isindot","":"notindot","":"notinvc","":"notinvb","":"isinE","":"notinE","":"nisd","":"xnis","":"nis","":"notnivc","":"notnivb","":"barwed","":"Barwed","":"drcrop","":"dlcrop","":"urcrop","":"ulcrop","":"bnot","":"profline","":"profsurf","":"telrec","":"target","":"ulcorn","":"urcorn","":"dlcorn","":"drcorn","":"frown","":"smile","":"cylcty","":"profalar","":"topbot","":"ovbar","":"solbar","":"angzarr","":"lmoust","":"rmoust","":"tbrk","":"bbrk","":"bbrktbrk","":"OverParenthesis","":"UnderParenthesis","":"OverBrace","":"UnderBrace","":"trpezium","":"elinters","":"blank","":"boxh","":"boxv","":"boxdr","":"boxdl","":"boxur","":"boxul","":"boxvr","":"boxvl","":"boxhd","":"boxhu","":"boxvh","":"boxH","":"boxV","":"boxdR","":"boxDr","":"boxDR","":"boxdL","":"boxDl","":"boxDL","":"boxuR","":"boxUr","":"boxUR","":"boxuL","":"boxUl","":"boxUL","":"boxvR","":"boxVr","":"boxVR","":"boxvL","":"boxVl","":"boxVL","":"boxHd","":"boxhD","":"boxHD","":"boxHu","":"boxhU","":"boxHU","":"boxvH","":"boxVh","":"boxVH","":"uhblk","":"lhblk","":"block","":"blk14","":"blk12","":"blk34","":"squ","":"squf","":"EmptyVerySmallSquare","":"rect","":"marker","":"fltns","":"xutri","":"utrif","":"utri","":"rtrif","":"rtri","":"xdtri","":"dtrif","":"dtri","":"ltrif","":"ltri","":"loz","":"cir","":"tridot","":"xcirc","":"ultri","":"urtri","":"lltri","":"EmptySmallSquare","":"FilledSmallSquare","":"starf","":"star","":"phone","":"female","":"male","":"spades","":"clubs","":"hearts","":"diams","":"sung","":"check","":"cross","":"malt","":"sext","":"VerticalSeparator","":"bsolhsub","":"suphsol","":"xlarr","":"xrarr","":"xharr","":"xlArr","":"xrArr","":"xhArr","":"xmap","":"dzigrarr","":"nvlArr","":"nvrArr","":"nvHarr","":"Map","":"lbarr","":"rbarr","":"lBarr","":"rBarr","":"RBarr","":"DDotrahd","":"UpArrowBar","":"DownArrowBar","":"Rarrtl","":"latail","":"ratail","":"lAtail","":"rAtail","":"larrfs","":"rarrfs","":"larrbfs","":"rarrbfs","":"nwarhk","":"nearhk","":"searhk","":"swarhk","":"nwnear","":"toea","":"tosa","":"swnwar","":"rarrc","":"nrarrc","":"cudarrr","":"ldca","":"rdca","":"cudarrl","":"larrpl","":"curarrm","":"cularrp","":"rarrpl","":"harrcir","":"Uarrocir","":"lurdshar","":"ldrushar","":"LeftRightVector","":"RightUpDownVector","":"DownLeftRightVector","":"LeftUpDownVector","":"LeftVectorBar","":"RightVectorBar","":"RightUpVectorBar","":"RightDownVectorBar","":"DownLeftVectorBar","":"DownRightVectorBar","":"LeftUpVectorBar","":"LeftDownVectorBar","":"LeftTeeVector","":"RightTeeVector","":"RightUpTeeVector","":"RightDownTeeVector","":"DownLeftTeeVector","":"DownRightTeeVector","":"LeftUpTeeVector","":"LeftDownTeeVector","":"lHar","":"uHar","":"rHar","":"dHar","":"luruhar","":"ldrdhar","":"ruluhar","":"rdldhar","":"lharul","":"llhard","":"rharul","":"lrhard","":"udhar","":"duhar","":"RoundImplies","":"erarr","":"simrarr","":"larrsim","":"rarrsim","":"rarrap","":"ltlarr","":"gtrarr","":"subrarr","":"suplarr","":"lfisht","":"rfisht","":"ufisht","":"dfisht","":"vzigzag","":"vangrt","":"angrtvbd","":"ange","":"range","":"dwangle","":"uwangle","":"angmsdaa","":"angmsdab","":"angmsdac","":"angmsdad","":"angmsdae","":"angmsdaf","":"angmsdag","":"angmsdah","":"bemptyv","":"demptyv","":"cemptyv","":"raemptyv","":"laemptyv","":"ohbar","":"omid","":"opar","":"operp","":"olcross","":"odsold","":"olcir","":"ofcir","":"olt","":"ogt","":"cirscir","":"cirE","":"solb","":"bsolb","":"boxbox","":"trisb","":"rtriltri","":"LeftTriangleBar","":"NotLeftTriangleBar","":"RightTriangleBar","":"NotRightTriangleBar","":"iinfin","":"infintie","":"nvinfin","":"eparsl","":"smeparsl","":"eqvparsl","":"lozf","":"RuleDelayed","":"dsol","":"xodot","":"xoplus","":"xotime","":"xuplus","":"xsqcup","":"fpartint","":"cirfnint","":"awint","":"rppolint","":"scpolint","":"npolint","":"pointint","":"quatint","":"intlarhk","":"pluscir","":"plusacir","":"simplus","":"plusdu","":"plussim","":"plustwo","":"mcomma","":"minusdu","":"loplus","":"roplus","":"Cross","":"timesd","":"timesbar","":"smashp","":"lotimes","":"rotimes","":"otimesas","":"Otimes","":"odiv","":"triplus","":"triminus","":"tritime","":"iprod","":"amalg","":"capdot","":"ncup","":"ncap","":"capand","":"cupor","":"cupcap","":"capcup","":"cupbrcap","":"capbrcup","":"cupcup","":"capcap","":"ccups","":"ccaps","":"ccupssm","":"And","":"Or","":"andand","":"oror","":"orslope","":"andslope","":"andv","":"orv","":"andd","":"ord","":"wedbar","":"sdote","":"simdot","":"congdot","":"ncongdot","":"easter","":"apacir","":"apE","":"napE","":"eplus","":"pluse","":"Esim","":"eDDot","":"equivDD","":"ltcir","":"gtcir","":"ltquest","":"gtquest","":"les","":"nles","":"ges","":"nges","":"lesdot","":"gesdot","":"lesdoto","":"gesdoto","":"lesdotor","":"gesdotol","":"lap","":"gap","":"lne","":"gne","":"lnap","":"gnap","":"lEg","":"gEl","":"lsime","":"gsime","":"lsimg","":"gsiml","":"lgE","":"glE","":"lesges","":"gesles","":"els","":"egs","":"elsdot","":"egsdot","":"el","":"eg","":"siml","":"simg","":"simlE","":"simgE","":"LessLess","":"NotNestedLessLess","":"GreaterGreater","":"NotNestedGreaterGreater","":"glj","":"gla","":"ltcc","":"gtcc","":"lescc","":"gescc","":"smt","":"lat","":"smte","":"smtes","":"late","":"lates","":"bumpE","":"pre","":"npre","":"sce","":"nsce","":"prE","":"scE","":"prnE","":"scnE","":"prap","":"scap","":"prnap","":"scnap","":"Pr","":"Sc","":"subdot","":"supdot","":"subplus","":"supplus","":"submult","":"supmult","":"subedot","":"supedot","":"subE","":"nsubE","":"supE","":"nsupE","":"subsim","":"supsim","":"vsubnE","":"subnE","":"vsupnE","":"supnE","":"csub","":"csup","":"csube","":"csupe","":"subsup","":"supsub","":"subsub","":"supsup","":"suphsub","":"supdsub","":"forkv","":"topfork","":"mlcp","":"Dashv","":"Vdashl","":"Barv","":"vBar","":"vBarv","":"Vbar","":"Not","":"bNot","":"rnmid","":"cirmid","":"midcir","":"topcir","":"nhpar","":"parsim","":"parsl","":"nparsl","":"flat","":"natur","":"sharp","":"curren","":"cent",$:"dollar","":"pound","":"yen","":"euro","":"sup1","":"half","":"frac13","":"frac14","":"frac15","":"frac16","":"frac18","":"sup2","":"frac23","":"frac25","":"sup3","":"frac34","":"frac35","":"frac38","":"frac45","":"frac56","":"frac58","":"frac78","":"ascr","":"aopf","":"afr","":"Aopf","":"Afr","":"Ascr",:"ordf",:"aacute",:"Aacute",:"agrave",:"Agrave",:"abreve",:"Abreve",:"acirc",:"Acirc",:"aring",:"angst",:"auml",:"Auml",:"atilde",:"Atilde",:"aogon",:"Aogon",:"amacr",:"Amacr",:"aelig",:"AElig","":"bscr","":"bopf","":"bfr","":"Bopf",:"Bscr","":"Bfr","":"cfr","":"cscr","":"copf",:"Cfr","":"Cscr",:"Copf",:"cacute",:"Cacute",:"ccirc",:"Ccirc",:"ccaron",:"Ccaron",:"cdot",:"Cdot",:"ccedil",:"Ccedil","":"incare","":"dfr","":"dd","":"dopf","":"dscr","":"Dscr","":"Dfr","":"DD","":"Dopf",:"dcaron",:"Dcaron",:"dstrok",:"Dstrok",:"eth",:"ETH","":"ee",:"escr","":"efr","":"eopf",:"Escr","":"Efr","":"Eopf",:"eacute",:"Eacute",:"egrave",:"Egrave",:"ecirc",:"Ecirc",:"ecaron",:"Ecaron",:"euml",:"Euml",:"edot",:"Edot",:"eogon",:"Eogon",:"emacr",:"Emacr","":"ffr","":"fopf","":"fscr","":"Ffr","":"Fopf",:"Fscr",:"fflig",:"ffilig",:"ffllig",:"filig",fj:"fjlig",:"fllig",:"fnof",:"gscr","":"gopf","":"gfr","":"Gscr","":"Gopf","":"Gfr",:"gacute",:"gbreve",:"Gbreve",:"gcirc",:"Gcirc",:"gdot",:"Gdot",:"Gcedil","":"hfr",:"planckh","":"hscr","":"hopf",:"Hscr",:"Hfr",:"Hopf",:"hcirc",:"Hcirc",:"hbar",:"hstrok",:"Hstrok","":"iopf","":"ifr","":"iscr","":"ii","":"Iopf",:"Iscr",:"Im",:"iacute",:"Iacute",:"igrave",:"Igrave",:"icirc",:"Icirc",:"iuml",:"Iuml",:"itilde",:"Itilde",:"Idot",:"iogon",:"Iogon",:"imacr",:"Imacr",:"ijlig",:"IJlig",:"imath","":"jscr","":"jopf","":"jfr","":"Jscr","":"Jfr","":"Jopf",:"jcirc",:"Jcirc","":"jmath","":"kopf","":"kscr","":"kfr","":"Kscr","":"Kopf","":"Kfr",:"kcedil",:"Kcedil","":"lfr","":"lscr",:"ell","":"lopf",:"Lscr","":"Lfr","":"Lopf",:"lacute",:"Lacute",:"lcaron",:"Lcaron",:"lcedil",:"Lcedil",:"lstrok",:"Lstrok",:"lmidot",:"Lmidot","":"mfr","":"mopf","":"mscr","":"Mfr","":"Mopf",:"Mscr","":"nfr","":"nopf","":"nscr",:"Nopf","":"Nscr","":"Nfr",:"nacute",:"Nacute",:"ncaron",:"Ncaron",:"ntilde",:"Ntilde",:"ncedil",:"Ncedil","":"numero",:"eng",:"ENG","":"oopf","":"ofr",:"oscr","":"Oscr","":"Ofr","":"Oopf",:"ordm",:"oacute",:"Oacute",:"ograve",:"Ograve",:"ocirc",:"Ocirc",:"ouml",:"Ouml",:"odblac",:"Odblac",:"otilde",:"Otilde",:"oslash",:"Oslash",:"omacr",:"Omacr",:"oelig",:"OElig","":"pfr","":"pscr","":"popf",:"Popf","":"Pfr","":"Pscr","":"qopf","":"qfr","":"qscr","":"Qscr","":"Qfr",:"Qopf",:"kgreen","":"rfr","":"ropf","":"rscr",:"Rscr",:"Re",:"Ropf",:"racute",:"Racute",:"rcaron",:"Rcaron",:"rcedil",:"Rcedil","":"sopf","":"sscr","":"sfr","":"Sopf","":"Sfr","":"Sscr","":"oS",:"sacute",:"Sacute",:"scirc",:"Scirc",:"scaron",:"Scaron",:"scedil",:"Scedil",:"szlig","":"tfr","":"tscr","":"topf","":"Tscr","":"Tfr","":"Topf",:"tcaron",:"Tcaron",:"tcedil",:"Tcedil","":"trade",:"tstrok",:"Tstrok","":"uscr","":"uopf","":"ufr","":"Uopf","":"Ufr","":"Uscr",:"uacute",:"Uacute",:"ugrave",:"Ugrave",:"ubreve",:"Ubreve",:"ucirc",:"Ucirc",:"uring",:"Uring",:"uuml",:"Uuml",:"udblac",:"Udblac",:"utilde",:"Utilde",:"uogon",:"Uogon",:"umacr",:"Umacr","":"vfr","":"vopf","":"vscr","":"Vfr","":"Vopf","":"Vscr","":"wopf","":"wscr","":"wfr","":"Wscr","":"Wopf","":"Wfr",:"wcirc",:"Wcirc","":"xfr","":"xscr","":"xopf","":"Xopf","":"Xfr","":"Xscr","":"yfr","":"yscr","":"yopf","":"Yscr","":"Yfr","":"Yopf",:"yacute",:"Yacute",:"ycirc",:"Ycirc",:"yuml",:"Yuml","":"zscr","":"zfr","":"zopf",:"Zfr",:"Zopf","":"Zscr",:"zacute",:"Zacute",:"zcaron",:"Zcaron",:"zdot",:"Zdot",:"imped",:"thorn",:"THORN",:"napos",:"alpha",:"Alpha",:"beta",:"Beta",:"gamma",:"Gamma",:"delta",:"Delta",:"epsi","":"epsiv",:"Epsilon",:"gammad",:"Gammad",:"zeta",:"Zeta",:"eta",:"Eta",:"theta",:"thetav",:"Theta",:"iota",:"Iota",:"kappa",:"kappav",:"Kappa",:"lambda",:"Lambda",:"mu",:"micro",:"Mu",:"nu",:"Nu",:"xi",:"Xi",:"omicron",:"Omicron",:"pi",:"piv",:"Pi",:"rho",:"rhov",:"Rho",:"sigma",:"Sigma",:"sigmaf",:"tau",:"Tau",:"upsi",:"Upsilon",:"Upsi",:"phi",:"phiv",:"Phi",:"chi",:"Chi",:"psi",:"Psi",:"omega",:"ohm",:"acy",:"Acy",:"bcy",:"Bcy",:"vcy",:"Vcy",:"gcy",:"Gcy",:"gjcy",:"GJcy",:"dcy",:"Dcy",:"djcy",:"DJcy",:"iecy",:"IEcy",:"iocy",:"IOcy",:"jukcy",:"Jukcy",:"zhcy",:"ZHcy",:"zcy",:"Zcy",:"dscy",:"DScy",:"icy",:"Icy",:"iukcy",:"Iukcy",:"yicy",:"YIcy",:"jcy",:"Jcy",:"jsercy",:"Jsercy",:"kcy",:"Kcy",:"kjcy",:"KJcy",:"lcy",:"Lcy",:"ljcy",:"LJcy",:"mcy",:"Mcy",:"ncy",:"Ncy",:"njcy",:"NJcy",:"ocy",:"Ocy",:"pcy",:"Pcy",:"rcy",:"Rcy",:"scy",:"Scy",:"tcy",:"Tcy",:"tshcy",:"TSHcy",:"ucy",:"Ucy",:"ubrcy",:"Ubrcy",:"fcy",:"Fcy",:"khcy",:"KHcy",:"tscy",:"TScy",:"chcy",:"CHcy",:"dzcy",:"DZcy",:"shcy",:"SHcy",:"shchcy",:"SHCHcy",:"hardcy",:"HARDcy",:"ycy",:"Ycy",:"softcy",:"SOFTcy",:"ecy",:"Ecy",:"yucy",:"YUcy",:"yacy",:"YAcy",:"aleph",:"beth",:"gimel",:"daleth"},f=/["&'<>`]/g,h={'"':"&quot;","&":"&amp;","'":"&#x27;","<":"&lt;",">":"&gt;","`":"&#x60;"},p=/&#(?:[xX][^a-fA-F0-9]|[^0-9xX])/,m=/[\0-\x08\x0B\x0E-\x1F\x7F-\x9F\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,b=/&(CounterClockwiseContourIntegral|DoubleLongLeftRightArrow|ClockwiseContourIntegral|NotNestedGreaterGreater|NotSquareSupersetEqual|DiacriticalDoubleAcute|NotRightTriangleEqual|NotSucceedsSlantEqual|NotPrecedesSlantEqual|CloseCurlyDoubleQuote|NegativeVeryThinSpace|DoubleContourIntegral|FilledVerySmallSquare|CapitalDifferentialD|OpenCurlyDoubleQuote|EmptyVerySmallSquare|NestedGreaterGreater|DoubleLongRightArrow|NotLeftTriangleEqual|NotGreaterSlantEqual|ReverseUpEquilibrium|DoubleLeftRightArrow|NotSquareSubsetEqual|NotDoubleVerticalBar|RightArrowLeftArrow|NotGreaterFullEqual|NotRightTriangleBar|SquareSupersetEqual|DownLeftRightVector|DoubleLongLeftArrow|leftrightsquigarrow|LeftArrowRightArrow|NegativeMediumSpace|blacktriangleright|RightDownVectorBar|PrecedesSlantEqual|RightDoubleBracket|SucceedsSlantEqual|NotLeftTriangleBar|RightTriangleEqual|SquareIntersection|RightDownTeeVector|ReverseEquilibrium|NegativeThickSpace|longleftrightarrow|Longleftrightarrow|LongLeftRightArrow|DownRightTeeVector|DownRightVectorBar|GreaterSlantEqual|SquareSubsetEqual|LeftDownVectorBar|LeftDoubleBracket|VerticalSeparator|rightleftharpoons|NotGreaterGreater|NotSquareSuperset|blacktriangleleft|blacktriangledown|NegativeThinSpace|LeftDownTeeVector|NotLessSlantEqual|leftrightharpoons|DoubleUpDownArrow|DoubleVerticalBar|LeftTriangleEqual|FilledSmallSquare|twoheadrightarrow|NotNestedLessLess|DownLeftTeeVector|DownLeftVectorBar|RightAngleBracket|NotTildeFullEqual|NotReverseElement|RightUpDownVector|DiacriticalTilde|NotSucceedsTilde|circlearrowright|NotPrecedesEqual|rightharpoondown|DoubleRightArrow|NotSucceedsEqual|NonBreakingSpace|NotRightTriangle|LessEqualGreater|RightUpTeeVector|LeftAngleBracket|GreaterFullEqual|DownArrowUpArrow|RightUpVectorBar|twoheadleftarrow|GreaterEqualLess|downharpoonright|RightTriangleBar|ntrianglerighteq|NotSupersetEqual|LeftUpDownVector|DiacriticalAcute|rightrightarrows|vartriangleright|UpArrowDownArrow|DiacriticalGrave|UnderParenthesis|EmptySmallSquare|LeftUpVectorBar|leftrightarrows|DownRightVector|downharpoonleft|trianglerighteq|ShortRightArrow|OverParenthesis|DoubleLeftArrow|DoubleDownArrow|NotSquareSubset|bigtriangledown|ntrianglelefteq|UpperRightArrow|curvearrowright|vartriangleleft|NotLeftTriangle|nleftrightarrow|LowerRightArrow|NotHumpDownHump|NotGreaterTilde|rightthreetimes|LeftUpTeeVector|NotGreaterEqual|straightepsilon|LeftTriangleBar|rightsquigarrow|ContourIntegral|rightleftarrows|CloseCurlyQuote|RightDownVector|LeftRightVector|nLeftrightarrow|leftharpoondown|circlearrowleft|SquareSuperset|OpenCurlyQuote|hookrightarrow|HorizontalLine|DiacriticalDot|NotLessGreater|ntriangleright|DoubleRightTee|InvisibleComma|InvisibleTimes|LowerLeftArrow|DownLeftVector|NotSubsetEqual|curvearrowleft|trianglelefteq|NotVerticalBar|TildeFullEqual|downdownarrows|NotGreaterLess|RightTeeVector|ZeroWidthSpace|looparrowright|LongRightArrow|doublebarwedge|ShortLeftArrow|ShortDownArrow|RightVectorBar|GreaterGreater|ReverseElement|rightharpoonup|LessSlantEqual|leftthreetimes|upharpoonright|rightarrowtail|LeftDownVector|Longrightarrow|NestedLessLess|UpperLeftArrow|nshortparallel|leftleftarrows|leftrightarrow|Leftrightarrow|LeftRightArrow|longrightarrow|upharpoonleft|RightArrowBar|ApplyFunction|LeftTeeVector|leftarrowtail|NotEqualTilde|varsubsetneqq|varsupsetneqq|RightTeeArrow|SucceedsEqual|SucceedsTilde|LeftVectorBar|SupersetEqual|hookleftarrow|DifferentialD|VerticalTilde|VeryThinSpace|blacktriangle|bigtriangleup|LessFullEqual|divideontimes|leftharpoonup|UpEquilibrium|ntriangleleft|RightTriangle|measuredangle|shortparallel|longleftarrow|Longleftarrow|LongLeftArrow|DoubleLeftTee|Poincareplane|PrecedesEqual|triangleright|DoubleUpArrow|RightUpVector|fallingdotseq|looparrowleft|PrecedesTilde|NotTildeEqual|NotTildeTilde|smallsetminus|Proportional|triangleleft|triangledown|UnderBracket|NotHumpEqual|exponentiale|ExponentialE|NotLessTilde|HilbertSpace|RightCeiling|blacklozenge|varsupsetneq|HumpDownHump|GreaterEqual|VerticalLine|LeftTeeArrow|NotLessEqual|DownTeeArrow|LeftTriangle|varsubsetneq|Intersection|NotCongruent|DownArrowBar|LeftUpVector|LeftArrowBar|risingdotseq|GreaterTilde|RoundImplies|SquareSubset|ShortUpArrow|NotSuperset|quaternions|precnapprox|backepsilon|preccurlyeq|OverBracket|blacksquare|MediumSpace|VerticalBar|circledcirc|circleddash|CircleMinus|CircleTimes|LessGreater|curlyeqprec|curlyeqsucc|diamondsuit|UpDownArrow|Updownarrow|RuleDelayed|Rrightarrow|updownarrow|RightVector|nRightarrow|nrightarrow|eqslantless|LeftCeiling|Equilibrium|SmallCircle|expectation|NotSucceeds|thickapprox|GreaterLess|SquareUnion|NotPrecedes|NotLessLess|straightphi|succnapprox|succcurlyeq|SubsetEqual|sqsupseteq|Proportion|Laplacetrf|ImaginaryI|supsetneqq|NotGreater|gtreqqless|NotElement|ThickSpace|TildeEqual|TildeTilde|Fouriertrf|rmoustache|EqualTilde|eqslantgtr|UnderBrace|LeftVector|UpArrowBar|nLeftarrow|nsubseteqq|subsetneqq|nsupseteqq|nleftarrow|succapprox|lessapprox|UpTeeArrow|upuparrows|curlywedge|lesseqqgtr|varepsilon|varnothing|RightFloor|complement|CirclePlus|sqsubseteq|Lleftarrow|circledast|RightArrow|Rightarrow|rightarrow|lmoustache|Bernoullis|precapprox|mapstoleft|mapstodown|longmapsto|dotsquare|downarrow|DoubleDot|nsubseteq|supsetneq|leftarrow|nsupseteq|subsetneq|ThinSpace|ngeqslant|subseteqq|HumpEqual|NotSubset|triangleq|NotCupCap|lesseqgtr|heartsuit|TripleDot|Leftarrow|Coproduct|Congruent|varpropto|complexes|gvertneqq|LeftArrow|LessTilde|supseteqq|MinusPlus|CircleDot|nleqslant|NotExists|gtreqless|nparallel|UnionPlus|LeftFloor|checkmark|CenterDot|centerdot|Mellintrf|gtrapprox|bigotimes|OverBrace|spadesuit|therefore|pitchfork|rationals|PlusMinus|Backslash|Therefore|DownBreve|backsimeq|backprime|DownArrow|nshortmid|Downarrow|lvertneqq|eqvparsl|imagline|imagpart|infintie|integers|Integral|intercal|LessLess|Uarrocir|intlarhk|sqsupset|angmsdaf|sqsubset|llcorner|vartheta|cupbrcap|lnapprox|Superset|SuchThat|succnsim|succneqq|angmsdag|biguplus|curlyvee|trpezium|Succeeds|NotTilde|bigwedge|angmsdah|angrtvbd|triminus|cwconint|fpartint|lrcorner|smeparsl|subseteq|urcorner|lurdshar|laemptyv|DDotrahd|approxeq|ldrushar|awconint|mapstoup|backcong|shortmid|triangle|geqslant|gesdotol|timesbar|circledR|circledS|setminus|multimap|naturals|scpolint|ncongdot|RightTee|boxminus|gnapprox|boxtimes|andslope|thicksim|angmsdaa|varsigma|cirfnint|rtriltri|angmsdab|rppolint|angmsdac|barwedge|drbkarow|clubsuit|thetasym|bsolhsub|capbrcup|dzigrarr|doteqdot|DotEqual|dotminus|UnderBar|NotEqual|realpart|otimesas|ulcorner|hksearow|hkswarow|parallel|PartialD|elinters|emptyset|plusacir|bbrktbrk|angmsdad|pointint|bigoplus|angmsdae|Precedes|bigsqcup|varkappa|notindot|supseteq|precneqq|precnsim|profalar|profline|profsurf|leqslant|lesdotor|raemptyv|subplus|notnivb|notnivc|subrarr|zigrarr|vzigzag|submult|subedot|Element|between|cirscir|larrbfs|larrsim|lotimes|lbrksld|lbrkslu|lozenge|ldrdhar|dbkarow|bigcirc|epsilon|simrarr|simplus|ltquest|Epsilon|luruhar|gtquest|maltese|npolint|eqcolon|npreceq|bigodot|ddagger|gtrless|bnequiv|harrcir|ddotseq|equivDD|backsim|demptyv|nsqsube|nsqsupe|Upsilon|nsubset|upsilon|minusdu|nsucceq|swarrow|nsupset|coloneq|searrow|boxplus|napprox|natural|asympeq|alefsym|congdot|nearrow|bigstar|diamond|supplus|tritime|LeftTee|nvinfin|triplus|NewLine|nvltrie|nvrtrie|nwarrow|nexists|Diamond|ruluhar|Implies|supmult|angzarr|suplarr|suphsub|questeq|because|digamma|Because|olcross|bemptyv|omicron|Omicron|rotimes|NoBreak|intprod|angrtvb|orderof|uwangle|suphsol|lesdoto|orslope|DownTee|realine|cudarrl|rdldhar|OverBar|supedot|lessdot|supdsub|topfork|succsim|rbrkslu|rbrksld|pertenk|cudarrr|isindot|planckh|lessgtr|pluscir|gesdoto|plussim|plustwo|lesssim|cularrp|rarrsim|Cayleys|notinva|notinvb|notinvc|UpArrow|Uparrow|uparrow|NotLess|dwangle|precsim|Product|curarrm|Cconint|dotplus|rarrbfs|ccupssm|Cedilla|cemptyv|notniva|quatint|frac35|frac38|frac45|frac56|frac58|frac78|tridot|xoplus|gacute|gammad|Gammad|lfisht|lfloor|bigcup|sqsupe|gbreve|Gbreve|lharul|sqsube|sqcups|Gcedil|apacir|llhard|lmidot|Lmidot|lmoust|andand|sqcaps|approx|Abreve|spades|circeq|tprime|divide|topcir|Assign|topbot|gesdot|divonx|xuplus|timesd|gesles|atilde|solbar|SOFTcy|loplus|timesb|lowast|lowbar|dlcorn|dlcrop|softcy|dollar|lparlt|thksim|lrhard|Atilde|lsaquo|smashp|bigvee|thinsp|wreath|bkarow|lsquor|lstrok|Lstrok|lthree|ltimes|ltlarr|DotDot|simdot|ltrPar|weierp|xsqcup|angmsd|sigmav|sigmaf|zeetrf|Zcaron|zcaron|mapsto|vsupne|thetav|cirmid|marker|mcomma|Zacute|vsubnE|there4|gtlPar|vsubne|bottom|gtrarr|SHCHcy|shchcy|midast|midcir|middot|minusb|minusd|gtrdot|bowtie|sfrown|mnplus|models|colone|seswar|Colone|mstpos|searhk|gtrsim|nacute|Nacute|boxbox|telrec|hairsp|Tcedil|nbumpe|scnsim|ncaron|Ncaron|ncedil|Ncedil|hamilt|Scedil|nearhk|hardcy|HARDcy|tcedil|Tcaron|commat|nequiv|nesear|tcaron|target|hearts|nexist|varrho|scedil|Scaron|scaron|hellip|Sacute|sacute|hercon|swnwar|compfn|rtimes|rthree|rsquor|rsaquo|zacute|wedgeq|homtht|barvee|barwed|Barwed|rpargt|horbar|conint|swarhk|roplus|nltrie|hslash|hstrok|Hstrok|rmoust|Conint|bprime|hybull|hyphen|iacute|Iacute|supsup|supsub|supsim|varphi|coprod|brvbar|agrave|Supset|supset|igrave|Igrave|notinE|Agrave|iiiint|iinfin|copysr|wedbar|Verbar|vangrt|becaus|incare|verbar|inodot|bullet|drcorn|intcal|drcrop|cularr|vellip|Utilde|bumpeq|cupcap|dstrok|Dstrok|CupCap|cupcup|cupdot|eacute|Eacute|supdot|iquest|easter|ecaron|Ecaron|ecolon|isinsv|utilde|itilde|Itilde|curarr|succeq|Bumpeq|cacute|ulcrop|nparsl|Cacute|nprcue|egrave|Egrave|nrarrc|nrarrw|subsup|subsub|nrtrie|jsercy|nsccue|Jsercy|kappav|kcedil|Kcedil|subsim|ulcorn|nsimeq|egsdot|veebar|kgreen|capand|elsdot|Subset|subset|curren|aacute|lacute|Lacute|emptyv|ntilde|Ntilde|lagran|lambda|Lambda|capcap|Ugrave|langle|subdot|emsp13|numero|emsp14|nvdash|nvDash|nVdash|nVDash|ugrave|ufisht|nvHarr|larrfs|nvlArr|larrhk|larrlp|larrpl|nvrArr|Udblac|nwarhk|larrtl|nwnear|oacute|Oacute|latail|lAtail|sstarf|lbrace|odblac|Odblac|lbrack|udblac|odsold|eparsl|lcaron|Lcaron|ograve|Ograve|lcedil|Lcedil|Aacute|ssmile|ssetmn|squarf|ldquor|capcup|ominus|cylcty|rharul|eqcirc|dagger|rfloor|rfisht|Dagger|daleth|equals|origof|capdot|equest|dcaron|Dcaron|rdquor|oslash|Oslash|otilde|Otilde|otimes|Otimes|urcrop|Ubreve|ubreve|Yacute|Uacute|uacute|Rcedil|rcedil|urcorn|parsim|Rcaron|Vdashl|rcaron|Tstrok|percnt|period|permil|Exists|yacute|rbrack|rbrace|phmmat|ccaron|Ccaron|planck|ccedil|plankv|tstrok|female|plusdo|plusdu|ffilig|plusmn|ffllig|Ccedil|rAtail|dfisht|bernou|ratail|Rarrtl|rarrtl|angsph|rarrpl|rarrlp|rarrhk|xwedge|xotime|forall|ForAll|Vvdash|vsupnE|preceq|bigcap|frac12|frac13|frac14|primes|rarrfs|prnsim|frac15|Square|frac16|square|lesdot|frac18|frac23|propto|prurel|rarrap|rangle|puncsp|frac25|Racute|qprime|racute|lesges|frac34|abreve|AElig|eqsim|utdot|setmn|urtri|Equal|Uring|seArr|uring|searr|dashv|Dashv|mumap|nabla|iogon|Iogon|sdote|sdotb|scsim|napid|napos|equiv|natur|Acirc|dblac|erarr|nbump|iprod|erDot|ucirc|awint|esdot|angrt|ncong|isinE|scnap|Scirc|scirc|ndash|isins|Ubrcy|nearr|neArr|isinv|nedot|ubrcy|acute|Ycirc|iukcy|Iukcy|xutri|nesim|caret|jcirc|Jcirc|caron|twixt|ddarr|sccue|exist|jmath|sbquo|ngeqq|angst|ccaps|lceil|ngsim|UpTee|delta|Delta|rtrif|nharr|nhArr|nhpar|rtrie|jukcy|Jukcy|kappa|rsquo|Kappa|nlarr|nlArr|TSHcy|rrarr|aogon|Aogon|fflig|xrarr|tshcy|ccirc|nleqq|filig|upsih|nless|dharl|nlsim|fjlig|ropar|nltri|dharr|robrk|roarr|fllig|fltns|roang|rnmid|subnE|subne|lAarr|trisb|Ccirc|acirc|ccups|blank|VDash|forkv|Vdash|langd|cedil|blk12|blk14|laquo|strns|diams|notin|vDash|larrb|blk34|block|disin|uplus|vdash|vBarv|aelig|starf|Wedge|check|xrArr|lates|lbarr|lBarr|notni|lbbrk|bcong|frasl|lbrke|frown|vrtri|vprop|vnsup|gamma|Gamma|wedge|xodot|bdquo|srarr|doteq|ldquo|boxdl|boxdL|gcirc|Gcirc|boxDl|boxDL|boxdr|boxdR|boxDr|TRADE|trade|rlhar|boxDR|vnsub|npart|vltri|rlarr|boxhd|boxhD|nprec|gescc|nrarr|nrArr|boxHd|boxHD|boxhu|boxhU|nrtri|boxHu|clubs|boxHU|times|colon|Colon|gimel|xlArr|Tilde|nsime|tilde|nsmid|nspar|THORN|thorn|xlarr|nsube|nsubE|thkap|xhArr|comma|nsucc|boxul|boxuL|nsupe|nsupE|gneqq|gnsim|boxUl|boxUL|grave|boxur|boxuR|boxUr|boxUR|lescc|angle|bepsi|boxvh|varpi|boxvH|numsp|Theta|gsime|gsiml|theta|boxVh|boxVH|boxvl|gtcir|gtdot|boxvL|boxVl|boxVL|crarr|cross|Cross|nvsim|boxvr|nwarr|nwArr|sqsup|dtdot|Uogon|lhard|lharu|dtrif|ocirc|Ocirc|lhblk|duarr|odash|sqsub|Hacek|sqcup|llarr|duhar|oelig|OElig|ofcir|boxvR|uogon|lltri|boxVr|csube|uuarr|ohbar|csupe|ctdot|olarr|olcir|harrw|oline|sqcap|omacr|Omacr|omega|Omega|boxVR|aleph|lneqq|lnsim|loang|loarr|rharu|lobrk|hcirc|operp|oplus|rhard|Hcirc|orarr|Union|order|ecirc|Ecirc|cuepr|szlig|cuesc|breve|reals|eDDot|Breve|hoarr|lopar|utrif|rdquo|Umacr|umacr|efDot|swArr|ultri|alpha|rceil|ovbar|swarr|Wcirc|wcirc|smtes|smile|bsemi|lrarr|aring|parsl|lrhar|bsime|uhblk|lrtri|cupor|Aring|uharr|uharl|slarr|rbrke|bsolb|lsime|rbbrk|RBarr|lsimg|phone|rBarr|rbarr|icirc|lsquo|Icirc|emacr|Emacr|ratio|simne|plusb|simlE|simgE|simeq|pluse|ltcir|ltdot|empty|xharr|xdtri|iexcl|Alpha|ltrie|rarrw|pound|ltrif|xcirc|bumpe|prcue|bumpE|asymp|amacr|cuvee|Sigma|sigma|iiint|udhar|iiota|ijlig|IJlig|supnE|imacr|Imacr|prime|Prime|image|prnap|eogon|Eogon|rarrc|mdash|mDDot|cuwed|imath|supne|imped|Amacr|udarr|prsim|micro|rarrb|cwint|raquo|infin|eplus|range|rangd|Ucirc|radic|minus|amalg|veeeq|rAarr|epsiv|ycirc|quest|sharp|quot|zwnj|Qscr|race|qscr|Qopf|qopf|qint|rang|Rang|Zscr|zscr|Zopf|zopf|rarr|rArr|Rarr|Pscr|pscr|prop|prod|prnE|prec|ZHcy|zhcy|prap|Zeta|zeta|Popf|popf|Zdot|plus|zdot|Yuml|yuml|phiv|YUcy|yucy|Yscr|yscr|perp|Yopf|yopf|part|para|YIcy|Ouml|rcub|yicy|YAcy|rdca|ouml|osol|Oscr|rdsh|yacy|real|oscr|xvee|andd|rect|andv|Xscr|oror|ordm|ordf|xscr|ange|aopf|Aopf|rHar|Xopf|opar|Oopf|xopf|xnis|rhov|oopf|omid|xmap|oint|apid|apos|ogon|ascr|Ascr|odot|odiv|xcup|xcap|ocir|oast|nvlt|nvle|nvgt|nvge|nvap|Wscr|wscr|auml|ntlg|ntgl|nsup|nsub|nsim|Nscr|nscr|nsce|Wopf|ring|npre|wopf|npar|Auml|Barv|bbrk|Nopf|nopf|nmid|nLtv|beta|ropf|Ropf|Beta|beth|nles|rpar|nleq|bnot|bNot|nldr|NJcy|rscr|Rscr|Vscr|vscr|rsqb|njcy|bopf|nisd|Bopf|rtri|Vopf|nGtv|ngtr|vopf|boxh|boxH|boxv|nges|ngeq|boxV|bscr|scap|Bscr|bsim|Vert|vert|bsol|bull|bump|caps|cdot|ncup|scnE|ncap|nbsp|napE|Cdot|cent|sdot|Vbar|nang|vBar|chcy|Mscr|mscr|sect|semi|CHcy|Mopf|mopf|sext|circ|cire|mldr|mlcp|cirE|comp|shcy|SHcy|vArr|varr|cong|copf|Copf|copy|COPY|malt|male|macr|lvnE|cscr|ltri|sime|ltcc|simg|Cscr|siml|csub|Uuml|lsqb|lsim|uuml|csup|Lscr|lscr|utri|smid|lpar|cups|smte|lozf|darr|Lopf|Uscr|solb|lopf|sopf|Sopf|lneq|uscr|spar|dArr|lnap|Darr|dash|Sqrt|LJcy|ljcy|lHar|dHar|Upsi|upsi|diam|lesg|djcy|DJcy|leqq|dopf|Dopf|dscr|Dscr|dscy|ldsh|ldca|squf|DScy|sscr|Sscr|dsol|lcub|late|star|Star|Uopf|Larr|lArr|larr|uopf|dtri|dzcy|sube|subE|Lang|lang|Kscr|kscr|Kopf|kopf|KJcy|kjcy|KHcy|khcy|DZcy|ecir|edot|eDot|Jscr|jscr|succ|Jopf|jopf|Edot|uHar|emsp|ensp|Iuml|iuml|eopf|isin|Iscr|iscr|Eopf|epar|sung|epsi|escr|sup1|sup2|sup3|Iota|iota|supe|supE|Iopf|iopf|IOcy|iocy|Escr|esim|Esim|imof|Uarr|QUOT|uArr|uarr|euml|IEcy|iecy|Idot|Euml|euro|excl|Hscr|hscr|Hopf|hopf|TScy|tscy|Tscr|hbar|tscr|flat|tbrk|fnof|hArr|harr|half|fopf|Fopf|tdot|gvnE|fork|trie|gtcc|fscr|Fscr|gdot|gsim|Gscr|gscr|Gopf|gopf|gneq|Gdot|tosa|gnap|Topf|topf|geqq|toea|GJcy|gjcy|tint|gesl|mid|Sfr|ggg|top|ges|gla|glE|glj|geq|gne|gEl|gel|gnE|Gcy|gcy|gap|Tfr|tfr|Tcy|tcy|Hat|Tau|Ffr|tau|Tab|hfr|Hfr|ffr|Fcy|fcy|icy|Icy|iff|ETH|eth|ifr|Ifr|Eta|eta|int|Int|Sup|sup|ucy|Ucy|Sum|sum|jcy|ENG|ufr|Ufr|eng|Jcy|jfr|els|ell|egs|Efr|efr|Jfr|uml|kcy|Kcy|Ecy|ecy|kfr|Kfr|lap|Sub|sub|lat|lcy|Lcy|leg|Dot|dot|lEg|leq|les|squ|div|die|lfr|Lfr|lgE|Dfr|dfr|Del|deg|Dcy|dcy|lne|lnE|sol|loz|smt|Cup|lrm|cup|lsh|Lsh|sim|shy|map|Map|mcy|Mcy|mfr|Mfr|mho|gfr|Gfr|sfr|cir|Chi|chi|nap|Cfr|vcy|Vcy|cfr|Scy|scy|ncy|Ncy|vee|Vee|Cap|cap|nfr|scE|sce|Nfr|nge|ngE|nGg|vfr|Vfr|ngt|bot|nGt|nis|niv|Rsh|rsh|nle|nlE|bne|Bfr|bfr|nLl|nlt|nLt|Bcy|bcy|not|Not|rlm|wfr|Wfr|npr|nsc|num|ocy|ast|Ocy|ofr|xfr|Xfr|Ofr|ogt|ohm|apE|olt|Rho|ape|rho|Rfr|rfr|ord|REG|ang|reg|orv|And|and|AMP|Rcy|amp|Afr|ycy|Ycy|yen|yfr|Yfr|rcy|par|pcy|Pcy|pfr|Pfr|phi|Phi|afr|Acy|acy|zcy|Zcy|piv|acE|acd|zfr|Zfr|pre|prE|psi|Psi|qfr|Qfr|zwj|Or|ge|Gg|gt|gg|el|oS|lt|Lt|LT|Re|lg|gl|eg|ne|Im|it|le|DD|wp|wr|nu|Nu|dd|lE|Sc|sc|pi|Pi|ee|af|ll|Ll|rx|gE|xi|pm|Xi|ic|pr|Pr|in|ni|mp|mu|ac|Mu|or|ap|Gt|GT|ii);|&(Aacute|Agrave|Atilde|Ccedil|Eacute|Egrave|Iacute|Igrave|Ntilde|Oacute|Ograve|Oslash|Otilde|Uacute|Ugrave|Yacute|aacute|agrave|atilde|brvbar|ccedil|curren|divide|eacute|egrave|frac12|frac14|frac34|iacute|igrave|iquest|middot|ntilde|oacute|ograve|oslash|otilde|plusmn|uacute|ugrave|yacute|AElig|Acirc|Aring|Ecirc|Icirc|Ocirc|THORN|Ucirc|acirc|acute|aelig|aring|cedil|ecirc|icirc|iexcl|laquo|micro|ocirc|pound|raquo|szlig|thorn|times|ucirc|Auml|COPY|Euml|Iuml|Ouml|QUOT|Uuml|auml|cent|copy|euml|iuml|macr|nbsp|ordf|ordm|ouml|para|quot|sect|sup1|sup2|sup3|uuml|yuml|AMP|ETH|REG|amp|deg|eth|not|reg|shy|uml|yen|GT|LT|gt|lt)(?!;)([=a-zA-Z0-9]?)|&#([0-9]+)(;?)|&#[xX]([a-fA-F0-9]+)(;?)|&([0-9a-zA-Z]+)/g,x={aacute:"",Aacute:"",abreve:"",Abreve:"",ac:"",acd:"",acE:"",acirc:"",Acirc:"",acute:"",acy:"",Acy:"",aelig:"",AElig:"",af:"",afr:"",Afr:"",agrave:"",Agrave:"",alefsym:"",aleph:"",alpha:"",Alpha:"",amacr:"",Amacr:"",amalg:"",amp:"&",AMP:"&",and:"",And:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",aogon:"",Aogon:"",aopf:"",Aopf:"",ap:"",apacir:"",ape:"",apE:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",aring:"",Aring:"",ascr:"",Ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",atilde:"",Atilde:"",auml:"",Auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",barwed:"",Barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",bcy:"",Bcy:"",bdquo:"",becaus:"",because:"",Because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",beta:"",Beta:"",beth:"",between:"",bfr:"",Bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bnot:"",bNot:"",bopf:"",Bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxdl:"",boxdL:"",boxDl:"",boxDL:"",boxdr:"",boxdR:"",boxDr:"",boxDR:"",boxh:"",boxH:"",boxhd:"",boxhD:"",boxHd:"",boxHD:"",boxhu:"",boxhU:"",boxHu:"",boxHU:"",boxminus:"",boxplus:"",boxtimes:"",boxul:"",boxuL:"",boxUl:"",boxUL:"",boxur:"",boxuR:"",boxUr:"",boxUR:"",boxv:"",boxV:"",boxvh:"",boxvH:"",boxVh:"",boxVH:"",boxvl:"",boxvL:"",boxVl:"",boxVL:"",boxvr:"",boxvR:"",boxVr:"",boxVR:"",bprime:"",breve:"",Breve:"",brvbar:"",bscr:"",Bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpe:"",bumpE:"",bumpeq:"",Bumpeq:"",cacute:"",Cacute:"",cap:"",Cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",ccaron:"",Ccaron:"",ccedil:"",Ccedil:"",ccirc:"",Ccirc:"",Cconint:"",ccups:"",ccupssm:"",cdot:"",Cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",centerdot:"",CenterDot:"",cfr:"",Cfr:"",chcy:"",CHcy:"",check:"",checkmark:"",chi:"",Chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cire:"",cirE:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",colon:":",Colon:"",colone:"",Colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",conint:"",Conint:"",ContourIntegral:"",copf:"",Copf:"",coprod:"",Coproduct:"",copy:"",COPY:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",cross:"",Cross:"",cscr:"",Cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",cup:"",Cup:"",cupbrcap:"",cupcap:"",CupCap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",dagger:"",Dagger:"",daleth:"",darr:"",dArr:"",Darr:"",dash:"",dashv:"",Dashv:"",dbkarow:"",dblac:"",dcaron:"",Dcaron:"",dcy:"",Dcy:"",dd:"",DD:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",delta:"",Delta:"",demptyv:"",dfisht:"",dfr:"",Dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",diamond:"",Diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",djcy:"",DJcy:"",dlcorn:"",dlcrop:"",dollar:"$",dopf:"",Dopf:"",dot:"",Dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",downarrow:"",Downarrow:"",DownArrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",dscr:"",Dscr:"",dscy:"",DScy:"",dsol:"",dstrok:"",Dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",dzcy:"",DZcy:"",dzigrarr:"",eacute:"",Eacute:"",easter:"",ecaron:"",Ecaron:"",ecir:"",ecirc:"",Ecirc:"",ecolon:"",ecy:"",Ecy:"",eDDot:"",edot:"",eDot:"",Edot:"",ee:"",efDot:"",efr:"",Efr:"",eg:"",egrave:"",Egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",emacr:"",Emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",eng:"",ENG:"",ensp:"",eogon:"",Eogon:"",eopf:"",Eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",epsilon:"",Epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",escr:"",Escr:"",esdot:"",esim:"",Esim:"",eta:"",Eta:"",eth:"",ETH:"",euml:"",Euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",exponentiale:"",ExponentialE:"",fallingdotseq:"",fcy:"",Fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",ffr:"",Ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",fopf:"",Fopf:"",forall:"",ForAll:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",fscr:"",Fscr:"",gacute:"",gamma:"",Gamma:"",gammad:"",Gammad:"",gap:"",gbreve:"",Gbreve:"",Gcedil:"",gcirc:"",Gcirc:"",gcy:"",Gcy:"",gdot:"",Gdot:"",ge:"",gE:"",gel:"",gEl:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",gfr:"",Gfr:"",gg:"",Gg:"",ggg:"",gimel:"",gjcy:"",GJcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gne:"",gnE:"",gneq:"",gneqq:"",gnsim:"",gopf:"",Gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",gscr:"",Gscr:"",gsim:"",gsime:"",gsiml:"",gt:">",Gt:"",GT:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",hardcy:"",HARDcy:"",harr:"",hArr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",hcirc:"",Hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",hfr:"",Hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",hopf:"",Hopf:"",horbar:"",HorizontalLine:"",hscr:"",Hscr:"",hslash:"",hstrok:"",Hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",iacute:"",Iacute:"",ic:"",icirc:"",Icirc:"",icy:"",Icy:"",Idot:"",iecy:"",IEcy:"",iexcl:"",iff:"",ifr:"",Ifr:"",igrave:"",Igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",ijlig:"",IJlig:"",Im:"",imacr:"",Imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",int:"",Int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",iocy:"",IOcy:"",iogon:"",Iogon:"",iopf:"",Iopf:"",iota:"",Iota:"",iprod:"",iquest:"",iscr:"",Iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",itilde:"",Itilde:"",iukcy:"",Iukcy:"",iuml:"",Iuml:"",jcirc:"",Jcirc:"",jcy:"",Jcy:"",jfr:"",Jfr:"",jmath:"",jopf:"",Jopf:"",jscr:"",Jscr:"",jsercy:"",Jsercy:"",jukcy:"",Jukcy:"",kappa:"",Kappa:"",kappav:"",kcedil:"",Kcedil:"",kcy:"",Kcy:"",kfr:"",Kfr:"",kgreen:"",khcy:"",KHcy:"",kjcy:"",KJcy:"",kopf:"",Kopf:"",kscr:"",Kscr:"",lAarr:"",lacute:"",Lacute:"",laemptyv:"",lagran:"",lambda:"",Lambda:"",lang:"",Lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",larr:"",lArr:"",Larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",latail:"",lAtail:"",late:"",lates:"",lbarr:"",lBarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",lcaron:"",Lcaron:"",lcedil:"",Lcedil:"",lceil:"",lcub:"{",lcy:"",Lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",le:"",lE:"",LeftAngleBracket:"",leftarrow:"",Leftarrow:"",LeftArrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",leftrightarrow:"",Leftrightarrow:"",LeftRightArrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",leg:"",lEg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",lfr:"",Lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",ljcy:"",LJcy:"",ll:"",Ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",lmidot:"",Lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lne:"",lnE:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",longleftarrow:"",Longleftarrow:"",LongLeftArrow:"",longleftrightarrow:"",Longleftrightarrow:"",LongLeftRightArrow:"",longmapsto:"",longrightarrow:"",Longrightarrow:"",LongRightArrow:"",looparrowleft:"",looparrowright:"",lopar:"",lopf:"",Lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",lscr:"",Lscr:"",lsh:"",Lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",lstrok:"",Lstrok:"",lt:"<",Lt:"",LT:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",map:"",Map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",mcy:"",Mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",mfr:"",Mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",mopf:"",Mopf:"",mp:"",mscr:"",Mscr:"",mstpos:"",mu:"",Mu:"",multimap:"",mumap:"",nabla:"",nacute:"",Nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",ncaron:"",Ncaron:"",ncedil:"",Ncedil:"",ncong:"",ncongdot:"",ncup:"",ncy:"",Ncy:"",ndash:"",ne:"",nearhk:"",nearr:"",neArr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",nfr:"",Nfr:"",nge:"",ngE:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",ngt:"",nGt:"",ngtr:"",nGtv:"",nharr:"",nhArr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",njcy:"",NJcy:"",nlarr:"",nlArr:"",nldr:"",nle:"",nlE:"",nleftarrow:"",nLeftarrow:"",nleftrightarrow:"",nLeftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nlt:"",nLt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",nopf:"",Nopf:"",not:"",Not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrarr:"",nrArr:"",nrarrc:"",nrarrw:"",nrightarrow:"",nRightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",nscr:"",Nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsube:"",nsubE:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupe:"",nsupE:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",ntilde:"",Ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",nu:"",Nu:"",num:"#",numero:"",numsp:"",nvap:"",nvdash:"",nvDash:"",nVdash:"",nVDash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwarr:"",nwArr:"",nwarrow:"",nwnear:"",oacute:"",Oacute:"",oast:"",ocir:"",ocirc:"",Ocirc:"",ocy:"",Ocy:"",odash:"",odblac:"",Odblac:"",odiv:"",odot:"",odsold:"",oelig:"",OElig:"",ofcir:"",ofr:"",Ofr:"",ogon:"",ograve:"",Ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",omacr:"",Omacr:"",omega:"",Omega:"",omicron:"",Omicron:"",omid:"",ominus:"",oopf:"",Oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",or:"",Or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",oscr:"",Oscr:"",oslash:"",Oslash:"",osol:"",otilde:"",Otilde:"",otimes:"",Otimes:"",otimesas:"",ouml:"",Ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",pcy:"",Pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",pfr:"",Pfr:"",phi:"",Phi:"",phiv:"",phmmat:"",phone:"",pi:"",Pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",popf:"",Popf:"",pound:"",pr:"",Pr:"",prap:"",prcue:"",pre:"",prE:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",prime:"",Prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",pscr:"",Pscr:"",psi:"",Psi:"",puncsp:"",qfr:"",Qfr:"",qint:"",qopf:"",Qopf:"",qprime:"",qscr:"",Qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",quot:'"',QUOT:'"',rAarr:"",race:"",racute:"",Racute:"",radic:"",raemptyv:"",rang:"",Rang:"",rangd:"",range:"",rangle:"",raquo:"",rarr:"",rArr:"",Rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",rarrtl:"",Rarrtl:"",rarrw:"",ratail:"",rAtail:"",ratio:"",rationals:"",rbarr:"",rBarr:"",RBarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",rcaron:"",Rcaron:"",rcedil:"",Rcedil:"",rceil:"",rcub:"}",rcy:"",Rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",reg:"",REG:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",rfr:"",Rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",rho:"",Rho:"",rhov:"",RightAngleBracket:"",rightarrow:"",Rightarrow:"",RightArrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",ropf:"",Ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",rscr:"",Rscr:"",rsh:"",Rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",sacute:"",Sacute:"",sbquo:"",sc:"",Sc:"",scap:"",scaron:"",Scaron:"",sccue:"",sce:"",scE:"",scedil:"",Scedil:"",scirc:"",Scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",scy:"",Scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",searr:"",seArr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",sfr:"",Sfr:"",sfrown:"",sharp:"",shchcy:"",SHCHcy:"",shcy:"",SHcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",sigma:"",Sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",softcy:"",SOFTcy:"",sol:"/",solb:"",solbar:"",sopf:"",Sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",square:"",Square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",sscr:"",Sscr:"",ssetmn:"",ssmile:"",sstarf:"",star:"",Star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",sub:"",Sub:"",subdot:"",sube:"",subE:"",subedot:"",submult:"",subne:"",subnE:"",subplus:"",subrarr:"",subset:"",Subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",sum:"",Sum:"",sung:"",sup:"",Sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supe:"",supE:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supne:"",supnE:"",supplus:"",supset:"",Supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swarr:"",swArr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",tau:"",Tau:"",tbrk:"",tcaron:"",Tcaron:"",tcedil:"",Tcedil:"",tcy:"",Tcy:"",tdot:"",telrec:"",tfr:"",Tfr:"",there4:"",therefore:"",Therefore:"",theta:"",Theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",thorn:"",THORN:"",tilde:"",Tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",topf:"",Topf:"",topfork:"",tosa:"",tprime:"",trade:"",TRADE:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",tscr:"",Tscr:"",tscy:"",TScy:"",tshcy:"",TSHcy:"",tstrok:"",Tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",uacute:"",Uacute:"",uarr:"",uArr:"",Uarr:"",Uarrocir:"",ubrcy:"",Ubrcy:"",ubreve:"",Ubreve:"",ucirc:"",Ucirc:"",ucy:"",Ucy:"",udarr:"",udblac:"",Udblac:"",udhar:"",ufisht:"",ufr:"",Ufr:"",ugrave:"",Ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",umacr:"",Umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",uogon:"",Uogon:"",uopf:"",Uopf:"",uparrow:"",Uparrow:"",UpArrow:"",UpArrowBar:"",UpArrowDownArrow:"",updownarrow:"",Updownarrow:"",UpDownArrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",upsi:"",Upsi:"",upsih:"",upsilon:"",Upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",uring:"",Uring:"",urtri:"",uscr:"",Uscr:"",utdot:"",utilde:"",Utilde:"",utri:"",utrif:"",uuarr:"",uuml:"",Uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",varr:"",vArr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",vBar:"",Vbar:"",vBarv:"",vcy:"",Vcy:"",vdash:"",vDash:"",Vdash:"",VDash:"",Vdashl:"",vee:"",Vee:"",veebar:"",veeeq:"",vellip:"",verbar:"|",Verbar:"",vert:"|",Vert:"",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",vfr:"",Vfr:"",vltri:"",vnsub:"",vnsup:"",vopf:"",Vopf:"",vprop:"",vrtri:"",vscr:"",Vscr:"",vsubne:"",vsubnE:"",vsupne:"",vsupnE:"",Vvdash:"",vzigzag:"",wcirc:"",Wcirc:"",wedbar:"",wedge:"",Wedge:"",wedgeq:"",weierp:"",wfr:"",Wfr:"",wopf:"",Wopf:"",wp:"",wr:"",wreath:"",wscr:"",Wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",xfr:"",Xfr:"",xharr:"",xhArr:"",xi:"",Xi:"",xlarr:"",xlArr:"",xmap:"",xnis:"",xodot:"",xopf:"",Xopf:"",xoplus:"",xotime:"",xrarr:"",xrArr:"",xscr:"",Xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",yacute:"",Yacute:"",yacy:"",YAcy:"",ycirc:"",Ycirc:"",ycy:"",Ycy:"",yen:"",yfr:"",Yfr:"",yicy:"",YIcy:"",yopf:"",Yopf:"",yscr:"",Yscr:"",yucy:"",YUcy:"",yuml:"",Yuml:"",zacute:"",Zacute:"",zcaron:"",Zcaron:"",zcy:"",Zcy:"",zdot:"",Zdot:"",zeetrf:"",ZeroWidthSpace:"",zeta:"",Zeta:"",zfr:"",Zfr:"",zhcy:"",ZHcy:"",zigrarr:"",zopf:"",Zopf:"",zscr:"",Zscr:"",zwj:"",zwnj:""},E={aacute:"",Aacute:"",acirc:"",Acirc:"",acute:"",aelig:"",AElig:"",agrave:"",Agrave:"",amp:"&",AMP:"&",aring:"",Aring:"",atilde:"",Atilde:"",auml:"",Auml:"",brvbar:"",ccedil:"",Ccedil:"",cedil:"",cent:"",copy:"",COPY:"",curren:"",deg:"",divide:"",eacute:"",Eacute:"",ecirc:"",Ecirc:"",egrave:"",Egrave:"",eth:"",ETH:"",euml:"",Euml:"",frac12:"",frac14:"",frac34:"",gt:">",GT:">",iacute:"",Iacute:"",icirc:"",Icirc:"",iexcl:"",igrave:"",Igrave:"",iquest:"",iuml:"",Iuml:"",laquo:"",lt:"<",LT:"<",macr:"",micro:"",middot:"",nbsp:"",not:"",ntilde:"",Ntilde:"",oacute:"",Oacute:"",ocirc:"",Ocirc:"",ograve:"",Ograve:"",ordf:"",ordm:"",oslash:"",Oslash:"",otilde:"",Otilde:"",ouml:"",Ouml:"",para:"",plusmn:"",pound:"",quot:'"',QUOT:'"',raquo:"",reg:"",REG:"",sect:"",shy:"",sup1:"",sup2:"",sup3:"",szlig:"",thorn:"",THORN:"",times:"",uacute:"",Uacute:"",ucirc:"",Ucirc:"",ugrave:"",Ugrave:"",uml:"",uuml:"",Uuml:"",yacute:"",Yacute:"",yen:"",yuml:""},A={0:"",128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},y=[1,2,3,4,5,6,7,8,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,64976,64977,64978,64979,64980,64981,64982,64983,64984,64985,64986,64987,64988,64989,64990,64991,64992,64993,64994,64995,64996,64997,64998,64999,65e3,65001,65002,65003,65004,65005,65006,65007,65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111],g=String.fromCharCode,v={},D=v.hasOwnProperty,S=function(L,M){return D.call(L,M)},k=function(L,M){for(var _=-1,$=L.length;++_<$;)if(L[_]==M)return!0;return!1},q=function(L,M){if(!L)return M;var _={},$;for($ in M)_[$]=S(L,$)?L[$]:M[$];return _},O=function(L,M){var _="";return L>=55296&&L<=57343||L>1114111?(M&&B("character reference outside the permissible Unicode range"),""):S(A,L)?(M&&B("disallowed character reference"),A[L]):(M&&k(y,L)&&B("disallowed character reference"),L>65535&&(L-=65536,_+=g(L>>>10&1023|55296),L=56320|L&1023),_+=g(L),_)},N=function(L){return"&#x"+L.toString(16).toUpperCase()+";"},F=function(L){return"&#"+L+";"},B=function(L){throw Error("Parse error: "+L)},w=function(L,M){M=q(M,w.options);var _=M.strict;_&&m.test(L)&&B("forbidden code point");var $=M.encodeEverything,ee=M.useNamedReferences,X=M.allowUnsafeSymbols,be=M.decimal?F:N,K=function(Y){return be(Y.charCodeAt(0))};return $?(L=L.replace(i,function(Y){return ee&&S(d,Y)?"&"+d[Y]+";":K(Y)}),ee&&(L=L.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;").replace(/&#x66;&#x6A;/g,"&fjlig;")),ee&&(L=L.replace(c,function(Y){return"&"+d[Y]+";"}))):ee?(X||(L=L.replace(f,function(Y){return"&"+d[Y]+";"})),L=L.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;"),L=L.replace(c,function(Y){return"&"+d[Y]+";"})):X||(L=L.replace(f,K)),L.replace(n,function(Y){var oe=Y.charCodeAt(0),ce=Y.charCodeAt(1),Pe=(oe-55296)*1024+ce-56320+65536;return be(Pe)}).replace(o,K)};w.options={allowUnsafeSymbols:!1,encodeEverything:!1,strict:!1,useNamedReferences:!1,decimal:!1};var j=function(L,M){M=q(M,j.options);var _=M.strict;return _&&p.test(L)&&B("malformed character reference"),L.replace(b,function($,ee,X,be,K,Y,oe,ce,Pe){var de,De,ha,Er,ge,Be;return ee?(ge=ee,x[ge]):X?(ge=X,Be=be,Be&&M.isAttributeValue?(_&&Be=="="&&B("`&` did not start a character reference"),$):(_&&B("named character reference was not terminated by a semicolon"),E[ge]+(Be||""))):K?(ha=K,De=Y,_&&!De&&B("character reference was not terminated by a semicolon"),de=parseInt(ha,10),O(de,_)):oe?(Er=oe,De=ce,_&&!De&&B("character reference was not terminated by a semicolon"),de=parseInt(Er,16),O(de,_)):(_&&B("named character reference was not terminated by a semicolon"),$)})};j.options={isAttributeValue:!1,strict:!1};var P=function(L){return L.replace(f,function(M){return h[M]})},T={version:"1.2.0",encode:w,decode:j,escape:P,unescape:j};if(a&&!a.nodeType)if(s)s.exports=T;else for(var R in T)S(T,R)&&(a[R]=T[R]);else r.he=T})(T1)}($r,$r.exports)),$r.exports}var Qi;function Ss(){if(Qi)return Pa;Qi=1,Object.defineProperty(Pa,"__esModule",{value:!0});const t=pu();class e{constructor(a=null,s){this.parentNode=a,this.childNodes=[],Object.defineProperty(this,"range",{enumerable:!1,writable:!0,configurable:!0,value:s??[-1,-1]})}remove(){if(this.parentNode){const a=this.parentNode.childNodes;this.parentNode.childNodes=a.filter(s=>this!==s),this.parentNode=null}return this}get innerText(){return this.rawText}get textContent(){return(0,t.decode)(this.rawText)}set textContent(a){this.rawText=(0,t.encode)(a)}}return Pa.default=e,Pa}var Ba={},eo;function da(){if(eo)return Ba;eo=1,Object.defineProperty(Ba,"__esModule",{value:!0});var t;return function(e){e[e.ELEMENT_NODE=1]="ELEMENT_NODE",e[e.TEXT_NODE=3]="TEXT_NODE",e[e.COMMENT_NODE=8]="COMMENT_NODE"}(t||(t={})),Ba.default=t,Ba}var to;function jd(){if(to)return er;to=1;var t=er&&er.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(er,"__esModule",{value:!0});const e=t(Ss()),r=t(da());class a extends e.default{clone(){return new a(this.rawText,null,void 0,this.rawTagName)}constructor(u,n=null,i,o="!--"){super(n,i),this.rawText=u,this.rawTagName=o,this.nodeType=r.default.COMMENT_NODE}get text(){return this.rawText}toString(){return`<!--${this.rawText}-->`}}return er.default=a,er}var Je={},Ge={},Pt={},Ze={},Bt={},Gs={},ro;function Es(){return ro||(ro=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0;var e;(function(a){a.Root="root",a.Text="text",a.Directive="directive",a.Comment="comment",a.Script="script",a.Style="style",a.Tag="tag",a.CDATA="cdata",a.Doctype="doctype"})(e=t.ElementType||(t.ElementType={}));function r(a){return a.type===e.Tag||a.type===e.Script||a.type===e.Style}t.isTag=r,t.Root=e.Root,t.Text=e.Text,t.Directive=e.Directive,t.Comment=e.Comment,t.Script=e.Script,t.Style=e.Style,t.Tag=e.Tag,t.CDATA=e.CDATA,t.Doctype=e.Doctype}(Gs)),Gs}var U={},ao;function so(){if(ao)return U;ao=1;var t=U&&U.__extends||function(){var v=function(D,S){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,q){k.__proto__=q}||function(k,q){for(var O in q)Object.prototype.hasOwnProperty.call(q,O)&&(k[O]=q[O])},v(D,S)};return function(D,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");v(D,S);function k(){this.constructor=D}D.prototype=S===null?Object.create(S):(k.prototype=S.prototype,new k)}}(),e=U&&U.__assign||function(){return e=Object.assign||function(v){for(var D,S=1,k=arguments.length;S<k;S++){D=arguments[S];for(var q in D)Object.prototype.hasOwnProperty.call(D,q)&&(v[q]=D[q])}return v},e.apply(this,arguments)};Object.defineProperty(U,"__esModule",{value:!0}),U.cloneNode=U.hasChildren=U.isDocument=U.isDirective=U.isComment=U.isText=U.isCDATA=U.isTag=U.Element=U.Document=U.CDATA=U.NodeWithChildren=U.ProcessingInstruction=U.Comment=U.Text=U.DataNode=U.Node=void 0;var r=Es(),a=function(){function v(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(v.prototype,"parentNode",{get:function(){return this.parent},set:function(D){this.parent=D},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"previousSibling",{get:function(){return this.prev},set:function(D){this.prev=D},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"nextSibling",{get:function(){return this.next},set:function(D){this.next=D},enumerable:!1,configurable:!0}),v.prototype.cloneNode=function(D){return D===void 0&&(D=!1),y(this,D)},v}();U.Node=a;var s=function(v){t(D,v);function D(S){var k=v.call(this)||this;return k.data=S,k}return Object.defineProperty(D.prototype,"nodeValue",{get:function(){return this.data},set:function(S){this.data=S},enumerable:!1,configurable:!0}),D}(a);U.DataNode=s;var u=function(v){t(D,v);function D(){var S=v!==null&&v.apply(this,arguments)||this;return S.type=r.ElementType.Text,S}return Object.defineProperty(D.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),D}(s);U.Text=u;var n=function(v){t(D,v);function D(){var S=v!==null&&v.apply(this,arguments)||this;return S.type=r.ElementType.Comment,S}return Object.defineProperty(D.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),D}(s);U.Comment=n;var i=function(v){t(D,v);function D(S,k){var q=v.call(this,k)||this;return q.name=S,q.type=r.ElementType.Directive,q}return Object.defineProperty(D.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),D}(s);U.ProcessingInstruction=i;var o=function(v){t(D,v);function D(S){var k=v.call(this)||this;return k.children=S,k}return Object.defineProperty(D.prototype,"firstChild",{get:function(){var S;return(S=this.children[0])!==null&&S!==void 0?S:null},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"childNodes",{get:function(){return this.children},set:function(S){this.children=S},enumerable:!1,configurable:!0}),D}(a);U.NodeWithChildren=o;var c=function(v){t(D,v);function D(){var S=v!==null&&v.apply(this,arguments)||this;return S.type=r.ElementType.CDATA,S}return Object.defineProperty(D.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),D}(o);U.CDATA=c;var d=function(v){t(D,v);function D(){var S=v!==null&&v.apply(this,arguments)||this;return S.type=r.ElementType.Root,S}return Object.defineProperty(D.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),D}(o);U.Document=d;var f=function(v){t(D,v);function D(S,k,q,O){q===void 0&&(q=[]),O===void 0&&(O=S==="script"?r.ElementType.Script:S==="style"?r.ElementType.Style:r.ElementType.Tag);var N=v.call(this,q)||this;return N.name=S,N.attribs=k,N.type=O,N}return Object.defineProperty(D.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"tagName",{get:function(){return this.name},set:function(S){this.name=S},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"attributes",{get:function(){var S=this;return Object.keys(this.attribs).map(function(k){var q,O;return{name:k,value:S.attribs[k],namespace:(q=S["x-attribsNamespace"])===null||q===void 0?void 0:q[k],prefix:(O=S["x-attribsPrefix"])===null||O===void 0?void 0:O[k]}})},enumerable:!1,configurable:!0}),D}(o);U.Element=f;function h(v){return(0,r.isTag)(v)}U.isTag=h;function p(v){return v.type===r.ElementType.CDATA}U.isCDATA=p;function m(v){return v.type===r.ElementType.Text}U.isText=m;function b(v){return v.type===r.ElementType.Comment}U.isComment=b;function x(v){return v.type===r.ElementType.Directive}U.isDirective=x;function E(v){return v.type===r.ElementType.Root}U.isDocument=E;function A(v){return Object.prototype.hasOwnProperty.call(v,"children")}U.hasChildren=A;function y(v,D){D===void 0&&(D=!1);var S;if(m(v))S=new u(v.data);else if(b(v))S=new n(v.data);else if(h(v)){var k=D?g(v.children):[],q=new f(v.name,e({},v.attribs),k);k.forEach(function(B){return B.parent=q}),v.namespace!=null&&(q.namespace=v.namespace),v["x-attribsNamespace"]&&(q["x-attribsNamespace"]=e({},v["x-attribsNamespace"])),v["x-attribsPrefix"]&&(q["x-attribsPrefix"]=e({},v["x-attribsPrefix"])),S=q}else if(p(v)){var k=D?g(v.children):[],O=new c(k);k.forEach(function(w){return w.parent=O}),S=O}else if(E(v)){var k=D?g(v.children):[],N=new d(k);k.forEach(function(w){return w.parent=N}),v["x-mode"]&&(N["x-mode"]=v["x-mode"]),S=N}else if(x(v)){var F=new i(v.name,v.data);v["x-name"]!=null&&(F["x-name"]=v["x-name"],F["x-publicId"]=v["x-publicId"],F["x-systemId"]=v["x-systemId"]),S=F}else throw new Error("Not implemented yet: ".concat(v.type));return S.startIndex=v.startIndex,S.endIndex=v.endIndex,v.sourceCodeLocation!=null&&(S.sourceCodeLocation=v.sourceCodeLocation),S}U.cloneNode=y;function g(v){for(var D=v.map(function(k){return y(k,!0)}),S=1;S<D.length;S++)D[S].prev=D[S-1],D[S-1].next=D[S];return D}return U}var no;function Cr(){return no||(no=1,function(t){var e=Bt&&Bt.__createBinding||(Object.create?function(i,o,c,d){d===void 0&&(d=c);var f=Object.getOwnPropertyDescriptor(o,c);(!f||("get"in f?!o.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return o[c]}}),Object.defineProperty(i,d,f)}:function(i,o,c,d){d===void 0&&(d=c),i[d]=o[c]}),r=Bt&&Bt.__exportStar||function(i,o){for(var c in i)c!=="default"&&!Object.prototype.hasOwnProperty.call(o,c)&&e(o,i,c)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var a=Es(),s=so();r(so(),t);var u={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},n=function(){function i(o,c,d){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof c=="function"&&(d=c,c=u),typeof o=="object"&&(c=o,o=void 0),this.callback=o??null,this.options=c??u,this.elementCB=d??null}return i.prototype.onparserinit=function(o){this.parser=o},i.prototype.onreset=function(){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},i.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},i.prototype.onerror=function(o){this.handleCallback(o)},i.prototype.onclosetag=function(){this.lastNode=null;var o=this.tagStack.pop();this.options.withEndIndices&&(o.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(o)},i.prototype.onopentag=function(o,c){var d=this.options.xmlMode?a.ElementType.Tag:void 0,f=new s.Element(o,c,void 0,d);this.addNode(f),this.tagStack.push(f)},i.prototype.ontext=function(o){var c=this.lastNode;if(c&&c.type===a.ElementType.Text)c.data+=o,this.options.withEndIndices&&(c.endIndex=this.parser.endIndex);else{var d=new s.Text(o);this.addNode(d),this.lastNode=d}},i.prototype.oncomment=function(o){if(this.lastNode&&this.lastNode.type===a.ElementType.Comment){this.lastNode.data+=o;return}var c=new s.Comment(o);this.addNode(c),this.lastNode=c},i.prototype.oncommentend=function(){this.lastNode=null},i.prototype.oncdatastart=function(){var o=new s.Text(""),c=new s.CDATA([o]);this.addNode(c),o.parent=c,this.lastNode=o},i.prototype.oncdataend=function(){this.lastNode=null},i.prototype.onprocessinginstruction=function(o,c){var d=new s.ProcessingInstruction(o,c);this.addNode(d)},i.prototype.handleCallback=function(o){if(typeof this.callback=="function")this.callback(o,this.dom);else if(o)throw o},i.prototype.addNode=function(o){var c=this.tagStack[this.tagStack.length-1],d=c.children[c.children.length-1];this.options.withStartIndices&&(o.startIndex=this.parser.startIndex),this.options.withEndIndices&&(o.endIndex=this.parser.endIndex),c.children.push(o),d&&(o.prev=d,d.next=o),o.parent=c,this.lastNode=null},i}();t.DomHandler=n,t.default=n}(Bt)),Bt}var Fe={},Ws={},We={},Fa={},uo;function j1(){return uo||(uo=1,Object.defineProperty(Fa,"__esModule",{value:!0}),Fa.default=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(function(t){return t.charCodeAt(0)}))),Fa}var La={},io;function k1(){return io||(io=1,Object.defineProperty(La,"__esModule",{value:!0}),La.default=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(function(t){return t.charCodeAt(0)}))),La}var Ks={},oo;function co(){return oo||(oo=1,function(t){var e;Object.defineProperty(t,"__esModule",{value:!0}),t.replaceCodePoint=t.fromCodePoint=void 0;var r=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);t.fromCodePoint=(e=String.fromCodePoint)!==null&&e!==void 0?e:function(u){var n="";return u>65535&&(u-=65536,n+=String.fromCharCode(u>>>10&1023|55296),u=56320|u&1023),n+=String.fromCharCode(u),n};function a(u){var n;return u>=55296&&u<=57343||u>1114111?65533:(n=r.get(u))!==null&&n!==void 0?n:u}t.replaceCodePoint=a;function s(u){return(0,t.fromCodePoint)(a(u))}t.default=s}(Ks)),Ks}var lo;function fo(){return lo||(lo=1,function(t){var e=We&&We.__createBinding||(Object.create?function(N,F,B,w){w===void 0&&(w=B);var j=Object.getOwnPropertyDescriptor(F,B);(!j||("get"in j?!F.__esModule:j.writable||j.configurable))&&(j={enumerable:!0,get:function(){return F[B]}}),Object.defineProperty(N,w,j)}:function(N,F,B,w){w===void 0&&(w=B),N[w]=F[B]}),r=We&&We.__setModuleDefault||(Object.create?function(N,F){Object.defineProperty(N,"default",{enumerable:!0,value:F})}:function(N,F){N.default=F}),a=We&&We.__importStar||function(N){if(N&&N.__esModule)return N;var F={};if(N!=null)for(var B in N)B!=="default"&&Object.prototype.hasOwnProperty.call(N,B)&&e(F,N,B);return r(F,N),F},s=We&&We.__importDefault||function(N){return N&&N.__esModule?N:{default:N}};Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXML=t.decodeHTMLStrict=t.decodeHTMLAttribute=t.decodeHTML=t.determineBranch=t.EntityDecoder=t.DecodingMode=t.BinTrieFlags=t.fromCodePoint=t.replaceCodePoint=t.decodeCodePoint=t.xmlDecodeTree=t.htmlDecodeTree=void 0;var u=s(j1());t.htmlDecodeTree=u.default;var n=s(k1());t.xmlDecodeTree=n.default;var i=a(co());t.decodeCodePoint=i.default;var o=co();Object.defineProperty(t,"replaceCodePoint",{enumerable:!0,get:function(){return o.replaceCodePoint}}),Object.defineProperty(t,"fromCodePoint",{enumerable:!0,get:function(){return o.fromCodePoint}});var c;(function(N){N[N.NUM=35]="NUM",N[N.SEMI=59]="SEMI",N[N.EQUALS=61]="EQUALS",N[N.ZERO=48]="ZERO",N[N.NINE=57]="NINE",N[N.LOWER_A=97]="LOWER_A",N[N.LOWER_F=102]="LOWER_F",N[N.LOWER_X=120]="LOWER_X",N[N.LOWER_Z=122]="LOWER_Z",N[N.UPPER_A=65]="UPPER_A",N[N.UPPER_F=70]="UPPER_F",N[N.UPPER_Z=90]="UPPER_Z"})(c||(c={}));var d=32,f;(function(N){N[N.VALUE_LENGTH=49152]="VALUE_LENGTH",N[N.BRANCH_LENGTH=16256]="BRANCH_LENGTH",N[N.JUMP_TABLE=127]="JUMP_TABLE"})(f=t.BinTrieFlags||(t.BinTrieFlags={}));function h(N){return N>=c.ZERO&&N<=c.NINE}function p(N){return N>=c.UPPER_A&&N<=c.UPPER_F||N>=c.LOWER_A&&N<=c.LOWER_F}function m(N){return N>=c.UPPER_A&&N<=c.UPPER_Z||N>=c.LOWER_A&&N<=c.LOWER_Z||h(N)}function b(N){return N===c.EQUALS||m(N)}var x;(function(N){N[N.EntityStart=0]="EntityStart",N[N.NumericStart=1]="NumericStart",N[N.NumericDecimal=2]="NumericDecimal",N[N.NumericHex=3]="NumericHex",N[N.NamedEntity=4]="NamedEntity"})(x||(x={}));var E;(function(N){N[N.Legacy=0]="Legacy",N[N.Strict=1]="Strict",N[N.Attribute=2]="Attribute"})(E=t.DecodingMode||(t.DecodingMode={}));var A=function(){function N(F,B,w){this.decodeTree=F,this.emitCodePoint=B,this.errors=w,this.state=x.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=E.Strict}return N.prototype.startEntity=function(F){this.decodeMode=F,this.state=x.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1},N.prototype.write=function(F,B){switch(this.state){case x.EntityStart:return F.charCodeAt(B)===c.NUM?(this.state=x.NumericStart,this.consumed+=1,this.stateNumericStart(F,B+1)):(this.state=x.NamedEntity,this.stateNamedEntity(F,B));case x.NumericStart:return this.stateNumericStart(F,B);case x.NumericDecimal:return this.stateNumericDecimal(F,B);case x.NumericHex:return this.stateNumericHex(F,B);case x.NamedEntity:return this.stateNamedEntity(F,B)}},N.prototype.stateNumericStart=function(F,B){return B>=F.length?-1:(F.charCodeAt(B)|d)===c.LOWER_X?(this.state=x.NumericHex,this.consumed+=1,this.stateNumericHex(F,B+1)):(this.state=x.NumericDecimal,this.stateNumericDecimal(F,B))},N.prototype.addToNumericResult=function(F,B,w,j){if(B!==w){var P=w-B;this.result=this.result*Math.pow(j,P)+parseInt(F.substr(B,P),j),this.consumed+=P}},N.prototype.stateNumericHex=function(F,B){for(var w=B;B<F.length;){var j=F.charCodeAt(B);if(h(j)||p(j))B+=1;else return this.addToNumericResult(F,w,B,16),this.emitNumericEntity(j,3)}return this.addToNumericResult(F,w,B,16),-1},N.prototype.stateNumericDecimal=function(F,B){for(var w=B;B<F.length;){var j=F.charCodeAt(B);if(h(j))B+=1;else return this.addToNumericResult(F,w,B,10),this.emitNumericEntity(j,2)}return this.addToNumericResult(F,w,B,10),-1},N.prototype.emitNumericEntity=function(F,B){var w;if(this.consumed<=B)return(w=this.errors)===null||w===void 0||w.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(F===c.SEMI)this.consumed+=1;else if(this.decodeMode===E.Strict)return 0;return this.emitCodePoint((0,i.replaceCodePoint)(this.result),this.consumed),this.errors&&(F!==c.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed},N.prototype.stateNamedEntity=function(F,B){for(var w=this.decodeTree,j=w[this.treeIndex],P=(j&f.VALUE_LENGTH)>>14;B<F.length;B++,this.excess++){var T=F.charCodeAt(B);if(this.treeIndex=g(w,j,this.treeIndex+Math.max(1,P),T),this.treeIndex<0)return this.result===0||this.decodeMode===E.Attribute&&(P===0||b(T))?0:this.emitNotTerminatedNamedEntity();if(j=w[this.treeIndex],P=(j&f.VALUE_LENGTH)>>14,P!==0){if(T===c.SEMI)return this.emitNamedEntityData(this.treeIndex,P,this.consumed+this.excess);this.decodeMode!==E.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1},N.prototype.emitNotTerminatedNamedEntity=function(){var F,B=this,w=B.result,j=B.decodeTree,P=(j[w]&f.VALUE_LENGTH)>>14;return this.emitNamedEntityData(w,P,this.consumed),(F=this.errors)===null||F===void 0||F.missingSemicolonAfterCharacterReference(),this.consumed},N.prototype.emitNamedEntityData=function(F,B,w){var j=this.decodeTree;return this.emitCodePoint(B===1?j[F]&~f.VALUE_LENGTH:j[F+1],w),B===3&&this.emitCodePoint(j[F+2],w),w},N.prototype.end=function(){var F;switch(this.state){case x.NamedEntity:return this.result!==0&&(this.decodeMode!==E.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case x.NumericDecimal:return this.emitNumericEntity(0,2);case x.NumericHex:return this.emitNumericEntity(0,3);case x.NumericStart:return(F=this.errors)===null||F===void 0||F.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case x.EntityStart:return 0}},N}();t.EntityDecoder=A;function y(N){var F="",B=new A(N,function(w){return F+=(0,i.fromCodePoint)(w)});return function(j,P){for(var T=0,R=0;(R=j.indexOf("&",R))>=0;){F+=j.slice(T,R),B.startEntity(P);var L=B.write(j,R+1);if(L<0){T=R+B.end();break}T=R+L,R=L===0?T+1:T}var M=F+j.slice(T);return F="",M}}function g(N,F,B,w){var j=(F&f.BRANCH_LENGTH)>>7,P=F&f.JUMP_TABLE;if(j===0)return P!==0&&w===P?B:-1;if(P){var T=w-P;return T<0||T>=j?-1:N[B+T]-1}for(var R=B,L=R+j-1;R<=L;){var M=R+L>>>1,_=N[M];if(_<w)R=M+1;else if(_>w)L=M-1;else return N[M+j]}return-1}t.determineBranch=g;var v=y(u.default),D=y(n.default);function S(N,F){return F===void 0&&(F=E.Legacy),v(N,F)}t.decodeHTML=S;function k(N){return v(N,E.Attribute)}t.decodeHTMLAttribute=k;function q(N){return v(N,E.Strict)}t.decodeHTMLStrict=q;function O(N){return D(N,E.Strict)}t.decodeXML=O}(We)),We}var ut={},Ra={},ho;function N1(){if(ho)return Ra;ho=1,Object.defineProperty(Ra,"__esModule",{value:!0});function t(e){for(var r=1;r<e.length;r++)e[r][0]+=e[r-1][0]+1;return e}return Ra.default=new Map(t([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(t([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(t([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(t([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]])),Ra}var Ys={},po;function jn(){return po||(po=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.escapeText=t.escapeAttribute=t.escapeUTF8=t.escape=t.encodeXML=t.getCodePoint=t.xmlReplacer=void 0,t.xmlReplacer=/["&'<>$\x80-\uFFFF]/g;var e=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);t.getCodePoint=String.prototype.codePointAt!=null?function(s,u){return s.codePointAt(u)}:function(s,u){return(s.charCodeAt(u)&64512)===55296?(s.charCodeAt(u)-55296)*1024+s.charCodeAt(u+1)-56320+65536:s.charCodeAt(u)};function r(s){for(var u="",n=0,i;(i=t.xmlReplacer.exec(s))!==null;){var o=i.index,c=s.charCodeAt(o),d=e.get(c);d!==void 0?(u+=s.substring(n,o)+d,n=o+1):(u+="".concat(s.substring(n,o),"&#x").concat((0,t.getCodePoint)(s,o).toString(16),";"),n=t.xmlReplacer.lastIndex+=+((c&64512)===55296))}return u+s.substr(n)}t.encodeXML=r,t.escape=r;function a(s,u){return function(i){for(var o,c=0,d="";o=s.exec(i);)c!==o.index&&(d+=i.substring(c,o.index)),d+=u.get(o[0].charCodeAt(0)),c=o.index+1;return d+i.substring(c)}}t.escapeUTF8=a(/[&<>'"]/g,e),t.escapeAttribute=a(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),t.escapeText=a(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))}(Ys)),Ys}var mo;function go(){if(mo)return ut;mo=1;var t=ut&&ut.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ut,"__esModule",{value:!0}),ut.encodeNonAsciiHTML=ut.encodeHTML=void 0;var e=t(N1()),r=jn(),a=/[\t\n!-,./:-@[-`\f{-}$\x80-\uFFFF]/g;function s(i){return n(a,i)}ut.encodeHTML=s;function u(i){return n(r.xmlReplacer,i)}ut.encodeNonAsciiHTML=u;function n(i,o){for(var c="",d=0,f;(f=i.exec(o))!==null;){var h=f.index;c+=o.substring(d,h);var p=o.charCodeAt(h),m=e.default.get(p);if(typeof m=="object"){if(h+1<o.length){var b=o.charCodeAt(h+1),x=typeof m.n=="number"?m.n===b?m.o:void 0:m.n.get(b);if(x!==void 0){c+=x,d=i.lastIndex+=1;continue}}m=m.v}if(m!==void 0)c+=m,d=h+1;else{var E=(0,r.getCodePoint)(o,h);c+="&#x".concat(E.toString(16),";"),d=i.lastIndex+=+(E!==p)}}return c+o.substr(d)}return ut}var bo;function P1(){return bo||(bo=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXMLStrict=t.decodeHTML5Strict=t.decodeHTML4Strict=t.decodeHTML5=t.decodeHTML4=t.decodeHTMLAttribute=t.decodeHTMLStrict=t.decodeHTML=t.decodeXML=t.DecodingMode=t.EntityDecoder=t.encodeHTML5=t.encodeHTML4=t.encodeNonAsciiHTML=t.encodeHTML=t.escapeText=t.escapeAttribute=t.escapeUTF8=t.escape=t.encodeXML=t.encode=t.decodeStrict=t.decode=t.EncodingMode=t.EntityLevel=void 0;var e=fo(),r=go(),a=jn(),s;(function(h){h[h.XML=0]="XML",h[h.HTML=1]="HTML"})(s=t.EntityLevel||(t.EntityLevel={}));var u;(function(h){h[h.UTF8=0]="UTF8",h[h.ASCII=1]="ASCII",h[h.Extensive=2]="Extensive",h[h.Attribute=3]="Attribute",h[h.Text=4]="Text"})(u=t.EncodingMode||(t.EncodingMode={}));function n(h,p){p===void 0&&(p=s.XML);var m=typeof p=="number"?p:p.level;if(m===s.HTML){var b=typeof p=="object"?p.mode:void 0;return(0,e.decodeHTML)(h,b)}return(0,e.decodeXML)(h)}t.decode=n;function i(h,p){var m;p===void 0&&(p=s.XML);var b=typeof p=="number"?{level:p}:p;return(m=b.mode)!==null&&m!==void 0||(b.mode=e.DecodingMode.Strict),n(h,b)}t.decodeStrict=i;function o(h,p){p===void 0&&(p=s.XML);var m=typeof p=="number"?{level:p}:p;return m.mode===u.UTF8?(0,a.escapeUTF8)(h):m.mode===u.Attribute?(0,a.escapeAttribute)(h):m.mode===u.Text?(0,a.escapeText)(h):m.level===s.HTML?m.mode===u.ASCII?(0,r.encodeNonAsciiHTML)(h):(0,r.encodeHTML)(h):(0,a.encodeXML)(h)}t.encode=o;var c=jn();Object.defineProperty(t,"encodeXML",{enumerable:!0,get:function(){return c.encodeXML}}),Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return c.escape}}),Object.defineProperty(t,"escapeUTF8",{enumerable:!0,get:function(){return c.escapeUTF8}}),Object.defineProperty(t,"escapeAttribute",{enumerable:!0,get:function(){return c.escapeAttribute}}),Object.defineProperty(t,"escapeText",{enumerable:!0,get:function(){return c.escapeText}});var d=go();Object.defineProperty(t,"encodeHTML",{enumerable:!0,get:function(){return d.encodeHTML}}),Object.defineProperty(t,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return d.encodeNonAsciiHTML}}),Object.defineProperty(t,"encodeHTML4",{enumerable:!0,get:function(){return d.encodeHTML}}),Object.defineProperty(t,"encodeHTML5",{enumerable:!0,get:function(){return d.encodeHTML}});var f=fo();Object.defineProperty(t,"EntityDecoder",{enumerable:!0,get:function(){return f.EntityDecoder}}),Object.defineProperty(t,"DecodingMode",{enumerable:!0,get:function(){return f.DecodingMode}}),Object.defineProperty(t,"decodeXML",{enumerable:!0,get:function(){return f.decodeXML}}),Object.defineProperty(t,"decodeHTML",{enumerable:!0,get:function(){return f.decodeHTML}}),Object.defineProperty(t,"decodeHTMLStrict",{enumerable:!0,get:function(){return f.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTMLAttribute",{enumerable:!0,get:function(){return f.decodeHTMLAttribute}}),Object.defineProperty(t,"decodeHTML4",{enumerable:!0,get:function(){return f.decodeHTML}}),Object.defineProperty(t,"decodeHTML5",{enumerable:!0,get:function(){return f.decodeHTML}}),Object.defineProperty(t,"decodeHTML4Strict",{enumerable:!0,get:function(){return f.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML5Strict",{enumerable:!0,get:function(){return f.decodeHTMLStrict}}),Object.defineProperty(t,"decodeXMLStrict",{enumerable:!0,get:function(){return f.decodeXML}})}(Ws)),Ws}var Ft={},yo;function B1(){return yo||(yo=1,Object.defineProperty(Ft,"__esModule",{value:!0}),Ft.attributeNames=Ft.elementNames=void 0,Ft.elementNames=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(function(t){return[t.toLowerCase(),t]})),Ft.attributeNames=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(function(t){return[t.toLowerCase(),t]}))),Ft}var vo;function F1(){if(vo)return Fe;vo=1;var t=Fe&&Fe.__assign||function(){return t=Object.assign||function(g){for(var v,D=1,S=arguments.length;D<S;D++){v=arguments[D];for(var k in v)Object.prototype.hasOwnProperty.call(v,k)&&(g[k]=v[k])}return g},t.apply(this,arguments)},e=Fe&&Fe.__createBinding||(Object.create?function(g,v,D,S){S===void 0&&(S=D);var k=Object.getOwnPropertyDescriptor(v,D);(!k||("get"in k?!v.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return v[D]}}),Object.defineProperty(g,S,k)}:function(g,v,D,S){S===void 0&&(S=D),g[S]=v[D]}),r=Fe&&Fe.__setModuleDefault||(Object.create?function(g,v){Object.defineProperty(g,"default",{enumerable:!0,value:v})}:function(g,v){g.default=v}),a=Fe&&Fe.__importStar||function(g){if(g&&g.__esModule)return g;var v={};if(g!=null)for(var D in g)D!=="default"&&Object.prototype.hasOwnProperty.call(g,D)&&e(v,g,D);return r(v,g),v};Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.render=void 0;var s=a(Es()),u=P1(),n=B1(),i=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function o(g){return g.replace(/"/g,"&quot;")}function c(g,v){var D;if(g){var S=((D=v.encodeEntities)!==null&&D!==void 0?D:v.decodeEntities)===!1?o:v.xmlMode||v.encodeEntities!=="utf8"?u.encodeXML:u.escapeAttribute;return Object.keys(g).map(function(k){var q,O,N=(q=g[k])!==null&&q!==void 0?q:"";return v.xmlMode==="foreign"&&(k=(O=n.attributeNames.get(k))!==null&&O!==void 0?O:k),!v.emptyAttrs&&!v.xmlMode&&N===""?k:"".concat(k,'="').concat(S(N),'"')}).join(" ")}}var d=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function f(g,v){v===void 0&&(v={});for(var D=("length"in g)?g:[g],S="",k=0;k<D.length;k++)S+=h(D[k],v);return S}Fe.render=f,Fe.default=f;function h(g,v){switch(g.type){case s.Root:return f(g.children,v);case s.Doctype:case s.Directive:return x(g);case s.Comment:return y(g);case s.CDATA:return A(g);case s.Script:case s.Style:case s.Tag:return b(g,v);case s.Text:return E(g,v)}}var p=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),m=new Set(["svg","math"]);function b(g,v){var D;v.xmlMode==="foreign"&&(g.name=(D=n.elementNames.get(g.name))!==null&&D!==void 0?D:g.name,g.parent&&p.has(g.parent.name)&&(v=t(t({},v),{xmlMode:!1}))),!v.xmlMode&&m.has(g.name)&&(v=t(t({},v),{xmlMode:"foreign"}));var S="<".concat(g.name),k=c(g.attribs,v);return k&&(S+=" ".concat(k)),g.children.length===0&&(v.xmlMode?v.selfClosingTags!==!1:v.selfClosingTags&&d.has(g.name))?(v.xmlMode||(S+=" "),S+="/>"):(S+=">",g.children.length>0&&(S+=f(g.children,v)),(v.xmlMode||!d.has(g.name))&&(S+="</".concat(g.name,">"))),S}function x(g){return"<".concat(g.data,">")}function E(g,v){var D,S=g.data||"";return((D=v.encodeEntities)!==null&&D!==void 0?D:v.decodeEntities)!==!1&&!(!v.xmlMode&&g.parent&&i.has(g.parent.name))&&(S=v.xmlMode||v.encodeEntities!=="utf8"?(0,u.encodeXML)(S):(0,u.escapeText)(S)),S}function A(g){return"<![CDATA[".concat(g.children[0].data,"]]>")}function y(g){return"<!--".concat(g.data,"-->")}return Fe}var xo;function kd(){if(xo)return Ze;xo=1;var t=Ze&&Ze.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.getOuterHTML=s,Ze.getInnerHTML=u,Ze.getText=n,Ze.textContent=i,Ze.innerText=o;var e=Cr(),r=t(F1()),a=Es();function s(c,d){return(0,r.default)(c,d)}function u(c,d){return(0,e.hasChildren)(c)?c.children.map(function(f){return s(f,d)}).join(""):""}function n(c){return Array.isArray(c)?c.map(n).join(""):(0,e.isTag)(c)?c.name==="br"?`
`:n(c.children):(0,e.isCDATA)(c)?n(c.children):(0,e.isText)(c)?c.data:""}function i(c){return Array.isArray(c)?c.map(i).join(""):(0,e.hasChildren)(c)&&!(0,e.isComment)(c)?i(c.children):(0,e.isText)(c)?c.data:""}function o(c){return Array.isArray(c)?c.map(o).join(""):(0,e.hasChildren)(c)&&(c.type===a.ElementType.Tag||(0,e.isCDATA)(c))?o(c.children):(0,e.isText)(c)?c.data:""}return Ze}var Ke={},Do;function L1(){if(Do)return Ke;Do=1,Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.getChildren=e,Ke.getParent=r,Ke.getSiblings=a,Ke.getAttributeValue=s,Ke.hasAttrib=u,Ke.getName=n,Ke.nextElementSibling=i,Ke.prevElementSibling=o;var t=Cr();function e(c){return(0,t.hasChildren)(c)?c.children:[]}function r(c){return c.parent||null}function a(c){var d,f,h=r(c);if(h!=null)return e(h);for(var p=[c],m=c.prev,b=c.next;m!=null;)p.unshift(m),d=m,m=d.prev;for(;b!=null;)p.push(b),f=b,b=f.next;return p}function s(c,d){var f;return(f=c.attribs)===null||f===void 0?void 0:f[d]}function u(c,d){return c.attribs!=null&&Object.prototype.hasOwnProperty.call(c.attribs,d)&&c.attribs[d]!=null}function n(c){return c.name}function i(c){for(var d,f=c.next;f!==null&&!(0,t.isTag)(f);)d=f,f=d.next;return f}function o(c){for(var d,f=c.prev;f!==null&&!(0,t.isTag)(f);)d=f,f=d.prev;return f}return Ke}var it={},wo;function R1(){if(wo)return it;wo=1,Object.defineProperty(it,"__esModule",{value:!0}),it.removeElement=t,it.replaceElement=e,it.appendChild=r,it.append=a,it.prependChild=s,it.prepend=u;function t(n){if(n.prev&&(n.prev.next=n.next),n.next&&(n.next.prev=n.prev),n.parent){var i=n.parent.children,o=i.lastIndexOf(n);o>=0&&i.splice(o,1)}n.next=null,n.prev=null,n.parent=null}function e(n,i){var o=i.prev=n.prev;o&&(o.next=i);var c=i.next=n.next;c&&(c.prev=i);var d=i.parent=n.parent;if(d){var f=d.children;f[f.lastIndexOf(n)]=i,n.parent=null}}function r(n,i){if(t(i),i.next=null,i.parent=n,n.children.push(i)>1){var o=n.children[n.children.length-2];o.next=i,i.prev=o}else i.prev=null}function a(n,i){t(i);var o=n.parent,c=n.next;if(i.next=c,i.prev=n,n.next=i,i.parent=o,c){if(c.prev=i,o){var d=o.children;d.splice(d.lastIndexOf(c),0,i)}}else o&&o.children.push(i)}function s(n,i){if(t(i),i.parent=n,i.prev=null,n.children.unshift(i)!==1){var o=n.children[1];o.prev=i,i.next=o}else i.next=null}function u(n,i){t(i);var o=n.parent;if(o){var c=o.children;c.splice(c.indexOf(n),0,i)}n.prev&&(n.prev.next=i),i.parent=o,i.prev=n.prev,i.next=n,n.prev=i}return it}var ot={},Ao;function Nd(){if(Ao)return ot;Ao=1,Object.defineProperty(ot,"__esModule",{value:!0}),ot.filter=e,ot.find=r,ot.findOneChild=a,ot.findOne=s,ot.existsOne=u,ot.findAll=n;var t=Cr();function e(i,o,c,d){return c===void 0&&(c=!0),d===void 0&&(d=1/0),r(i,Array.isArray(o)?o:[o],c,d)}function r(i,o,c,d){for(var f=[],h=[Array.isArray(o)?o:[o]],p=[0];;){if(p[0]>=h[0].length){if(p.length===1)return f;h.shift(),p.shift();continue}var m=h[0][p[0]++];if(i(m)&&(f.push(m),--d<=0))return f;c&&(0,t.hasChildren)(m)&&m.children.length>0&&(p.unshift(0),h.unshift(m.children))}}function a(i,o){return o.find(i)}function s(i,o,c){c===void 0&&(c=!0);for(var d=Array.isArray(o)?o:[o],f=0;f<d.length;f++){var h=d[f];if((0,t.isTag)(h)&&i(h))return h;if(c&&(0,t.hasChildren)(h)&&h.children.length>0){var p=s(i,h.children,!0);if(p)return p}}return null}function u(i,o){return(Array.isArray(o)?o:[o]).some(function(c){return(0,t.isTag)(c)&&i(c)||(0,t.hasChildren)(c)&&u(i,c.children)})}function n(i,o){for(var c=[],d=[Array.isArray(o)?o:[o]],f=[0];;){if(f[0]>=d[0].length){if(d.length===1)return c;d.shift(),f.shift();continue}var h=d[0][f[0]++];(0,t.isTag)(h)&&i(h)&&c.push(h),(0,t.hasChildren)(h)&&h.children.length>0&&(f.unshift(0),d.unshift(h.children))}}return ot}var ct={},Co;function Pd(){if(Co)return ct;Co=1,Object.defineProperty(ct,"__esModule",{value:!0}),ct.testElement=n,ct.getElements=i,ct.getElementById=o,ct.getElementsByTagName=c,ct.getElementsByClassName=d,ct.getElementsByTagType=f;var t=Cr(),e=Nd(),r={tag_name:function(h){return typeof h=="function"?function(p){return(0,t.isTag)(p)&&h(p.name)}:h==="*"?t.isTag:function(p){return(0,t.isTag)(p)&&p.name===h}},tag_type:function(h){return typeof h=="function"?function(p){return h(p.type)}:function(p){return p.type===h}},tag_contains:function(h){return typeof h=="function"?function(p){return(0,t.isText)(p)&&h(p.data)}:function(p){return(0,t.isText)(p)&&p.data===h}}};function a(h,p){return typeof p=="function"?function(m){return(0,t.isTag)(m)&&p(m.attribs[h])}:function(m){return(0,t.isTag)(m)&&m.attribs[h]===p}}function s(h,p){return function(m){return h(m)||p(m)}}function u(h){var p=Object.keys(h).map(function(m){var b=h[m];return Object.prototype.hasOwnProperty.call(r,m)?r[m](b):a(m,b)});return p.length===0?null:p.reduce(s)}function n(h,p){var m=u(h);return m?m(p):!0}function i(h,p,m,b){b===void 0&&(b=1/0);var x=u(h);return x?(0,e.filter)(x,p,m,b):[]}function o(h,p,m){return m===void 0&&(m=!0),Array.isArray(p)||(p=[p]),(0,e.findOne)(a("id",h),p,m)}function c(h,p,m,b){return m===void 0&&(m=!0),b===void 0&&(b=1/0),(0,e.filter)(r.tag_name(h),p,m,b)}function d(h,p,m,b){return m===void 0&&(m=!0),b===void 0&&(b=1/0),(0,e.filter)(a("class",h),p,m,b)}function f(h,p,m,b){return m===void 0&&(m=!0),b===void 0&&(b=1/0),(0,e.filter)(r.tag_type(h),p,m,b)}return ct}var vt={},So;function q1(){if(So)return vt;So=1,Object.defineProperty(vt,"__esModule",{value:!0}),vt.DocumentPosition=void 0,vt.removeSubsets=e,vt.compareDocumentPosition=a,vt.uniqueSort=s;var t=Cr();function e(u){for(var n=u.length;--n>=0;){var i=u[n];if(n>0&&u.lastIndexOf(i,n-1)>=0){u.splice(n,1);continue}for(var o=i.parent;o;o=o.parent)if(u.includes(o)){u.splice(n,1);break}}return u}var r;(function(u){u[u.DISCONNECTED=1]="DISCONNECTED",u[u.PRECEDING=2]="PRECEDING",u[u.FOLLOWING=4]="FOLLOWING",u[u.CONTAINS=8]="CONTAINS",u[u.CONTAINED_BY=16]="CONTAINED_BY"})(r||(vt.DocumentPosition=r={}));function a(u,n){var i=[],o=[];if(u===n)return 0;for(var c=(0,t.hasChildren)(u)?u:u.parent;c;)i.unshift(c),c=c.parent;for(c=(0,t.hasChildren)(n)?n:n.parent;c;)o.unshift(c),c=c.parent;for(var d=Math.min(i.length,o.length),f=0;f<d&&i[f]===o[f];)f++;if(f===0)return r.DISCONNECTED;var h=i[f-1],p=h.children,m=i[f],b=o[f];return p.indexOf(m)>p.indexOf(b)?h===n?r.FOLLOWING|r.CONTAINED_BY:r.FOLLOWING:h===u?r.PRECEDING|r.CONTAINS:r.PRECEDING}function s(u){return u=u.filter(function(n,i,o){return!o.includes(n,i+1)}),u.sort(function(n,i){var o=a(n,i);return o&r.PRECEDING?-1:o&r.FOLLOWING?1:0}),u}return vt}var qa={},Eo;function _1(){if(Eo)return qa;Eo=1,Object.defineProperty(qa,"__esModule",{value:!0}),qa.getFeed=r;var t=kd(),e=Pd();function r(h){var p=o(f,h);return p?p.name==="feed"?a(p):s(p):null}function a(h){var p,m=h.children,b={type:"atom",items:(0,e.getElementsByTagName)("entry",m).map(function(A){var y,g=A.children,v={media:i(g)};d(v,"id","id",g),d(v,"title","title",g);var D=(y=o("link",g))===null||y===void 0?void 0:y.attribs.href;D&&(v.link=D);var S=c("summary",g)||c("content",g);S&&(v.description=S);var k=c("updated",g);return k&&(v.pubDate=new Date(k)),v})};d(b,"id","id",m),d(b,"title","title",m);var x=(p=o("link",m))===null||p===void 0?void 0:p.attribs.href;x&&(b.link=x),d(b,"description","subtitle",m);var E=c("updated",m);return E&&(b.updated=new Date(E)),d(b,"author","email",m,!0),b}function s(h){var p,m,b=(m=(p=o("channel",h.children))===null||p===void 0?void 0:p.children)!==null&&m!==void 0?m:[],x={type:h.name.substr(0,3),id:"",items:(0,e.getElementsByTagName)("item",h.children).map(function(A){var y=A.children,g={media:i(y)};d(g,"id","guid",y),d(g,"title","title",y),d(g,"link","link",y),d(g,"description","description",y);var v=c("pubDate",y)||c("dc:date",y);return v&&(g.pubDate=new Date(v)),g})};d(x,"title","title",b),d(x,"link","link",b),d(x,"description","description",b);var E=c("lastBuildDate",b);return E&&(x.updated=new Date(E)),d(x,"author","managingEditor",b,!0),x}var u=["url","type","lang"],n=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function i(h){return(0,e.getElementsByTagName)("media:content",h).map(function(p){for(var m=p.attribs,b={medium:m.medium,isDefault:!!m.isDefault},x=0,E=u;x<E.length;x++){var A=E[x];m[A]&&(b[A]=m[A])}for(var y=0,g=n;y<g.length;y++){var A=g[y];m[A]&&(b[A]=parseInt(m[A],10))}return m.expression&&(b.expression=m.expression),b})}function o(h,p){return(0,e.getElementsByTagName)(h,p,!0,1)[0]}function c(h,p,m){return m===void 0&&(m=!1),(0,t.textContent)((0,e.getElementsByTagName)(h,p,m,1)).trim()}function d(h,p,m,b,x){x===void 0&&(x=!1);var E=c(m,b,x);E&&(h[p]=E)}function f(h){return h==="rss"||h==="feed"||h==="rdf:RDF"}return qa}var To;function M1(){return To||(To=1,function(t){var e=Pt&&Pt.__createBinding||(Object.create?function(s,u,n,i){i===void 0&&(i=n);var o=Object.getOwnPropertyDescriptor(u,n);(!o||("get"in o?!u.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return u[n]}}),Object.defineProperty(s,i,o)}:function(s,u,n,i){i===void 0&&(i=n),s[i]=u[n]}),r=Pt&&Pt.__exportStar||function(s,u){for(var n in s)n!=="default"&&!Object.prototype.hasOwnProperty.call(u,n)&&e(u,s,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.hasChildren=t.isDocument=t.isComment=t.isText=t.isCDATA=t.isTag=void 0,r(kd(),t),r(L1(),t),r(R1(),t),r(Nd(),t),r(Pd(),t),r(q1(),t),r(_1(),t);var a=Cr();Object.defineProperty(t,"isTag",{enumerable:!0,get:function(){return a.isTag}}),Object.defineProperty(t,"isCDATA",{enumerable:!0,get:function(){return a.isCDATA}}),Object.defineProperty(t,"isText",{enumerable:!0,get:function(){return a.isText}}),Object.defineProperty(t,"isComment",{enumerable:!0,get:function(){return a.isComment}}),Object.defineProperty(t,"isDocument",{enumerable:!0,get:function(){return a.isDocument}}),Object.defineProperty(t,"hasChildren",{enumerable:!0,get:function(){return a.hasChildren}})}(Pt)),Pt}var Xs,jo;function Sr(){return jo||(jo=1,Xs={trueFunc:function(){return!0},falseFunc:function(){return!1}}),Xs}var ve={},J;(function(t){t.Attribute="attribute",t.Pseudo="pseudo",t.PseudoElement="pseudo-element",t.Tag="tag",t.Universal="universal",t.Adjacent="adjacent",t.Child="child",t.Descendant="descendant",t.Parent="parent",t.Sibling="sibling",t.ColumnCombinator="column-combinator"})(J||(J={}));const I1={Unknown:null,QuirksMode:"quirks",IgnoreCase:!0,CaseSensitive:!1};var ne;(function(t){t.Any="any",t.Element="element",t.End="end",t.Equals="equals",t.Exists="exists",t.Hyphen="hyphen",t.Not="not",t.Start="start"})(ne||(ne={}));const ko=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,O1=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,V1=new Map([[126,ne.Element],[94,ne.Start],[36,ne.End],[42,ne.Any],[33,ne.Not],[124,ne.Hyphen]]),U1=new Set(["has","not","matches","is","where","host","host-context"]);function Bd(t){switch(t.type){case J.Adjacent:case J.Child:case J.Descendant:case J.Parent:case J.Sibling:case J.ColumnCombinator:return!0;default:return!1}}const $1=new Set(["contains","icontains"]);function H1(t,e,r){const a=parseInt(e,16)-65536;return a!==a||r?e:a<0?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,a&1023|56320)}function Pr(t){return t.replace(O1,H1)}function Js(t){return t===39||t===34}function No(t){return t===32||t===9||t===10||t===12||t===13}function z1(t){const e=[],r=Fd(e,`${t}`,0);if(r<t.length)throw new Error(`Unmatched selector: ${t.slice(r)}`);return e}function Fd(t,e,r){let a=[];function s(h){const p=e.slice(r+h).match(ko);if(!p)throw new Error(`Expected name, found ${e.slice(r)}`);const[m]=p;return r+=h+m.length,Pr(m)}function u(h){for(r+=h;r<e.length&&No(e.charCodeAt(r));)r++}function n(){r+=1;const h=r;let p=1;for(;p>0&&r<e.length;r++)e.charCodeAt(r)===40&&!i(r)?p++:e.charCodeAt(r)===41&&!i(r)&&p--;if(p)throw new Error("Parenthesis not matched");return Pr(e.slice(h,r-1))}function i(h){let p=0;for(;e.charCodeAt(--h)===92;)p++;return(p&1)===1}function o(){if(a.length>0&&Bd(a[a.length-1]))throw new Error("Did not expect successive traversals.")}function c(h){if(a.length>0&&a[a.length-1].type===J.Descendant){a[a.length-1].type=h;return}o(),a.push({type:h})}function d(h,p){a.push({type:J.Attribute,name:h,action:p,value:s(1),namespace:null,ignoreCase:"quirks"})}function f(){if(a.length&&a[a.length-1].type===J.Descendant&&a.pop(),a.length===0)throw new Error("Empty sub-selector");t.push(a)}if(u(0),e.length===r)return r;e:for(;r<e.length;){const h=e.charCodeAt(r);switch(h){case 32:case 9:case 10:case 12:case 13:{(a.length===0||a[0].type!==J.Descendant)&&(o(),a.push({type:J.Descendant})),u(1);break}case 62:{c(J.Child),u(1);break}case 60:{c(J.Parent),u(1);break}case 126:{c(J.Sibling),u(1);break}case 43:{c(J.Adjacent),u(1);break}case 46:{d("class",ne.Element);break}case 35:{d("id",ne.Equals);break}case 91:{u(1);let p,m=null;e.charCodeAt(r)===124?p=s(1):e.startsWith("*|",r)?(m="*",p=s(2)):(p=s(0),e.charCodeAt(r)===124&&e.charCodeAt(r+1)!==61&&(m=p,p=s(1))),u(0);let b=ne.Exists;const x=V1.get(e.charCodeAt(r));if(x){if(b=x,e.charCodeAt(r+1)!==61)throw new Error("Expected `=`");u(2)}else e.charCodeAt(r)===61&&(b=ne.Equals,u(1));let E="",A=null;if(b!=="exists"){if(Js(e.charCodeAt(r))){const v=e.charCodeAt(r);let D=r+1;for(;D<e.length&&(e.charCodeAt(D)!==v||i(D));)D+=1;if(e.charCodeAt(D)!==v)throw new Error("Attribute value didn't end");E=Pr(e.slice(r+1,D)),r=D+1}else{const v=r;for(;r<e.length&&(!No(e.charCodeAt(r))&&e.charCodeAt(r)!==93||i(r));)r+=1;E=Pr(e.slice(v,r))}u(0);const g=e.charCodeAt(r)|32;g===115?(A=!1,u(1)):g===105&&(A=!0,u(1))}if(e.charCodeAt(r)!==93)throw new Error("Attribute selector didn't terminate");r+=1;const y={type:J.Attribute,name:p,action:b,value:E,namespace:m,ignoreCase:A};a.push(y);break}case 58:{if(e.charCodeAt(r+1)===58){a.push({type:J.PseudoElement,name:s(2).toLowerCase(),data:e.charCodeAt(r)===40?n():null});continue}const p=s(1).toLowerCase();let m=null;if(e.charCodeAt(r)===40)if(U1.has(p)){if(Js(e.charCodeAt(r+1)))throw new Error(`Pseudo-selector ${p} cannot be quoted`);if(m=[],r=Fd(m,e,r+1),e.charCodeAt(r)!==41)throw new Error(`Missing closing parenthesis in :${p} (${e})`);r+=1}else{if(m=n(),$1.has(p)){const b=m.charCodeAt(0);b===m.charCodeAt(m.length-1)&&Js(b)&&(m=m.slice(1,-1))}m=Pr(m)}a.push({type:J.Pseudo,name:p,data:m});break}case 44:{f(),a=[],u(1);break}default:{if(e.startsWith("/*",r)){const b=e.indexOf("*/",r+2);if(b<0)throw new Error("Comment was not terminated");r=b+2,a.length===0&&u(0);break}let p=null,m;if(h===42)r+=1,m="*";else if(h===124){if(m="",e.charCodeAt(r+1)===124){c(J.ColumnCombinator),u(2);break}}else if(ko.test(e.slice(r)))m=s(0);else break e;e.charCodeAt(r)===124&&e.charCodeAt(r+1)!==124&&(p=m,e.charCodeAt(r+1)===42?(m="*",r+=2):m=s(1)),a.push(m==="*"?{type:J.Universal,namespace:p}:{type:J.Tag,name:m,namespace:p})}}}return f(),r}const Ld=["\\",'"'],Rd=[...Ld,"(",")"],G1=new Set(Ld.map(t=>t.charCodeAt(0))),Po=new Set(Rd.map(t=>t.charCodeAt(0))),dr=new Set([...Rd,"~","^","$","*","+","!","|",":","[","]"," ","."].map(t=>t.charCodeAt(0)));function qd(t){return t.map(e=>e.map(W1).join("")).join(", ")}function W1(t,e,r){switch(t.type){case J.Child:return e===0?"> ":" > ";case J.Parent:return e===0?"< ":" < ";case J.Sibling:return e===0?"~ ":" ~ ";case J.Adjacent:return e===0?"+ ":" + ";case J.Descendant:return" ";case J.ColumnCombinator:return e===0?"|| ":" || ";case J.Universal:return t.namespace==="*"&&e+1<r.length&&"name"in r[e+1]?"":`${_d(t.namespace)}*`;case J.Tag:return Bo(t);case J.PseudoElement:return`::${ft(t.name,dr)}${t.data===null?"":`(${ft(t.data,Po)})`}`;case J.Pseudo:return`:${ft(t.name,dr)}${t.data===null?"":`(${typeof t.data=="string"?ft(t.data,Po):qd(t.data)})`}`;case J.Attribute:{if(t.name==="id"&&t.action===ne.Equals&&t.ignoreCase==="quirks"&&!t.namespace)return`#${ft(t.value,dr)}`;if(t.name==="class"&&t.action===ne.Element&&t.ignoreCase==="quirks"&&!t.namespace)return`.${ft(t.value,dr)}`;const a=Bo(t);return t.action===ne.Exists?`[${a}]`:`[${a}${K1(t.action)}="${ft(t.value,G1)}"${t.ignoreCase===null?"":t.ignoreCase?" i":" s"}]`}}}function K1(t){switch(t){case ne.Equals:return"";case ne.Element:return"~";case ne.Start:return"^";case ne.End:return"$";case ne.Any:return"*";case ne.Not:return"!";case ne.Hyphen:return"|";case ne.Exists:throw new Error("Shouldn't be here")}}function Bo(t){return`${_d(t.namespace)}${ft(t.name,dr)}`}function _d(t){return t!==null?`${t==="*"?"*":ft(t,dr)}|`:""}function ft(t,e){let r=0,a="";for(let s=0;s<t.length;s++)e.has(t.charCodeAt(s))&&(a+=`${t.slice(r,s)}\\${t.charAt(s)}`,r=s+1);return a.length>0?a+t.slice(r):t}const Y1=Object.freeze(Object.defineProperty({__proto__:null,get AttributeAction(){return ne},IgnoreCaseMode:I1,get SelectorType(){return J},isTraversal:Bd,parse:z1,stringify:qd},Symbol.toStringTag,{value:"Module"})),Ts=i0(Y1);var tr={},Fo;function Md(){if(Fo)return tr;Fo=1,Object.defineProperty(tr,"__esModule",{value:!0}),tr.isTraversal=void 0;var t=Ts,e=new Map([[t.SelectorType.Universal,50],[t.SelectorType.Tag,30],[t.SelectorType.Attribute,1],[t.SelectorType.Pseudo,0]]);function r(n){return!e.has(n.type)}tr.isTraversal=r;var a=new Map([[t.AttributeAction.Exists,10],[t.AttributeAction.Equals,8],[t.AttributeAction.Not,7],[t.AttributeAction.Start,6],[t.AttributeAction.End,6],[t.AttributeAction.Any,5]]);function s(n){for(var i=n.map(u),o=1;o<n.length;o++){var c=i[o];if(!(c<0))for(var d=o-1;d>=0&&c<i[d];d--){var f=n[d+1];n[d+1]=n[d],n[d]=f,i[d+1]=i[d],i[d]=c}}}tr.default=s;function u(n){var i,o,c=(i=e.get(n.type))!==null&&i!==void 0?i:-1;return n.type===t.SelectorType.Attribute?(c=(o=a.get(n.action))!==null&&o!==void 0?o:4,n.action===t.AttributeAction.Equals&&n.name==="id"&&(c=9),n.ignoreCase&&(c>>=1)):n.type===t.SelectorType.Pseudo&&(n.data?n.name==="has"||n.name==="contains"?c=0:Array.isArray(n.data)?(c=Math.min.apply(Math,n.data.map(function(d){return Math.min.apply(Math,d.map(u))})),c<0&&(c=0)):c=2:c=3),c}return tr}var Br={},Lt={},Lo;function X1(){if(Lo)return Lt;Lo=1;var t=Lt&&Lt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.attributeRules=void 0;var e=t(Sr()),r=/[-[\]{}()*+?.,\\^$|#\s]/g;function a(n){return n.replace(r,"\\$&")}var s=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function u(n,i){return typeof n.ignoreCase=="boolean"?n.ignoreCase:n.ignoreCase==="quirks"?!!i.quirksMode:!i.xmlMode&&s.has(n.name)}return Lt.attributeRules={equals:function(n,i,o){var c=o.adapter,d=i.name,f=i.value;return u(i,o)?(f=f.toLowerCase(),function(h){var p=c.getAttributeValue(h,d);return p!=null&&p.length===f.length&&p.toLowerCase()===f&&n(h)}):function(h){return c.getAttributeValue(h,d)===f&&n(h)}},hyphen:function(n,i,o){var c=o.adapter,d=i.name,f=i.value,h=f.length;return u(i,o)?(f=f.toLowerCase(),function(m){var b=c.getAttributeValue(m,d);return b!=null&&(b.length===h||b.charAt(h)==="-")&&b.substr(0,h).toLowerCase()===f&&n(m)}):function(m){var b=c.getAttributeValue(m,d);return b!=null&&(b.length===h||b.charAt(h)==="-")&&b.substr(0,h)===f&&n(m)}},element:function(n,i,o){var c=o.adapter,d=i.name,f=i.value;if(/\s/.test(f))return e.default.falseFunc;var h=new RegExp("(?:^|\\s)".concat(a(f),"(?:$|\\s)"),u(i,o)?"i":"");return function(m){var b=c.getAttributeValue(m,d);return b!=null&&b.length>=f.length&&h.test(b)&&n(m)}},exists:function(n,i,o){var c=i.name,d=o.adapter;return function(f){return d.hasAttrib(f,c)&&n(f)}},start:function(n,i,o){var c=o.adapter,d=i.name,f=i.value,h=f.length;return h===0?e.default.falseFunc:u(i,o)?(f=f.toLowerCase(),function(p){var m=c.getAttributeValue(p,d);return m!=null&&m.length>=h&&m.substr(0,h).toLowerCase()===f&&n(p)}):function(p){var m;return!!(!((m=c.getAttributeValue(p,d))===null||m===void 0)&&m.startsWith(f))&&n(p)}},end:function(n,i,o){var c=o.adapter,d=i.name,f=i.value,h=-f.length;return h===0?e.default.falseFunc:u(i,o)?(f=f.toLowerCase(),function(p){var m;return((m=c.getAttributeValue(p,d))===null||m===void 0?void 0:m.substr(h).toLowerCase())===f&&n(p)}):function(p){var m;return!!(!((m=c.getAttributeValue(p,d))===null||m===void 0)&&m.endsWith(f))&&n(p)}},any:function(n,i,o){var c=o.adapter,d=i.name,f=i.value;if(f==="")return e.default.falseFunc;if(u(i,o)){var h=new RegExp(a(f),"i");return function(m){var b=c.getAttributeValue(m,d);return b!=null&&b.length>=f.length&&h.test(b)&&n(m)}}return function(p){var m;return!!(!((m=c.getAttributeValue(p,d))===null||m===void 0)&&m.includes(f))&&n(p)}},not:function(n,i,o){var c=o.adapter,d=i.name,f=i.value;return f===""?function(h){return!!c.getAttributeValue(h,d)&&n(h)}:u(i,o)?(f=f.toLowerCase(),function(h){var p=c.getAttributeValue(h,d);return(p==null||p.length!==f.length||p.toLowerCase()!==f)&&n(h)}):function(h){return c.getAttributeValue(h,d)!==f&&n(h)}}},Lt}var Zs={},Fr={},Qs={},Lr={},Ro;function J1(){if(Ro)return Lr;Ro=1,Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.parse=void 0;var t=new Set([9,10,12,13,32]),e=48,r=57;function a(s){if(s=s.trim().toLowerCase(),s==="even")return[2,0];if(s==="odd")return[2,1];var u=0,n=0,i=c(),o=d();if(u<s.length&&s.charAt(u)==="n"&&(u++,n=i*(o??1),f(),u<s.length?(i=c(),f(),o=d()):i=o=0),o===null||u<s.length)throw new Error("n-th rule couldn't be parsed ('".concat(s,"')"));return[n,i*o];function c(){return s.charAt(u)==="-"?(u++,-1):(s.charAt(u)==="+"&&u++,1)}function d(){for(var h=u,p=0;u<s.length&&s.charCodeAt(u)>=e&&s.charCodeAt(u)<=r;)p=p*10+(s.charCodeAt(u)-e),u++;return u===h?null:p}function f(){for(;u<s.length&&t.has(s.charCodeAt(u));)u++}}return Lr.parse=a,Lr}var lt={},qo;function Z1(){if(qo)return lt;qo=1;var t=lt&&lt.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(lt,"__esModule",{value:!0}),lt.generate=lt.compile=void 0;var e=t(Sr());function r(s){var u=s[0],n=s[1]-1;if(n<0&&u<=0)return e.default.falseFunc;if(u===-1)return function(c){return c<=n};if(u===0)return function(c){return c===n};if(u===1)return n<0?e.default.trueFunc:function(c){return c>=n};var i=Math.abs(u),o=(n%i+i)%i;return u>1?function(c){return c>=n&&c%i===o}:function(c){return c<=n&&c%i===o}}lt.compile=r;function a(s){var u=s[0],n=s[1]-1,i=0;if(u<0){var o=-u,c=(n%o+o)%o;return function(){var d=c+o*i++;return d>n?null:d}}return u===0?n<0?function(){return null}:function(){return i++===0?n:null}:(n<0&&(n+=u*Math.ceil(-n/u)),function(){return u*i+++n})}return lt.generate=a,lt}var _o;function Q1(){return _o||(_o=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.sequence=t.generate=t.compile=t.parse=void 0;var e=J1();Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return e.parse}});var r=Z1();Object.defineProperty(t,"compile",{enumerable:!0,get:function(){return r.compile}}),Object.defineProperty(t,"generate",{enumerable:!0,get:function(){return r.generate}});function a(u){return(0,r.compile)((0,e.parse)(u))}t.default=a;function s(u){return(0,r.generate)((0,e.parse)(u))}t.sequence=s}(Qs)),Qs}var Mo;function eg(){return Mo||(Mo=1,function(t){var e=Fr&&Fr.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0}),t.filters=void 0;var r=e(Q1()),a=e(Sr());function s(n,i){return function(o){var c=i.getParent(o);return c!=null&&i.isTag(c)&&n(o)}}t.filters={contains:function(n,i,o){var c=o.adapter;return function(f){return n(f)&&c.getText(f).includes(i)}},icontains:function(n,i,o){var c=o.adapter,d=i.toLowerCase();return function(h){return n(h)&&c.getText(h).toLowerCase().includes(d)}},"nth-child":function(n,i,o){var c=o.adapter,d=o.equals,f=(0,r.default)(i);return f===a.default.falseFunc?a.default.falseFunc:f===a.default.trueFunc?s(n,c):function(p){for(var m=c.getSiblings(p),b=0,x=0;x<m.length&&!d(p,m[x]);x++)c.isTag(m[x])&&b++;return f(b)&&n(p)}},"nth-last-child":function(n,i,o){var c=o.adapter,d=o.equals,f=(0,r.default)(i);return f===a.default.falseFunc?a.default.falseFunc:f===a.default.trueFunc?s(n,c):function(p){for(var m=c.getSiblings(p),b=0,x=m.length-1;x>=0&&!d(p,m[x]);x--)c.isTag(m[x])&&b++;return f(b)&&n(p)}},"nth-of-type":function(n,i,o){var c=o.adapter,d=o.equals,f=(0,r.default)(i);return f===a.default.falseFunc?a.default.falseFunc:f===a.default.trueFunc?s(n,c):function(p){for(var m=c.getSiblings(p),b=0,x=0;x<m.length;x++){var E=m[x];if(d(p,E))break;c.isTag(E)&&c.getName(E)===c.getName(p)&&b++}return f(b)&&n(p)}},"nth-last-of-type":function(n,i,o){var c=o.adapter,d=o.equals,f=(0,r.default)(i);return f===a.default.falseFunc?a.default.falseFunc:f===a.default.trueFunc?s(n,c):function(p){for(var m=c.getSiblings(p),b=0,x=m.length-1;x>=0;x--){var E=m[x];if(d(p,E))break;c.isTag(E)&&c.getName(E)===c.getName(p)&&b++}return f(b)&&n(p)}},root:function(n,i,o){var c=o.adapter;return function(d){var f=c.getParent(d);return(f==null||!c.isTag(f))&&n(d)}},scope:function(n,i,o,c){var d=o.equals;return!c||c.length===0?t.filters.root(n,i,o):c.length===1?function(f){return d(c[0],f)&&n(f)}:function(f){return c.includes(f)&&n(f)}},hover:u("isHovered"),visited:u("isVisited"),active:u("isActive")};function u(n){return function(o,c,d){var f=d.adapter,h=f[n];return typeof h!="function"?a.default.falseFunc:function(m){return h(m)&&o(m)}}}}(Fr)),Fr}var Rt={},Io;function tg(){if(Io)return Rt;Io=1,Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.verifyPseudoArgs=Rt.pseudos=void 0,Rt.pseudos={empty:function(e,r){var a=r.adapter;return!a.getChildren(e).some(function(s){return a.isTag(s)||a.getText(s)!==""})},"first-child":function(e,r){var a=r.adapter,s=r.equals;if(a.prevElementSibling)return a.prevElementSibling(e)==null;var u=a.getSiblings(e).find(function(n){return a.isTag(n)});return u!=null&&s(e,u)},"last-child":function(e,r){for(var a=r.adapter,s=r.equals,u=a.getSiblings(e),n=u.length-1;n>=0;n--){if(s(e,u[n]))return!0;if(a.isTag(u[n]))break}return!1},"first-of-type":function(e,r){for(var a=r.adapter,s=r.equals,u=a.getSiblings(e),n=a.getName(e),i=0;i<u.length;i++){var o=u[i];if(s(e,o))return!0;if(a.isTag(o)&&a.getName(o)===n)break}return!1},"last-of-type":function(e,r){for(var a=r.adapter,s=r.equals,u=a.getSiblings(e),n=a.getName(e),i=u.length-1;i>=0;i--){var o=u[i];if(s(e,o))return!0;if(a.isTag(o)&&a.getName(o)===n)break}return!1},"only-of-type":function(e,r){var a=r.adapter,s=r.equals,u=a.getName(e);return a.getSiblings(e).every(function(n){return s(e,n)||!a.isTag(n)||a.getName(n)!==u})},"only-child":function(e,r){var a=r.adapter,s=r.equals;return a.getSiblings(e).every(function(u){return s(e,u)||!a.isTag(u)})}};function t(e,r,a,s){if(a===null){if(e.length>s)throw new Error("Pseudo-class :".concat(r," requires an argument"))}else if(e.length===s)throw new Error("Pseudo-class :".concat(r," doesn't have any arguments"))}return Rt.verifyPseudoArgs=t,Rt}var Rr={},Oo;function rg(){return Oo||(Oo=1,Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.aliases=void 0,Rr.aliases={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:`:is(
        :is(button, input, select, textarea, optgroup, option)[disabled],
        optgroup[disabled] > option,
        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)
    )`,enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"}),Rr}var qt={},Vo;function mu(){return Vo||(Vo=1,function(t){var e=qt&&qt.__spreadArray||function(c,d,f){if(f||arguments.length===2)for(var h=0,p=d.length,m;h<p;h++)(m||!(h in d))&&(m||(m=Array.prototype.slice.call(d,0,h)),m[h]=d[h]);return c.concat(m||Array.prototype.slice.call(d))},r=qt&&qt.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(t,"__esModule",{value:!0}),t.subselects=t.getNextSiblings=t.ensureIsTag=t.PLACEHOLDER_ELEMENT=void 0;var a=r(Sr()),s=Md();t.PLACEHOLDER_ELEMENT={};function u(c,d){return c===a.default.falseFunc?a.default.falseFunc:function(f){return d.isTag(f)&&c(f)}}t.ensureIsTag=u;function n(c,d){var f=d.getSiblings(c);if(f.length<=1)return[];var h=f.indexOf(c);return h<0||h===f.length-1?[]:f.slice(h+1).filter(d.isTag)}t.getNextSiblings=n;function i(c){return{xmlMode:!!c.xmlMode,lowerCaseAttributeNames:!!c.lowerCaseAttributeNames,lowerCaseTags:!!c.lowerCaseTags,quirksMode:!!c.quirksMode,cacheResults:!!c.cacheResults,pseudos:c.pseudos,adapter:c.adapter,equals:c.equals}}var o=function(c,d,f,h,p){var m=p(d,i(f),h);return m===a.default.trueFunc?c:m===a.default.falseFunc?a.default.falseFunc:function(b){return m(b)&&c(b)}};t.subselects={is:o,matches:o,where:o,not:function(c,d,f,h,p){var m=p(d,i(f),h);return m===a.default.falseFunc?c:m===a.default.trueFunc?a.default.falseFunc:function(b){return!m(b)&&c(b)}},has:function(c,d,f,h,p){var m=f.adapter,b=i(f);b.relativeSelector=!0;var x=d.some(function(v){return v.some(s.isTraversal)})?[t.PLACEHOLDER_ELEMENT]:void 0,E=p(d,b,x);if(E===a.default.falseFunc)return a.default.falseFunc;var A=u(E,m);if(x&&E!==a.default.trueFunc){var y=E.shouldTestNextSiblings,g=y===void 0?!1:y;return function(v){if(!c(v))return!1;x[0]=v;var D=m.getChildren(v),S=g?e(e([],D,!0),n(v,m),!0):D;return m.existsOne(A,S)}}return function(v){return c(v)&&m.existsOne(A,m.getChildren(v))}}}}(qt)),qt}var Uo;function Id(){return Uo||(Uo=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.compilePseudoSelector=t.aliases=t.pseudos=t.filters=void 0;var e=Ts,r=eg();Object.defineProperty(t,"filters",{enumerable:!0,get:function(){return r.filters}});var a=tg();Object.defineProperty(t,"pseudos",{enumerable:!0,get:function(){return a.pseudos}});var s=rg();Object.defineProperty(t,"aliases",{enumerable:!0,get:function(){return s.aliases}});var u=mu();function n(i,o,c,d,f){var h,p=o.name,m=o.data;if(Array.isArray(m)){if(!(p in u.subselects))throw new Error("Unknown pseudo-class :".concat(p,"(").concat(m,")"));return u.subselects[p](i,m,c,d,f)}var b=(h=c.pseudos)===null||h===void 0?void 0:h[p],x=typeof b=="string"?b:s.aliases[p];if(typeof x=="string"){if(m!=null)throw new Error("Pseudo ".concat(p," doesn't have any arguments"));var E=(0,e.parse)(x);return u.subselects.is(i,E,c,d,f)}if(typeof b=="function")return(0,a.verifyPseudoArgs)(b,p,m,1),function(y){return b(y,m)&&i(y)};if(p in r.filters)return r.filters[p](i,m,c,d);if(p in a.pseudos){var A=a.pseudos[p];return(0,a.verifyPseudoArgs)(A,p,m,2),function(y){return A(y,c,m)&&i(y)}}throw new Error("Unknown pseudo-class :".concat(p))}t.compilePseudoSelector=n}(Zs)),Zs}var $o;function ag(){if($o)return Br;$o=1,Object.defineProperty(Br,"__esModule",{value:!0}),Br.compileGeneralSelector=void 0;var t=X1(),e=Id(),r=Ts;function a(u,n){var i=n.getParent(u);return i&&n.isTag(i)?i:null}function s(u,n,i,o,c){var d=i.adapter,f=i.equals;switch(n.type){case r.SelectorType.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case r.SelectorType.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case r.SelectorType.Attribute:{if(n.namespace!=null)throw new Error("Namespaced attributes are not yet supported by css-select");return(!i.xmlMode||i.lowerCaseAttributeNames)&&(n.name=n.name.toLowerCase()),t.attributeRules[n.action](u,n,i)}case r.SelectorType.Pseudo:return(0,e.compilePseudoSelector)(u,n,i,o,c);case r.SelectorType.Tag:{if(n.namespace!=null)throw new Error("Namespaced tag names are not yet supported by css-select");var h=n.name;return(!i.xmlMode||i.lowerCaseTags)&&(h=h.toLowerCase()),function(b){return d.getName(b)===h&&u(b)}}case r.SelectorType.Descendant:{if(i.cacheResults===!1||typeof WeakSet>"u")return function(b){for(var x=b;x=a(x,d);)if(u(x))return!0;return!1};var p=new WeakSet;return function(b){for(var x=b;x=a(x,d);)if(!p.has(x)){if(d.isTag(x)&&u(x))return!0;p.add(x)}return!1}}case"_flexibleDescendant":return function(b){var x=b;do if(u(x))return!0;while(x=a(x,d));return!1};case r.SelectorType.Parent:return function(b){return d.getChildren(b).some(function(x){return d.isTag(x)&&u(x)})};case r.SelectorType.Child:return function(b){var x=d.getParent(b);return x!=null&&d.isTag(x)&&u(x)};case r.SelectorType.Sibling:return function(b){for(var x=d.getSiblings(b),E=0;E<x.length;E++){var A=x[E];if(f(b,A))break;if(d.isTag(A)&&u(A))return!0}return!1};case r.SelectorType.Adjacent:return d.prevElementSibling?function(b){var x=d.prevElementSibling(b);return x!=null&&u(x)}:function(b){for(var x=d.getSiblings(b),E,A=0;A<x.length;A++){var y=x[A];if(f(b,y))break;d.isTag(y)&&(E=y)}return!!E&&u(E)};case r.SelectorType.Universal:{if(n.namespace!=null&&n.namespace!=="*")throw new Error("Namespaced universal selectors are not yet supported by css-select");return u}}}return Br.compileGeneralSelector=s,Br}var Ho;function sg(){if(Ho)return ve;Ho=1;var t=ve&&ve.__createBinding||(Object.create?function(y,g,v,D){D===void 0&&(D=v);var S=Object.getOwnPropertyDescriptor(g,v);(!S||("get"in S?!g.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return g[v]}}),Object.defineProperty(y,D,S)}:function(y,g,v,D){D===void 0&&(D=v),y[D]=g[v]}),e=ve&&ve.__setModuleDefault||(Object.create?function(y,g){Object.defineProperty(y,"default",{enumerable:!0,value:g})}:function(y,g){y.default=g}),r=ve&&ve.__importStar||function(y){if(y&&y.__esModule)return y;var g={};if(y!=null)for(var v in y)v!=="default"&&Object.prototype.hasOwnProperty.call(y,v)&&t(g,y,v);return e(g,y),g},a=ve&&ve.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(ve,"__esModule",{value:!0}),ve.compileToken=ve.compileUnsafe=ve.compile=void 0;var s=Ts,u=a(Sr()),n=r(Md()),i=ag(),o=mu();function c(y,g,v){var D=d(y,g,v);return(0,o.ensureIsTag)(D,g.adapter)}ve.compile=c;function d(y,g,v){var D=typeof y=="string"?(0,s.parse)(y):y;return x(D,g,v)}ve.compileUnsafe=d;function f(y){return y.type===s.SelectorType.Pseudo&&(y.name==="scope"||Array.isArray(y.data)&&y.data.some(function(g){return g.some(f)}))}var h={type:s.SelectorType.Descendant},p={type:"_flexibleDescendant"},m={type:s.SelectorType.Pseudo,name:"scope",data:null};function b(y,g,v){for(var D=g.adapter,S=!!(v!=null&&v.every(function(N){var F=D.isTag(N)&&D.getParent(N);return N===o.PLACEHOLDER_ELEMENT||F&&D.isTag(F)})),k=0,q=y;k<q.length;k++){var O=q[k];if(!(O.length>0&&(0,n.isTraversal)(O[0])&&O[0].type!==s.SelectorType.Descendant))if(S&&!O.some(f))O.unshift(h);else continue;O.unshift(m)}}function x(y,g,v){var D;y.forEach(n.default),v=(D=g.context)!==null&&D!==void 0?D:v;var S=Array.isArray(v),k=v&&(Array.isArray(v)?v:[v]);if(g.relativeSelector!==!1)b(y,g,k);else if(y.some(function(N){return N.length>0&&(0,n.isTraversal)(N[0])}))throw new Error("Relative selectors are not allowed when the `relativeSelector` option is disabled");var q=!1,O=y.map(function(N){if(N.length>=2){var F=N[0],B=N[1];F.type!==s.SelectorType.Pseudo||F.name!=="scope"||(S&&B.type===s.SelectorType.Descendant?N[1]=p:(B.type===s.SelectorType.Adjacent||B.type===s.SelectorType.Sibling)&&(q=!0))}return E(N,g,k)}).reduce(A,u.default.falseFunc);return O.shouldTestNextSiblings=q,O}ve.compileToken=x;function E(y,g,v){var D;return y.reduce(function(S,k){return S===u.default.falseFunc?u.default.falseFunc:(0,i.compileGeneralSelector)(S,k,g,v,x)},(D=g.rootFunc)!==null&&D!==void 0?D:u.default.trueFunc)}function A(y,g){return g===u.default.falseFunc||y===u.default.trueFunc?y:y===u.default.falseFunc||g===u.default.trueFunc?g:function(D){return y(D)||g(D)}}return ve}var zo;function ng(){return zo||(zo=1,function(t){var e=Ge&&Ge.__createBinding||(Object.create?function(A,y,g,v){v===void 0&&(v=g);var D=Object.getOwnPropertyDescriptor(y,g);(!D||("get"in D?!y.__esModule:D.writable||D.configurable))&&(D={enumerable:!0,get:function(){return y[g]}}),Object.defineProperty(A,v,D)}:function(A,y,g,v){v===void 0&&(v=g),A[v]=y[g]}),r=Ge&&Ge.__setModuleDefault||(Object.create?function(A,y){Object.defineProperty(A,"default",{enumerable:!0,value:y})}:function(A,y){A.default=y}),a=Ge&&Ge.__importStar||function(A){if(A&&A.__esModule)return A;var y={};if(A!=null)for(var g in A)g!=="default"&&Object.prototype.hasOwnProperty.call(A,g)&&e(y,A,g);return r(y,A),y},s=Ge&&Ge.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(t,"__esModule",{value:!0}),t.aliases=t.pseudos=t.filters=t.is=t.selectOne=t.selectAll=t.prepareContext=t._compileToken=t._compileUnsafe=t.compile=void 0;var u=a(M1()),n=s(Sr()),i=sg(),o=mu(),c=function(A,y){return A===y},d={adapter:u,equals:c};function f(A){var y,g,v,D,S=A??d;return(y=S.adapter)!==null&&y!==void 0||(S.adapter=u),(g=S.equals)!==null&&g!==void 0||(S.equals=(D=(v=S.adapter)===null||v===void 0?void 0:v.equals)!==null&&D!==void 0?D:c),S}function h(A){return function(g,v,D){var S=f(v);return A(g,S,D)}}t.compile=h(i.compile),t._compileUnsafe=h(i.compileUnsafe),t._compileToken=h(i.compileToken);function p(A){return function(g,v,D){var S=f(D);typeof g!="function"&&(g=(0,i.compileUnsafe)(g,S,v));var k=m(v,S.adapter,g.shouldTestNextSiblings);return A(g,k,S)}}function m(A,y,g){return g===void 0&&(g=!1),g&&(A=b(A,y)),Array.isArray(A)?y.removeSubsets(A):y.getChildren(A)}t.prepareContext=m;function b(A,y){for(var g=Array.isArray(A)?A.slice(0):[A],v=g.length,D=0;D<v;D++){var S=(0,o.getNextSiblings)(g[D],y);g.push.apply(g,S)}return g}t.selectAll=p(function(A,y,g){return A===n.default.falseFunc||!y||y.length===0?[]:g.adapter.findAll(A,y)}),t.selectOne=p(function(A,y,g){return A===n.default.falseFunc||!y||y.length===0?null:g.adapter.findOne(A,y)});function x(A,y,g){var v=f(g);return(typeof y=="function"?y:(0,i.compile)(y,v))(A)}t.is=x,t.default=t.selectAll;var E=Id();Object.defineProperty(t,"filters",{enumerable:!0,get:function(){return E.filters}}),Object.defineProperty(t,"pseudos",{enumerable:!0,get:function(){return E.pseudos}}),Object.defineProperty(t,"aliases",{enumerable:!0,get:function(){return E.aliases}})}(Ge)),Ge}var _a={},Go;function ug(){if(Go)return _a;Go=1,Object.defineProperty(_a,"__esModule",{value:!0});function t(e){return e[e.length-1]}return _a.default=t,_a}var rr={},Wo;function ig(){if(Wo)return rr;Wo=1;var t=rr&&rr.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(rr,"__esModule",{value:!0});const e=t(da());function r(m){return m&&m.nodeType===e.default.ELEMENT_NODE}function a(m,b){return r(m)?m.getAttribute(b):void 0}function s(m){return(m&&m.rawTagName||"").toLowerCase()}function u(m){return m&&m.childNodes}function n(m){return m?m.parentNode:null}function i(m){return m.text}function o(m){let b=m.length,x,E,A;for(;--b>-1;){for(x=E=m[b],m[b]=null,A=!0;E;){if(m.indexOf(E)>-1){A=!1,m.splice(b,1);break}E=n(E)}A&&(m[b]=x)}return m}function c(m,b){return b.some(x=>r(x)?m(x)||c(m,u(x)):!1)}function d(m){const b=n(m);return b?u(b):[]}function f(m,b){return a(m,b)!==void 0}function h(m,b){let x=null;for(let E=0,A=b==null?void 0:b.length;E<A&&!x;E++){const y=b[E];if(m(y))x=y;else{const g=u(y);g&&g.length>0&&(x=h(m,g))}}return x}function p(m,b){let x=[];for(let E=0,A=b.length;E<A;E++){if(!r(b[E]))continue;m(b[E])&&x.push(b[E]);const y=u(b[E]);y&&(x=x.concat(p(m,y)))}return x}return rr.default={isTag:r,getAttributeValue:a,getName:s,getChildren:u,getParent:n,getText:i,removeSubsets:o,existsOne:c,getSiblings:d,hasAttrib:f,findOne:h,findAll:p},rr}var Ma={},Ko;function og(){if(Ko)return Ma;Ko=1,Object.defineProperty(Ma,"__esModule",{value:!0});class t{constructor(r=!1,a){this.addClosingSlash=r,Array.isArray(a)?this.voidTags=a.reduce((s,u)=>s.add(u.toLowerCase()).add(u.toUpperCase()).add(u),new Set):this.voidTags=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"].reduce((s,u)=>s.add(u.toLowerCase()).add(u.toUpperCase()).add(u),new Set)}formatNode(r,a,s){const u=this.addClosingSlash,n=u&&a&&!a.endsWith(" ")?" ":"",i=u?`${n}/`:"";return this.isVoidElement(r.toLowerCase())?`<${r}${a}${i}>`:`<${r}${a}>${s}</${r}>`}isVoidElement(r){return this.voidTags.has(r)}}return Ma.default=t,Ma}var ar={},Yo;function Od(){if(Yo)return ar;Yo=1;var t=ar&&ar.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ar,"__esModule",{value:!0});const e=pu(),r=t(Ss()),a=t(da());class s extends r.default{clone(){return new s(this._rawText,null)}constructor(i,o=null,c){super(o,c),this.nodeType=a.default.TEXT_NODE,this.rawTagName="",this._rawText=i}get rawText(){return this._rawText}set rawText(i){this._rawText=i,this._trimmedRawText=void 0,this._trimmedText=void 0}get trimmedRawText(){return this._trimmedRawText!==void 0?this._trimmedRawText:(this._trimmedRawText=u(this.rawText),this._trimmedRawText)}get trimmedText(){return this._trimmedText!==void 0?this._trimmedText:(this._trimmedText=u(this.text),this._trimmedText)}get text(){return(0,e.decode)(this.rawText)}get isWhitespace(){return/^(\s|&nbsp;)*$/.test(this.rawText)}toString(){return this.rawText}}ar.default=s;function u(n){let i=0,o,c;for(;i>=0&&i<n.length;)/\S/.test(n[i])&&(o===void 0?(o=i,i=n.length):(c=i,i=void 0)),o===void 0?i++:i--;o===void 0&&(o=0),c===void 0&&(c=n.length-1);const d=o>0&&/[^\S\r\n]/.test(n[o-1]),f=c<n.length-1&&/[^\S\r\n]/.test(n[c+1]);return(d?" ":"")+n.slice(o,c+1)+(f?" ":"")}return ar}var Xo;function gu(){if(Xo)return Je;Xo=1;var t=Je&&Je.__importDefault||function(B){return B&&B.__esModule?B:{default:B}};Object.defineProperty(Je,"__esModule",{value:!0}),Je.parse=Je.base_parse=void 0;const e=ng(),r=t(pu()),a=t(ug()),s=t(ig()),u=t(og()),n=t(jd()),i=t(Ss()),o=t(Od()),c=t(da());function d(B){return JSON.parse(JSON.stringify(r.default.decode(B)))}const f=["h1","h2","h3","h4","h5","h6","header","hgroup"],h=["details","dialog","dd","div","dt"],p=["fieldset","figcaption","figure","footer","form"],m=["table","td","tr"],b=["address","article","aside","blockquote","br","hr","li","main","nav","ol","p","pre","section","ul"],x=new Set;function E(...B){const w=j=>{for(let P=0;P<j.length;P++){const T=j[P];x.add(T),x.add(T.toUpperCase())}};for(const j of B)w(j)}E(f,h,p,m,b);class A{_validate(w){if(/\s/.test(w))throw new Error(`DOMException in DOMTokenList.add: The token '${w}' contains HTML space characters, which are not valid in tokens.`)}constructor(w=[],j=()=>null){this._set=new Set(w),this._afterUpdate=j}add(w){this._validate(w),this._set.add(w),this._afterUpdate(this)}replace(w,j){this._validate(j),this._set.delete(w),this._set.add(j),this._afterUpdate(this)}remove(w){this._set.delete(w)&&this._afterUpdate(this)}toggle(w){this._validate(w),this._set.has(w)?this._set.delete(w):this._set.add(w),this._afterUpdate(this)}contains(w){return this._set.has(w)}get length(){return this._set.size}values(){return this._set.values()}get value(){return Array.from(this._set.values())}toString(){return Array.from(this._set.values()).join(" ")}}class y extends i.default{quoteAttribute(w){return w==null?"null":JSON.stringify(w.replace(/"/g,"&quot;")).replace(/\\t/g,"	").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\/g,"")}constructor(w,j,P="",T=null,R,L=new u.default,M={}){if(super(T,R),this.rawAttrs=P,this.voidTag=L,this.nodeType=c.default.ELEMENT_NODE,this.rawTagName=w,this.rawAttrs=P||"",this.id=j.id||"",this.childNodes=[],this._parseOptions=M,this.classList=new A(j.class?j.class.split(/\s+/):[],_=>this.setAttribute("class",_.toString())),j.id&&(P||(this.rawAttrs=`id="${j.id}"`)),j.class&&!P){const _=`class="${this.classList.toString()}"`;this.rawAttrs?this.rawAttrs+=` ${_}`:this.rawAttrs=_}}removeChild(w){return this.childNodes=this.childNodes.filter(j=>j!==w),this}exchangeChild(w,j){const P=this.childNodes;return this.childNodes=P.map(T=>T===w?j:T),this}get tagName(){return this.rawTagName?this.rawTagName.toUpperCase():this.rawTagName}set tagName(w){this.rawTagName=w.toLowerCase()}get localName(){return this.rawTagName.toLowerCase()}get isVoidElement(){return this.voidTag.isVoidElement(this.localName)}get rawText(){return/^br$/i.test(this.rawTagName)?`
`:this.childNodes.reduce((w,j)=>w+=j.rawText,"")}get textContent(){return d(this.rawText)}set textContent(w){const j=[new o.default(w,this)];this.childNodes=j}get text(){return d(this.rawText)}get structuredText(){let w=[];const j=[w];function P(T){if(T.nodeType===c.default.ELEMENT_NODE)x.has(T.rawTagName)?(w.length>0&&j.push(w=[]),T.childNodes.forEach(P),w.length>0&&j.push(w=[])):T.childNodes.forEach(P);else if(T.nodeType===c.default.TEXT_NODE)if(T.isWhitespace)w.prependWhitespace=!0;else{let R=T.trimmedText;w.prependWhitespace&&(R=` ${R}`,w.prependWhitespace=!1),w.push(R)}}return P(this),j.map(T=>T.join("").replace(/\s{2,}/g," ")).join(`
`).replace(/\s+$/,"")}toString(){const w=this.rawTagName;if(w){const j=this.rawAttrs?` ${this.rawAttrs}`:"";return this.voidTag.formatNode(w,j,this.innerHTML)}return this.innerHTML}get innerHTML(){return this.childNodes.map(w=>w.toString()).join("")}set innerHTML(w){const j=O(w,this._parseOptions),P=j.childNodes.length?j.childNodes:[new o.default(w,this)];F(P,this),F(this.childNodes,null),this.childNodes=P}set_content(w,j={}){if(w instanceof i.default)w=[w];else if(typeof w=="string"){j=Object.assign(Object.assign({},this._parseOptions),j);const P=O(w,j);w=P.childNodes.length?P.childNodes:[new o.default(P.innerHTML,this)]}return F(this.childNodes,null),F(w,this),this.childNodes=w,this}replaceWith(...w){const j=this.parentNode,P=w.map(R=>{if(R instanceof i.default)return[R];if(typeof R=="string"){const L=O(R,this._parseOptions);return L.childNodes.length?L.childNodes:[new o.default(R,this)]}return[]}).flat(),T=j.childNodes.findIndex(R=>R===this);return F([this],null),j.childNodes=[...j.childNodes.slice(0,T),...F(P,j),...j.childNodes.slice(T+1)],this}get outerHTML(){return this.toString()}trimRight(w){for(let j=0;j<this.childNodes.length;j++){const P=this.childNodes[j];if(P.nodeType===c.default.ELEMENT_NODE)P.trimRight(w);else{const T=P.rawText.search(w);T>-1&&(P.rawText=P.rawText.substr(0,T),this.childNodes.length=j+1)}}return this}get structure(){const w=[];let j=0;function P(R){w.push("  ".repeat(j)+R)}function T(R){const L=R.id?`#${R.id}`:"",M=R.classList.length?`.${R.classList.value.join(".")}`:"";P(`${R.rawTagName}${L}${M}`),j++,R.childNodes.forEach(_=>{_.nodeType===c.default.ELEMENT_NODE?T(_):_.nodeType===c.default.TEXT_NODE&&(_.isWhitespace||P("#text"))}),j--}return T(this),w.join(`
`)}removeWhitespace(){let w=0;this.childNodes.forEach(P=>{if(P.nodeType===c.default.TEXT_NODE){if(P.isWhitespace)return;P.rawText=P.trimmedRawText}else P.nodeType===c.default.ELEMENT_NODE&&P.removeWhitespace();this.childNodes[w++]=P}),this.childNodes.length=w;const j=Object.keys(this.rawAttributes).map(P=>{const T=this.rawAttributes[P];return`${P}=${JSON.stringify(T)}`}).join(" ");return this.rawAttrs=j,delete this._rawAttrs,this}querySelectorAll(w){return(0,e.selectAll)(w,this,{xmlMode:!0,adapter:s.default})}querySelector(w){return(0,e.selectOne)(w,this,{xmlMode:!0,adapter:s.default})}getElementsByTagName(w){const j=w.toUpperCase(),P=[],T=[];let R=this,L=0;for(;L!==void 0;){let M;do M=R.childNodes[L++];while(L<R.childNodes.length&&M===void 0);if(M===void 0){R=R.parentNode,L=T.pop();continue}M.nodeType===c.default.ELEMENT_NODE&&((w==="*"||M.tagName===j)&&P.push(M),M.childNodes.length>0&&(T.push(L),R=M,L=0))}return P}getElementById(w){const j=[];let P=this,T=0;for(;T!==void 0;){let R;do R=P.childNodes[T++];while(T<P.childNodes.length&&R===void 0);if(R===void 0){P=P.parentNode,T=j.pop();continue}if(R.nodeType===c.default.ELEMENT_NODE){if(R.id===w)return R;R.childNodes.length>0&&(j.push(T),P=R,T=0)}}return null}closest(w){const j=new Map;let P=this,T=null;function R(L,M){let _=null;for(let $=0,ee=M.length;$<ee&&!_;$++){const X=M[$];if(L(X))_=X;else{const be=j.get(X);be&&(_=R(L,[be]))}}return _}for(;P;)j.set(P,T),T=P,P=P.parentNode;for(P=this;P;){const L=(0,e.selectOne)(w,P,{xmlMode:!0,adapter:Object.assign(Object.assign({},s.default),{getChildren(M){const _=j.get(M);return _&&[_]},getSiblings(M){return[M]},findOne:R,findAll(){return[]}})});if(L)return L;P=P.parentNode}return null}appendChild(w){return this.append(w),w}get attrs(){if(this._attrs)return this._attrs;this._attrs={};const w=this.rawAttributes;for(const j in w){const P=w[j]||"";this._attrs[j.toLowerCase()]=d(P)}return this._attrs}get attributes(){const w={},j=this.rawAttributes;for(const P in j){const T=j[P]||"";w[P]=d(T)}return w}get rawAttributes(){if(this._rawAttrs)return this._rawAttrs;const w={};if(this.rawAttrs){const j=/([a-zA-Z()[\]#@$.?:][a-zA-Z0-9-._:()[\]#]*)(?:\s*=\s*((?:'[^']*')|(?:"[^"]*")|\S+))?/g;let P;for(;P=j.exec(this.rawAttrs);){const T=P[1];let R=P[2]||null;R&&(R[0]==="'"||R[0]==='"')&&(R=R.slice(1,R.length-1)),w[T]=w[T]||R}}return this._rawAttrs=w,w}removeAttribute(w){const j=this.rawAttributes;return delete j[w],this._attrs&&delete this._attrs[w],this.rawAttrs=Object.keys(j).map(P=>{const T=this.quoteAttribute(j[P]);return T==="null"||T==='""'?P:`${P}=${T}`}).join(" "),w==="id"&&(this.id=""),this}hasAttribute(w){return w.toLowerCase()in this.attrs}getAttribute(w){return this.attrs[w.toLowerCase()]}setAttribute(w,j){if(arguments.length<2)throw new Error("Failed to execute 'setAttribute' on 'Element'");const P=w.toLowerCase(),T=this.rawAttributes;for(const R in T)if(R.toLowerCase()===P){w=R;break}return T[w]=String(j),this._attrs&&(this._attrs[P]=d(T[w])),this.rawAttrs=Object.keys(T).map(R=>{const L=this.quoteAttribute(T[R]);return L==="null"||L==='""'?R:`${R}=${L}`}).join(" "),w==="id"&&(this.id=j),this}setAttributes(w){return this._attrs&&delete this._attrs,this._rawAttrs&&delete this._rawAttrs,this.rawAttrs=Object.keys(w).map(j=>{const P=w[j];return P==="null"||P==='""'?j:`${j}=${this.quoteAttribute(String(P))}`}).join(" "),this}insertAdjacentHTML(w,j){if(arguments.length<2)throw new Error("2 arguments required");const P=O(j,this._parseOptions);if(w==="afterend")this.after(...P.childNodes);else if(w==="afterbegin")this.prepend(...P.childNodes);else if(w==="beforeend")this.append(...P.childNodes);else if(w==="beforebegin")this.before(...P.childNodes);else throw new Error(`The value provided ('${w}') is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'`);return this}prepend(...w){const j=N(w);F(j,this),this.childNodes.unshift(...j)}append(...w){const j=N(w);F(j,this),this.childNodes.push(...j)}before(...w){const j=N(w),P=this.parentNode.childNodes;F(j,this.parentNode),P.splice(P.indexOf(this),0,...j)}after(...w){const j=N(w),P=this.parentNode.childNodes;F(j,this.parentNode),P.splice(P.indexOf(this)+1,0,...j)}get nextSibling(){if(this.parentNode){const w=this.parentNode.childNodes;let j=0;for(;j<w.length;){const P=w[j++];if(this===P)return w[j]||null}return null}}get nextElementSibling(){if(this.parentNode){const w=this.parentNode.childNodes;let j=0,P=!1;for(;j<w.length;){const T=w[j++];if(P){if(T instanceof y)return T||null}else this===T&&(P=!0)}return null}}get previousSibling(){if(this.parentNode){const w=this.parentNode.childNodes;let j=w.length;for(;j>0;){const P=w[--j];if(this===P)return w[j-1]||null}return null}}get previousElementSibling(){if(this.parentNode){const w=this.parentNode.childNodes;let j=w.length,P=!1;for(;j>0;){const T=w[--j];if(P){if(T instanceof y)return T||null}else this===T&&(P=!0)}return null}}get children(){const w=[];for(const j of this.childNodes)j instanceof y&&w.push(j);return w}get firstChild(){return this.childNodes[0]}get firstElementChild(){return this.children[0]}get lastChild(){return(0,a.default)(this.childNodes)}get lastElementChild(){return this.children[this.children.length-1]}get childElementCount(){return this.children.length}get classNames(){return this.classList.toString()}clone(){return O(this.toString(),this._parseOptions).firstChild}}Je.default=y;const g=/<!--[\s\S]*?-->|<(\/?)([a-zA-Z][-.:0-9_a-zA-Z@\xB7\xC0-\xD6\xD8-\xF6\u00F8-\u03A1\u03A3-\u03D9\u03DB-\u03EF\u03F7-\u03FF\u0400-\u04FF\u0500-\u052F\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E00-\u1E9B\u1F00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2126\u212A-\u212B\u2132\u214E\u2160-\u2188\u2C60-\u2C7F\uA722-\uA787\uA78B-\uA78E\uA790-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA7FF\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64-\uAB65\uFB00-\uFB06\uFB13-\uFB17\uFF21-\uFF3A\uFF41-\uFF5A\x37F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]*)((?:\s+[^>]*?(?:(?:'[^']*')|(?:"[^"]*"))?)*)\s*(\/?)>/gu,v=/(?:^|\s)(id|class)\s*=\s*((?:'[^']*')|(?:"[^"]*")|\S+)/gi,D={li:{li:!0,LI:!0},LI:{li:!0,LI:!0},p:{p:!0,div:!0,P:!0,DIV:!0},P:{p:!0,div:!0,P:!0,DIV:!0},b:{div:!0,DIV:!0},B:{div:!0,DIV:!0},td:{td:!0,th:!0,TD:!0,TH:!0},TD:{td:!0,th:!0,TD:!0,TH:!0},th:{td:!0,th:!0,TD:!0,TH:!0},TH:{td:!0,th:!0,TD:!0,TH:!0},h1:{h1:!0,H1:!0},H1:{h1:!0,H1:!0},h2:{h2:!0,H2:!0},H2:{h2:!0,H2:!0},h3:{h3:!0,H3:!0},H3:{h3:!0,H3:!0},h4:{h4:!0,H4:!0},H4:{h4:!0,H4:!0},h5:{h5:!0,H5:!0},H5:{h5:!0,H5:!0},h6:{h6:!0,H6:!0},H6:{h6:!0,H6:!0}},S={li:{ul:!0,ol:!0,UL:!0,OL:!0},LI:{ul:!0,ol:!0,UL:!0,OL:!0},a:{div:!0,DIV:!0},A:{div:!0,DIV:!0},b:{div:!0,DIV:!0},B:{div:!0,DIV:!0},i:{div:!0,DIV:!0},I:{div:!0,DIV:!0},p:{div:!0,DIV:!0},P:{div:!0,DIV:!0},td:{tr:!0,table:!0,TR:!0,TABLE:!0},TD:{tr:!0,table:!0,TR:!0,TABLE:!0},th:{tr:!0,table:!0,TR:!0,TABLE:!0},TH:{tr:!0,table:!0,TR:!0,TABLE:!0}},k="documentfragmentcontainer";function q(B,w={}){var j,P;const T=new u.default((j=w==null?void 0:w.voidTag)===null||j===void 0?void 0:j.closingSlash,(P=w==null?void 0:w.voidTag)===null||P===void 0?void 0:P.tags),R=w.blockTextElements||{script:!0,noscript:!0,style:!0,pre:!0},L=Object.keys(R),M=L.map(ge=>new RegExp(`^${ge}$`,"i")),_=L.filter(ge=>!!R[ge]).map(ge=>new RegExp(`^${ge}$`,"i"));function $(ge){return _.some(Be=>Be.test(ge))}function ee(ge){return M.some(Be=>Be.test(ge))}const X=(ge,Be)=>[ge-Er,Be-Er],be=new y(null,{},"",null,[0,B.length],T,w);let K=be;const Y=[be];let oe=-1,ce,Pe;B=`<${k}>${B}</${k}>`;const{lowerCaseTagName:de,fixNestedATags:De}=w,ha=B.length-(k.length+2),Er=k.length+2;for(;Pe=g.exec(B);){let{0:ge,1:Be,2:Ee,3:bu,4:yu}=Pe;const js=ge.length,pa=g.lastIndex-js,ma=g.lastIndex;if(oe>-1&&oe+js<ma){const st=B.substring(oe,pa);K.appendChild(new o.default(st,K,X(oe,pa)))}if(oe=g.lastIndex,Ee!==k){if(ge[1]==="!"){if(w.comment){const st=B.substring(pa+4,ma-3);K.appendChild(new n.default(st,K,X(pa,ma)))}continue}if(de&&(Ee=Ee.toLowerCase()),!Be){const st={};for(let Jt;Jt=v.exec(bu);){const{1:Zt,2:yt}=Jt,Tr=yt[0]==="'"||yt[0]==='"';st[Zt.toLowerCase()]=Tr?yt.slice(1,yt.length-1):yt}const vu=K.rawTagName;!yu&&D[vu]&&D[vu][Ee]&&(Y.pop(),K=(0,a.default)(Y)),De&&(Ee==="a"||Ee==="A")&&(ce!==void 0&&(Y.splice(ce),K=(0,a.default)(Y)),ce=Y.length);const ga=g.lastIndex,Gd=ga-js;if(K=K.appendChild(new y(Ee,st,bu.slice(1),null,X(Gd,ga),T,w)),Y.push(K),ee(Ee)){const Jt=`</${Ee}>`,Zt=de?B.toLocaleLowerCase().indexOf(Jt,g.lastIndex):B.indexOf(Jt,g.lastIndex),yt=Zt===-1?ha:Zt;if($(Ee)){const Tr=B.substring(ga,yt);Tr.length>0&&/\S/.test(Tr)&&K.appendChild(new o.default(Tr,K,X(ga,yt)))}Zt===-1?oe=g.lastIndex=B.length+1:(oe=g.lastIndex=Zt+Jt.length,Be="/")}}if(Be||yu||T.isVoidElement(Ee))for(;;)if(ce!=null&&(Ee==="a"||Ee==="A")&&(ce=void 0),K.rawTagName===Ee){K.range[1]=X(-1,Math.max(oe,ma))[1],Y.pop(),K=(0,a.default)(Y);break}else{const st=K.tagName;if(S[st]&&S[st][Ee]){Y.pop(),K=(0,a.default)(Y);continue}break}}}return Y}Je.base_parse=q;function O(B,w={}){const j=q(B,w),[P]=j;for(;j.length>1;){const T=j.pop(),R=(0,a.default)(j);T.parentNode&&T.parentNode.parentNode&&(T.parentNode===R&&T.tagName===R.tagName?w.parseNoneClosedTags!==!0&&(R.removeChild(T),T.childNodes.forEach(L=>{R.parentNode.appendChild(L)}),j.pop()):w.parseNoneClosedTags!==!0&&(R.removeChild(T),T.childNodes.forEach(L=>{R.appendChild(L)})))}return P}Je.parse=O;function N(B){return B.map(w=>typeof w=="string"?new o.default(w):(w.remove(),w))}function F(B,w){return B.map(j=>(j.parentNode=w,j))}return Je}var en={},Jo;function cg(){return Jo||(Jo=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=gu();Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.parse}})}(en)),en}var Ia={},Zo;function lg(){if(Zo)return Ia;Zo=1,Object.defineProperty(Ia,"__esModule",{value:!0});const t=gu();function e(r,a={}){return(0,t.base_parse)(r,a).length===1}return Ia.default=e,Ia}var Qo;function dg(){if(Qo)return fe;Qo=1;var t=fe&&fe.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(fe,"__esModule",{value:!0}),fe.NodeType=fe.TextNode=fe.Node=fe.valid=fe.CommentNode=fe.HTMLElement=fe.parse=void 0;const e=t(jd());fe.CommentNode=e.default;const r=t(gu());fe.HTMLElement=r.default;const a=t(Ss());fe.Node=a.default;const s=t(Od());fe.TextNode=s.default;const u=t(da());fe.NodeType=u.default;const n=t(cg()),i=t(lg());fe.valid=i.default;function o(c,d={}){return(0,n.default)(c,d)}return fe.default=o,fe.parse=o,o.parse=n.default,o.HTMLElement=r.default,o.CommentNode=e.default,o.valid=i.default,o.Node=a.default,o.TextNode=s.default,o.NodeType=u.default,fe}var ec=dg();class fg{constructor(){this.proxyService=Sd,this.fingerprintService=Ed,this.behaviorService=Td,this.knownStructures={dramaStreaming:[{name:"VoirDrama",domain:"voirdrama.org",selectors:{popularItems:".movies-list .movie-item",itemTitle:".movie-item .movie-title h2 a",itemPoster:".movie-item .movie-poster img",itemLink:".movie-item .movie-title h2 a",itemMeta:".movie-item .movie-details",pagination:".pagination"}},{name:"DramaCool",domain:"dramacool.com",selectors:{popularItems:".list-episode-item",itemTitle:".title a",itemPoster:".img img",itemLink:".title a",itemMeta:".meta",pagination:".pagination"}}],generic:{contentGrids:[".grid",".list",".items",".row",".container",'[class*="grid"]','[class*="list"]','[class*="items"]','[class*="row"]','[class*="container"]'],contentItems:[".item",".card",".box",".post",".article",".movie",".drama",'[class*="item"]','[class*="card"]','[class*="box"]','[class*="post"]','[class*="article"]','[class*="movie"]','[class*="drama"]'],titles:["h1","h2","h3",".title",".name",".heading",'[class*="title"]','[class*="name"]','[class*="heading"]'],images:["img",".image",".poster",".thumbnail",".cover",'[class*="image"]','[class*="poster"]','[class*="thumbnail"]','[class*="cover"]'],links:["a",".link",".url",".more",'[class*="link"]','[class*="url"]','[class*="more"]'],metadata:[".meta",".info",".details",".description",".summary",'[class*="meta"]','[class*="info"]','[class*="details"]','[class*="description"]','[class*="summary"]'],pagination:[".pagination",".pager",".pages",".nav",".navigation",'[class*="pagination"]','[class*="pager"]','[class*="pages"]','[class*="nav"]','[class*="navigation"]']}},this.selectorStats=new Map,this.detectedStructures=new Map}detectPageStructure(e,r){const a=this.extractDomain(r);if(this.detectedStructures.has(a))return this.detectedStructures.get(a);const s=this.findKnownStructure(a);if(s)return this.detectedStructures.set(a,s),s;const u=ec.parse(e),n=this.detectContentGrids(u),i=this.detectContentItems(u,n),o={domain:a,selectors:{popularItems:this.findBestSelector(i),itemTitle:this.detectTitleSelector(i),itemPoster:this.detectImageSelector(i),itemLink:this.detectLinkSelector(i),itemMeta:this.detectMetaSelector(i),pagination:this.detectPaginationSelector(u)}};return this.detectedStructures.set(a,o),o}extractDomain(e){try{return new URL(e).hostname}catch{const a=e.match(/^(?:https?:\/\/)?(?:[^@\n]+@)?(?:www\.)?([^:\n]+?)(?:\/|$)/i);return a?a[1]:""}}findKnownStructure(e){for(const r of this.knownStructures.dramaStreaming)if(e.includes(r.domain))return r;return null}detectContentGrids(e){const r=[];for(const a of this.knownStructures.generic.contentGrids){const s=e.querySelectorAll(a);if(s&&s.length>0)for(const u of s)this.hasContentChildren(u)&&r.push(u)}if(r.length===0){const a=e.querySelectorAll("ul, ol, div > div");for(const s of a)s.childNodes.length>=3&&this.hasContentChildren(s)&&r.push(s)}return r}hasContentChildren(e){if(!e.childNodes||e.childNodes.length===0)return!1;const r=e.querySelectorAll("img").length>0,a=e.querySelectorAll("a").length>0,s=new Set;let u=0;for(const n of e.childNodes)n.classList&&n.classList.value&&s.add(n.classList.value);return s.size===1&&e.childNodes.length>=3&&(u=e.childNodes.length),(r||a)&&u>=3}detectContentItems(e,r){const a=[];for(const s of r){for(const u of this.knownStructures.generic.contentItems){const n=s.querySelectorAll(u);n&&n.length>0&&a.push(...n)}if(a.length===0){const u=s.childNodes;for(const n of u)n.tagName&&this.looksLikeContentItem(n)&&a.push(n)}}if(a.length===0)for(const s of this.knownStructures.generic.contentItems){const u=e.querySelectorAll(s);u&&u.length>0&&a.push(...u)}return a}looksLikeContentItem(e){const r=e.querySelector("img")!==null,a=e.querySelector("a")!==null,s=e.querySelector('h1, h2, h3, h4, .title, [class*="title"]')!==null,u=e.getAttribute("style")&&(e.getAttribute("style").includes("width")||e.getAttribute("style").includes("height"));return(r||a)&&(s||u)}findBestSelector(e){if(!e||e.length===0)return"";const r=new Map;for(const n of e)if(n.classList)for(const i of n.classList.value.split(" "))i&&r.set(i,(r.get(i)||0)+1);let a="",s=0;for(const[n,i]of r.entries())i>s&&(a=n,s=i);return a&&s>=e.length/2?`.${a}`:e[0].tagName.toLowerCase()}detectTitleSelector(e){if(!e||e.length===0)return"";const r=[];for(const a of e)for(const s of this.knownStructures.generic.titles){const u=a.querySelectorAll(s);u&&u.length>0&&r.push(...u)}return this.findBestSelector(r)}detectImageSelector(e){if(!e||e.length===0)return"";const r=[];for(const a of e)for(const s of this.knownStructures.generic.images){const u=a.querySelectorAll(s);u&&u.length>0&&r.push(...u)}return this.findBestSelector(r)}detectLinkSelector(e){if(!e||e.length===0)return"";const r=[];for(const a of e)for(const s of this.knownStructures.generic.links){const u=a.querySelectorAll(s);u&&u.length>0&&r.push(...u)}return this.findBestSelector(r)}detectMetaSelector(e){if(!e||e.length===0)return"";const r=[];for(const a of e)for(const s of this.knownStructures.generic.metadata){const u=a.querySelectorAll(s);u&&u.length>0&&r.push(...u)}return this.findBestSelector(r)}detectPaginationSelector(e){const r=[];for(const a of this.knownStructures.generic.pagination){const s=e.querySelectorAll(a);s&&s.length>0&&r.push(...s)}return this.findBestSelector(r)}extractData(e,r){const a=ec.parse(e),s=[],u=a.querySelectorAll(r.selectors.popularItems);for(const n of u)try{const i=n.querySelector(r.selectors.itemTitle),o=i?i.text.trim():"",c=n.querySelector(r.selectors.itemPoster),d=c?c.getAttribute("src"):"",f=n.querySelector(r.selectors.itemLink),h=f?f.getAttribute("href"):"",p=n.querySelector(r.selectors.itemMeta),m=p?p.text.trim():"",b={title:o,imageUrl:d,link:h,meta:m};s.push(b)}catch(i){console.error("Erreur lors de l'extraction des donnes:",i)}return s}async scrapeUrl(e){try{const r=this.fingerprintService.generateRandomFingerprint(),a=this.fingerprintService.generateHeaders(r);a.Referer=this.behaviorService.generateReferer(e);const s=this.extractDomain(e);a.Cookie=this.fingerprintService.generateCookies(s,r);const u=await this.proxyService.get(e,a),n=this.detectPageStructure(u.data,e);return this.extractData(u.data,n)}catch(r){throw console.error("Erreur lors du scraping de l'URL:",r),r}}async scrapeWithPagination(e,r=1){const a=[];for(let s=1;s<=r;s++)try{const u=s===1?e:`${e}?page=${s}`,n=await this.scrapeUrl(u);if(a.push(...n),s<r){const i=this.behaviorService.generateThinkingDelay(2e3,5e3);await new Promise(o=>setTimeout(o,i))}}catch(u){console.error(`Erreur lors du scraping de la page ${s}:`,u)}return a}}const hg=new fg;class pg{constructor(){this.items=[],this.lastUpdate=null}addItem(e){const r=this.items.findIndex(a=>a.title===e.title&&a.source===e.source);r!==-1?this.items[r]={...this.items[r],...e,updated_at:new Date}:this.items.push({...e,created_at:e.created_at||new Date,updated_at:new Date}),this.lastUpdate=new Date}removeItem(e,r){const a=this.items.length;return this.items=this.items.filter(s=>!(s.title===e&&s.source===r)),this.items.length!==a?(this.lastUpdate=new Date,!0):!1}clear(){this.items=[],this.lastUpdate=new Date}search(e){if(!e||e.trim()==="")return[];const r=e.toLowerCase().trim(),a=r.split(/\s+/),s=u=>{let n=0;const i=(u.title||"").toLowerCase();i.includes(r)&&(n+=10);for(const c of a)i.includes(c)&&(n+=5);const o=(u.description||"").toLowerCase();o.includes(r)&&(n+=3);for(const c of a)o.includes(c)&&(n+=1);if(u.genres)for(const c of u.genres){const d=c.toLowerCase();(d.includes(r)||r.includes(d))&&(n+=2)}return n};return this.items.map(u=>({...u,_score:s(u)})).filter(u=>u._score>0).sort((u,n)=>n._score-u._score)}getSuggestions(e,r=10){if(!e||e.trim()==="")return[];const a=e.toLowerCase().trim(),s=this.items.filter(n=>n.title&&n.title.toLowerCase().startsWith(a)).map(n=>n.title),u=this.items.filter(n=>n.title&&!n.title.toLowerCase().startsWith(a)&&n.title.toLowerCase().includes(a)).map(n=>n.title);return[...new Set([...s,...u])].slice(0,r)}getStats(){return{documentCount:this.items.length,lastUpdate:this.lastUpdate}}}const Ye=new pg;var Se={};let Hr,kn,Jr,Nn;const fa=typeof process<"u"&&process.versions!=null&&process.versions.node!=null;if(fa)try{Hr=require("@elastic/elasticsearch").Client;const e=require("ioredis");kn=e.default||e,Jr=require("aws-sdk");const a=require("aws-elasticsearch-connector");Nn=a.default||a}catch(t){console.warn("[SearchIndexService] Certaines dpendances ne sont pas disponibles:",t.message)}let Oe=null;try{fa&&kn&&Se.REDIS_HOST&&(Oe=new kn({host:Se.REDIS_HOST,port:Se.REDIS_PORT||6379,password:Se.REDIS_PASSWORD,retryStrategy:t=>Math.min(t*1e3,3e4),maxRetriesPerRequest:3,enableOfflineQueue:!0}),Oe.on("error",t=>{console.error(`[SearchIndexService] Erreur Redis: ${t.message}`),Oe=null}),Oe.on("connect",()=>{console.log("[SearchIndexService] Connexion Redis tablie")}))}catch(t){console.error(`[SearchIndexService] Erreur d'initialisation Redis: ${t.message}`),Oe=null}let tc="eu-west-1";if(fa&&Jr&&Se.AWS_REGION){tc=Se.AWS_REGION;try{Jr.config.update({region:tc,credentials:new Jr.Credentials({accessKeyId:Se.AWS_ACCESS_KEY_ID||"",secretAccessKey:Se.AWS_SECRET_ACCESS_KEY||""})})}catch(t){console.error(`[SearchIndexService] Erreur de configuration AWS: ${t.message}`)}}let ue=null;async function Pn(){try{if(!fa)return console.log("[SearchIndexService] Environnement navigateur dtect, mode dgrad activ"),null;if(ue)return ue;if(!Hr||typeof Hr!="function")return console.error("[SearchIndexService] La classe Client d'Elasticsearch n'est pas correctement importe"),null;if(Se.AWS_OPENSEARCH_ENDPOINT){console.log("[SearchIndexService] Utilisation d'AWS OpenSearch Service");const t={region:Se.AWS_REGION||"eu-west-1",credentials:new Jr.Credentials({accessKeyId:Se.AWS_ACCESS_KEY_ID,secretAccessKey:Se.AWS_SECRET_ACCESS_KEY})};try{if(typeof Nn!="function")throw new Error("Le connecteur AWS Elasticsearch n'est pas disponible");const e=Nn(t);ue=new Hr({...e,node:Se.AWS_OPENSEARCH_ENDPOINT});const r=await ue.ping();if(r&&r.statusCode===200)return console.log("[SearchIndexService] Connexion  AWS OpenSearch Service tablie"),ue;throw new Error("chec du ping vers AWS OpenSearch Service")}catch(e){console.error(`[SearchIndexService] Erreur de connexion  AWS OpenSearch Service: ${e.message}`),ue=null}}if(Se.ELASTICSEARCH_URL){console.log("[SearchIndexService] Utilisation d'Elasticsearch local");try{ue=new Hr({node:Se.ELASTICSEARCH_URL,maxRetries:3,requestTimeout:1e4});const t=await ue.ping();if(t&&t.statusCode===200)return console.log("[SearchIndexService] Connexion  Elasticsearch tablie"),ue;throw new Error("chec du ping vers Elasticsearch")}catch(t){console.error(`[SearchIndexService] Erreur de connexion  Elasticsearch: ${t.message}`),ue=null}}return ue||console.warn("[SearchIndexService] Aucune configuration Elasticsearch disponible, mode dgrad activ"),ue}catch(t){return console.error(`[SearchIndexService] Erreur d'initialisation du client Elasticsearch: ${t.message}`),null}}if(fa)try{Pn().catch(t=>{console.error(`[SearchIndexService] Erreur lors de l'initialisation automatique: ${t.message}`)})}catch(t){console.error(`[SearchIndexService] Exception lors de l'initialisation automatique: ${t.message}`)}else console.log("[SearchIndexService] Mode navigateur dtect, initialisation Elasticsearch ignore");const Te=new Map;class mg{constructor(){this.indexName="flodrama_content",this.initialized=!1,this.lastUpdate=null,this.indexingInProgress=!1,this.useElasticsearch=!1,this.useRedis=!!Oe,this._initializeSearchIndex()}async _initializeSearchIndex(){try{const e=await Pn();if(this.useElasticsearch=!!e,!this.useElasticsearch){console.warn("[SearchIndexService] Elasticsearch non disponible, utilisation du mode dgrad");return}await ue.indices.exists({index:this.indexName})||(await ue.indices.create({index:this.indexName,body:{settings:{analysis:{analyzer:{french_analyzer:{type:"custom",tokenizer:"standard",filter:["lowercase","french_stemmer","french_stop","asciifolding"]}},filter:{french_stemmer:{type:"stemmer",language:"french"},french_stop:{type:"stop",stopwords:"_french_"}}}},mappings:{properties:{title:{type:"text",analyzer:"french_analyzer",fields:{keyword:{type:"keyword",ignore_above:256},completion:{type:"completion",analyzer:"french_analyzer"}}},description:{type:"text",analyzer:"french_analyzer"},type:{type:"keyword"},genres:{type:"keyword"},country:{type:"keyword"},year:{type:"integer"},rating:{type:"float"},image:{type:"keyword"},url:{type:"keyword"},source:{type:"keyword"},episodes:{type:"integer"},status:{type:"keyword"},created_at:{type:"date"},updated_at:{type:"date"}}}}}),console.log(`[SearchIndexService] Index '${this.indexName}' cr avec succs`)),this.initialized=!0}catch(e){console.error(`[SearchIndexService] Erreur lors de l'initialisation de l'index: ${e.message}`),console.warn("[SearchIndexService] Utilisation du mode dgrad"),this.useElasticsearch=!1}}async checkIndexExists(){try{return this.useElasticsearch?await ue.indices.exists({index:this.indexName}):Ye.items.length>0}catch(e){return console.error(`[SearchIndexService] Erreur lors de la vrification de l'index: ${e.message}`),!1}}async createIndex(){try{return this.useElasticsearch?(await this.checkIndexExists()||await this._initializeSearchIndex(),!0):(Ye.clear(),!0)}catch(e){return console.error(`[SearchIndexService] Erreur lors de la cration de l'index: ${e.message}`),!1}}async deleteIndex(){try{return this.useElasticsearch?(await this.checkIndexExists()&&(await ue.indices.delete({index:this.indexName}),console.log(`[SearchIndexService] Index '${this.indexName}' supprim avec succs`)),!0):(Ye.clear(),!0)}catch(e){return console.error(`[SearchIndexService] Erreur lors de la suppression de l'index: ${e.message}`),!1}}async getIndexStats(){try{if(!this.useElasticsearch)return{success:!0,indexType:"memory",totalItems:Ye.getStats().documentCount,message:"Statistiques de l'index en mmoire rcupres avec succs"};if(!await this.checkIndexExists())return{success:!1,indexType:this.openSearchClient?"opensearch":"elasticsearch",totalItems:0,message:"L'index n'existe pas"};const r=Se.AWS_OPENSEARCH_ENDPOINT?"opensearch":"elasticsearch",a=await ue.count({index:this.indexName}),s=await ue.indices.stats({index:this.indexName});return{success:!0,indexType:r,totalItems:a.count,lastUpdate:this.lastUpdate,stats:s.indices[this.indexName],message:`Statistiques de l'index ${r} rcupres avec succs`}}catch(e){return console.error(`[SearchIndexService] Erreur lors de la rcupration des statistiques: ${e.message}`),{success:!1,indexType:"unknown",totalItems:0,error:e.message}}}async indexItems(e){if(this.indexingInProgress)return console.warn("[SearchIndexService] Une indexation est dj en cours, opration ignore"),{successful:0,failed:e.length};this.indexingInProgress=!0;try{if(!this.useElasticsearch){for(const n of e)Ye.addItem(n);return this.lastUpdate=new Date,this.indexingInProgress=!1,{successful:e.length,failed:0}}if(!e||e.length===0)return this.indexingInProgress=!1,{successful:0,failed:0};const r=e.flatMap(n=>[{index:{_index:this.indexName}},{...n,created_at:n.created_at||new Date,updated_at:new Date}]),a=await ue.bulk({refresh:!0,operations:r}),s=a.items.filter(n=>!n.index.error).length,u=a.items.filter(n=>n.index.error).length;return this.lastUpdate=new Date,this.indexingInProgress=!1,{successful:s,failed:u}}catch(r){console.error(`[SearchIndexService] Erreur lors de l'indexation: ${r.message}`);try{for(const a of e)Ye.addItem(a);return this.lastUpdate=new Date,console.warn("[SearchIndexService] Indexation effectue en mode dgrad"),{successful:e.length,failed:0}}catch(a){console.error(`[SearchIndexService] Erreur lors de l'indexation en mode dgrad: ${a.message}`)}return this.indexingInProgress=!1,{successful:0,failed:e.length}}}async search(e,r="all",a={}){if(!e)return[];const s=`search:${e}:${r}:${JSON.stringify(a)}`;if(this.useRedis)try{const u=await Oe.get(s);if(u)return JSON.parse(u)}catch(u){console.error(`[SearchIndexService] Erreur lors de la rcupration du cache: ${u.message}`)}else if(Te.has(s))return Te.get(s);try{let u;if(this.useElasticsearch){const n=[{multi_match:{query:e,fields:["title^3","description"],fuzziness:"AUTO"}}];r!=="all"&&n.push({term:{type:r}});const i=[];a.filters&&(a.filters.genre&&a.filters.genre.length>0&&i.push({terms:{genres:a.filters.genre}}),a.filters.country&&a.filters.country.length>0&&i.push({terms:{country:a.filters.country}}),a.filters.year&&a.filters.year.length>0&&i.push({terms:{year:a.filters.year.map(c=>parseInt(c,10))}}),a.filters.minRating&&i.push({range:{rating:{gte:a.filters.minRating}}})),u=(await ue.search({index:this.indexName,body:{query:{bool:{must:n,filter:i}},size:a.size||20}})).hits.hits.map(c=>({...c._source,_score:c._score}))}else{u=Ye.search(e),r!=="all"&&(u=u.filter(i=>i.type===r)),a.filters&&(a.filters.genre&&a.filters.genre.length>0&&(u=u.filter(i=>i.genres?a.filters.genre.some(o=>i.genres.includes(o)):!1)),a.filters.country&&a.filters.country.length>0&&(u=u.filter(i=>a.filters.country.includes(i.country))),a.filters.year&&a.filters.year.length>0&&(u=u.filter(i=>{var o;return a.filters.year.includes((o=i.year)==null?void 0:o.toString())})),a.filters.minRating&&(u=u.filter(i=>(i.rating||0)>=a.filters.minRating)));const n=a.size||20;u=u.slice(0,n)}if(this.useRedis)try{await Oe.set(s,JSON.stringify(u),"EX",3600)}catch(n){console.error(`[SearchIndexService] Erreur lors de la mise en cache: ${n.message}`)}else if(Te.set(s,u),Te.size>1e3){const n=Te.keys().next().value;Te.delete(n)}return u}catch(u){return console.error(`[SearchIndexService] Erreur lors de la recherche: ${u.message}`),this.useElasticsearch?(console.warn("[SearchIndexService] Tentative de recherche en mode dgrad"),this.useElasticsearch=!1,this.search(e,r,a)):[]}}async getSuggestions(e,r=10){if(!e||e.length<2)return[];const a=`suggestions:${e}:${r}`;if(this.useRedis)try{const s=await Oe.get(a);if(s)return JSON.parse(s)}catch(s){console.error(`[SearchIndexService] Erreur lors de la rcupration du cache: ${s.message}`)}else if(Te.has(a))return Te.get(a);try{let s;if(this.useElasticsearch?s=(await ue.search({index:this.indexName,body:{suggest:{title_suggestions:{prefix:e,completion:{field:"title.completion",size:r}}},_source:!1}})).suggest.title_suggestions[0].options.map(n=>n.text):s=Ye.getSuggestions(e),this.useRedis)try{await Oe.set(a,JSON.stringify(s),"EX",3600)}catch(u){console.error(`[SearchIndexService] Erreur lors de la mise en cache: ${u.message}`)}else if(Te.set(a,s),Te.size>1e3){const u=Te.keys().next().value;Te.delete(u)}return s}catch(s){return console.error(`[SearchIndexService] Erreur lors de la rcupration des suggestions: ${s.message}`),this.useElasticsearch?(console.warn("[SearchIndexService] Tentative de rcupration des suggestions en mode dgrad"),this.useElasticsearch=!1,this.getSuggestions(e,r)):[]}}async getAllTitlesForAutocomplete(){const e="all_titles";if(this.useRedis)try{const r=await Oe.get(e);if(r)return JSON.parse(r)}catch(r){console.error(`[SearchIndexService] Erreur lors de la rcupration du cache: ${r.message}`)}else if(Te.has(e))return Te.get(e);try{let r;if(this.useElasticsearch?r=(await ue.search({index:this.indexName,body:{query:{match_all:{}},_source:["title"],size:1e4}})).hits.hits.map(s=>s._source.title).filter(Boolean):r=Ye.items.map(a=>a.title).filter(Boolean),this.useRedis)try{await Oe.set(e,JSON.stringify(r),"EX",86400)}catch(a){console.error(`[SearchIndexService] Erreur lors de la mise en cache: ${a.message}`)}else Te.set(e,r);return r}catch(r){return console.error(`[SearchIndexService] Erreur lors de la rcupration des titres: ${r.message}`),this.useElasticsearch?(console.warn("[SearchIndexService] Tentative de rcupration des titres en mode dgrad"),this.useElasticsearch=!1,this.getAllTitlesForAutocomplete()):[]}}async healthCheck(){try{const e=await Pn();this.useElasticsearch=!!e;const r={elasticsearch:!1,redis:!1,indexSize:0,lastUpdate:this.lastUpdate};if(this.useElasticsearch)try{await ue.ping(),r.elasticsearch=!0;const a=await this.getIndexStats();r.indexSize=a.totalItems}catch(a){console.error(`[SearchIndexService] Erreur Elasticsearch: ${a.message}`),this.useElasticsearch=!1}else r.indexSize=Ye.items.length;if(this.useRedis)try{await Oe.ping(),r.redis=!0}catch(a){console.error(`[SearchIndexService] Erreur Redis: ${a.message}`),this.useRedis=!1}return r}catch(e){return console.error(`[SearchIndexService] Erreur lors de la vrification de l'tat: ${e.message}`),{elasticsearch:!1,redis:!1,indexSize:Ye.items.length,lastUpdate:this.lastUpdate}}}}class gg{constructor(e,r){this.dbName=e,this.version=r,this.db=null,this.isOpening=!1,this.openPromise=null}open(e=[]){return this.db?Promise.resolve(this.db):this.isOpening?this.openPromise:(this.isOpening=!0,this.openPromise=new Promise((r,a)=>{if(!window.indexedDB)return this.isOpening=!1,a(new Error("IndexedDB n'est pas support par ce navigateur."));const s=window.indexedDB.open(this.dbName,this.version);s.onerror=u=>{console.error("[IndexedDBService] Erreur lors de l'ouverture de la base de donnes:",u.target.error),this.isOpening=!1,a(u.target.error)},s.onsuccess=u=>{this.db=u.target.result,this.isOpening=!1,console.log(`[IndexedDBService] Base de donnes ${this.dbName} ouverte avec succs.`),r(this.db)},s.onupgradeneeded=u=>{const n=u.target.result;console.log(`[IndexedDBService] Mise  niveau de la base de donnes ${this.dbName} vers la version ${this.version}.`);for(const i of e){let o;if(n.objectStoreNames.contains(i.name)?(o=u.target.transaction.objectStore(i.name),console.log(`[IndexedDBService] Magasin d'objets ${i.name} existant.`)):(o=n.createObjectStore(i.name,{keyPath:i.keyPath}),console.log(`[IndexedDBService] Magasin d'objets ${i.name} cr.`)),i.indices)for(const c of i.indices)o.indexNames.contains(c.name)||(o.createIndex(c.name,c.keyPath,{unique:!!c.unique,multiEntry:!!c.multiEntry}),console.log(`[IndexedDBService] Indice ${c.name} cr pour ${i.name}.`))}}}),this.openPromise)}close(){this.db&&(this.db.close(),this.db=null,console.log(`[IndexedDBService] Connexion  la base de donnes ${this.dbName} ferme.`))}async transaction(e,r,a){return await this.open(),new Promise((s,u)=>{if(!this.db.objectStoreNames.contains(e))return u(new Error(`Le magasin d'objets ${e} n'existe pas.`));const n=this.db.transaction(e,r),i=n.objectStore(e);let o;try{o=a(i,n)}catch(c){u(c)}n.oncomplete=()=>{s(o)},n.onerror=c=>{console.error("[IndexedDBService] Erreur de transaction:",c.target.error),u(c.target.error)},n.onabort=c=>{console.warn("[IndexedDBService] Transaction annule:",c.target.error),u(c.target.error||new Error("Transaction annule"))}})}async add(e,r){return this.transaction(e,"readwrite",a=>{const s=a.add(r);return new Promise((u,n)=>{s.onsuccess=i=>u(i.target.result),s.onerror=i=>n(i.target.error)})})}async put(e,r){return this.transaction(e,"readwrite",a=>{const s=a.put(r);return new Promise((u,n)=>{s.onsuccess=i=>u(i.target.result),s.onerror=i=>n(i.target.error)})})}async bulkPut(e,r){return!r||!r.length?[]:this.transaction(e,"readwrite",a=>{const s=r.map(u=>new Promise((n,i)=>{const o=a.put(u);o.onsuccess=c=>n(c.target.result),o.onerror=c=>i(c.target.error)}));return Promise.all(s)})}async get(e,r){return this.transaction(e,"readonly",a=>{const s=a.get(r);return new Promise((u,n)=>{s.onsuccess=i=>u(i.target.result),s.onerror=i=>n(i.target.error)})})}async getAll(e,r=null,a={}){const{limit:s,direction:u="next"}=a;return this.transaction(e,"readonly",n=>new Promise((i,o)=>{const c=[];let d;a.index?d=n.index(a.index).openCursor(r,u):d=n.openCursor(r,u),d.onsuccess=f=>{const h=f.target.result;h?(c.push(h.value),s&&c.length>=s?i(c):h.continue()):i(c)},d.onerror=f=>o(f.target.error)}))}async getAllFromIndex(e,r,a,s={}){const{limit:u,direction:n="next"}=s;return this.transaction(e,"readonly",i=>new Promise((o,c)=>{if(!i.indexNames.contains(r))return c(new Error(`L'indice ${r} n'existe pas dans ${e}.`));const d=i.index(r),f=[];let h;if(a!==void 0){const p=IDBKeyRange.only(a);h=d.openCursor(p,n)}else h=d.openCursor(null,n);h.onsuccess=p=>{const m=p.target.result;m?(f.push(m.value),u&&f.length>=u?o(f):m.continue()):o(f)},h.onerror=p=>c(p.target.error)}))}async delete(e,r){return this.transaction(e,"readwrite",a=>{const s=a.delete(r);return new Promise((u,n)=>{s.onsuccess=()=>u(),s.onerror=i=>n(i.target.error)})})}async clear(e){return this.transaction(e,"readwrite",r=>{const a=r.clear();return new Promise((s,u)=>{a.onsuccess=()=>s(),a.onerror=n=>u(n.target.error)})})}async count(e){return this.transaction(e,"readonly",r=>{const a=r.count();return new Promise((s,u)=>{a.onsuccess=n=>s(n.target.result),a.onerror=n=>u(n.target.error)})})}async exists(e,r){return!!await this.get(e,r)}async search(e,r,a={}){const{limit:s}=a,n=(await this.getAll(e)).filter(r);return s?n.slice(0,s):n}}class bg{constructor(){this.taxonomies={contentTypes:[{id:"drama",name:"Dramas",priority:1},{id:"movie",name:"Films",priority:2},{id:"anime",name:"Anims",priority:3},{id:"kshow",name:"K-Shows",priority:4},{id:"documentary",name:"Documentaires",priority:5}],origins:[{id:"kr",name:"Core du Sud",aliases:["korean","korea","core","kdrama"]},{id:"jp",name:"Japon",aliases:["japanese","japan","japon","jdrama"]},{id:"cn",name:"Chine",aliases:["chinese","china","chine","cdrama"]},{id:"th",name:"Thalande",aliases:["thai","thailand","thailande","tdrama"]},{id:"tw",name:"Tawan",aliases:["taiwanese","taiwan"]},{id:"ph",name:"Philippines",aliases:["filipino","philippines","pdrama"]},{id:"vn",name:"Vietnam",aliases:["vietnamese","vietnam"]},{id:"in",name:"Inde",aliases:["indian","india","inde","bollywood"]},{id:"id",name:"Indonsie",aliases:["indonesian","indonesia","indonesie"]},{id:"my",name:"Malaisie",aliases:["malaysian","malaysia","malaisie"]},{id:"other",name:"Autres pays",aliases:[]}],genres:[{id:"romance",name:"Romance",aliases:["romantic","love story"],priority:1},{id:"comedy",name:"Comdie",aliases:["funny","humor","humour"],priority:2},{id:"action",name:"Action",aliases:["fight","combat"],priority:3},{id:"thriller",name:"Thriller",aliases:["suspense"],priority:4},{id:"drama",name:"Drame",aliases:["dramatic","melodrama"],priority:5},{id:"fantasy",name:"Fantaisie",aliases:["fantastic","fantastique"],priority:6},{id:"historical",name:"Historique",aliases:["history","period","costume"],priority:7},{id:"mystery",name:"Mystre",aliases:["mystery","enigma","nigme"],priority:8},{id:"horror",name:"Horreur",aliases:["scary","fear","peur"],priority:9},{id:"scifi",name:"Science-Fiction",aliases:["sci-fi","sf"],priority:10},{id:"adventure",name:"Aventure",aliases:["adventure","quest"],priority:11},{id:"crime",name:"Crime",aliases:["criminal","police","detective"],priority:12},{id:"medical",name:"Mdical",aliases:["hospital","doctor","medicine"],priority:13},{id:"legal",name:"Juridique",aliases:["law","lawyer","court"],priority:14},{id:"school",name:"cole",aliases:["school","college","university","campus"],priority:15},{id:"supernatural",name:"Surnaturel",aliases:["ghost","spirit","paranormal"],priority:16},{id:"sports",name:"Sports",aliases:["sport","athletic","competition"],priority:17},{id:"music",name:"Musical",aliases:["music","band","idol","singer"],priority:18},{id:"family",name:"Famille",aliases:["family","familial"],priority:19},{id:"food",name:"Cuisine",aliases:["cooking","food","chef","gastronomy"],priority:20},{id:"business",name:"Business",aliases:["office","corporate","company"],priority:21},{id:"psychological",name:"Psychologique",aliases:["mental","mind"],priority:22},{id:"martial-arts",name:"Arts Martiaux",aliases:["kung fu","karate","martial"],priority:23},{id:"war",name:"Guerre",aliases:["military","army","battle"],priority:24},{id:"slice-of-life",name:"Tranche de vie",aliases:["daily life","quotidien"],priority:25}],themes:[{id:"time-travel",name:"Voyage dans le temps",keywords:["time travel","time slip","voyage temporel"]},{id:"reincarnation",name:"Rincarnation",keywords:["reincarnation","rebirth","past life"]},{id:"revenge",name:"Vengeance",keywords:["revenge","avenge","vendetta"]},{id:"coming-of-age",name:"Passage  l'ge adulte",keywords:["coming of age","growing up"]},{id:"forbidden-love",name:"Amour interdit",keywords:["forbidden love","forbidden romance"]},{id:"rich-poor",name:"Riche et pauvre",keywords:["rich","poor","wealth gap","chaebol"]},{id:"workplace",name:"Milieu professionnel",keywords:["workplace","office","job","career"]},{id:"friendship",name:"Amiti",keywords:["friendship","friends","bromance","sismance"]},{id:"supernatural-powers",name:"Pouvoirs surnaturels",keywords:["power","ability","supernatural"]},{id:"politics",name:"Politique",keywords:["politics","government","election","corruption"]},{id:"royalty",name:"Royaut",keywords:["royal","king","queen","prince","princess","palace"]}]},this.collections=[{id:"korean-romance",name:"Romances Corennes",filters:{origin:"kr",genre:"romance"}},{id:"chinese-historical",name:"Historiques Chinois",filters:{origin:"cn",genre:"historical"}},{id:"japanese-anime",name:"Anims Japonais",filters:{origin:"jp",type:"anime"}},{id:"thai-bl",name:"BL Thalandais",filters:{origin:"th",keywords:["boys love","bl"]}},{id:"korean-thriller",name:"Thrillers Corens",filters:{origin:"kr",genre:"thriller"}},{id:"bollywood",name:"Bollywood",filters:{origin:"in"}},{id:"medical-dramas",name:"Dramas Mdicaux",filters:{genre:"medical"}},{id:"school-romance",name:"Romances Scolaires",filters:{genre:["school","romance"]}},{id:"action-movies",name:"Films d'Action",filters:{type:"movie",genre:"action"}},{id:"fantasy-dramas",name:"Dramas Fantastiques",filters:{type:"drama",genre:"fantasy"}},{id:"time-travel",name:"Voyage dans le Temps",filters:{theme:"time-travel"}},{id:"revenge-stories",name:"Histoires de Vengeance",filters:{theme:"revenge"}},{id:"office-romance",name:"Romances de Bureau",filters:{theme:"workplace",genre:"romance"}},{id:"bollywood-romance",name:"Romances Bollywood",filters:{origin:"in",genre:"romance"}},{id:"bollywood-action",name:"Action Bollywood",filters:{origin:"in",genre:"action"}},{id:"bollywood-musical",name:"Comdies Musicales Indiennes",filters:{origin:"in",genre:"music"}},{id:"anime-shonen",name:"Anime Shnen",filters:{type:"anime",keywords:["shonen","shounen"]}},{id:"anime-seinen",name:"Anime Seinen",filters:{type:"anime",keywords:["seinen"]}},{id:"anime-shojo",name:"Anime Shjo",filters:{type:"anime",keywords:["shojo","shoujo"]}},{id:"anime-isekai",name:"Anime Isekai",filters:{type:"anime",keywords:["isekai","autre monde"]}},{id:"anime-mecha",name:"Anime Mecha",filters:{type:"anime",keywords:["mecha","robot"]}}],this.stats={categorizedItems:0,matchedCollections:0,unmatchedItems:0}}categorize(e){return Array.isArray(e)?this.categorizeContentList(e):[]}categorizeContent(e){return e?(e.categories=e.categories||{type:e.type||"drama",origin:null,genres:Array.isArray(e.genres)?[...e.genres]:[],themes:[],collections:[]},e.categories.origin||(e.categories.origin=this._detectOrigin(e)),this._enrichGenres(e),this._detectThemes(e),this._assignToCollections(e),this.stats.categorizedItems++,e):null}categorizeContentList(e){return Array.isArray(e)?e.map(r=>this.categorizeContent(r)):[]}generateCollections(e){if(!Array.isArray(e)||e.length===0)return{};const r={};for(const a of this.collections){const s=e.filter(u=>this._matchesCollectionFilters(u,a.filters));s.length>0&&(r[a.id]={id:a.id,name:a.name,contents:s,count:s.length})}return this.taxonomies.origins.forEach(a=>{const s=e.filter(u=>u.categories&&u.categories.origin===a.id);s.length>0&&(r[`origin-${a.id}`]={id:`origin-${a.id}`,name:a.name,contents:s,count:s.length})}),this.taxonomies.genres.slice(0,10).forEach(a=>{const s=e.filter(u=>u.categories&&u.categories.genres&&u.categories.genres.includes(a.id));s.length>0&&(r[`genre-${a.id}`]={id:`genre-${a.id}`,name:a.name,contents:s,count:s.length})}),r}generateWidgets(e,r=5){const a=[];return Object.values(e).forEach(s=>{s.contents.length>=r&&a.push({id:`widget-${s.id}`,type:"carousel",title:s.name,subtitle:`${s.count} contenus`,items:s.contents.slice(0,20),viewAllLink:`/browse/${s.id}`})}),a.sort((s,u)=>u.items.length-s.items.length),a}_detectOrigin(e){var a;if(e.country){const s=e.country.toLowerCase();for(const u of this.taxonomies.origins)if(u.name.toLowerCase()===s||u.aliases.some(n=>s.includes(n)))return u.id}if(e.source&&typeof e.source=="object"){const s=((a=e.source.name)==null?void 0:a.toLowerCase())||"";if(s.includes("bollywood")||s.includes("india"))return"in";if(s.includes("neko sama")||s.includes("anime sama")||s.includes("gogoanime")||s.includes("voiranime")){const u=`${e.title} ${e.description||""}`.toLowerCase();return u.includes("donghua")||u.includes("chinese animation")?"cn":u.includes("korean animation")||u.includes("aeni")?"kr":"jp"}}if(e.type==="kshow")return"kr";if(e.type==="anime"){const s=`${e.title} ${e.description||""}`.toLowerCase();return s.includes("donghua")||s.includes("chinese animation")?"cn":s.includes("korean animation")||s.includes("aeni")?"kr":"jp"}const r=`${e.title} ${e.description||""}`.toLowerCase();for(const s of this.taxonomies.origins)if(s.aliases.some(u=>r.includes(u)))return s.id;if(Array.isArray(e.genres)){const s=e.genres.join(" ").toLowerCase();if(s.includes("korean"))return"kr";if(s.includes("japanese"))return"jp";if(s.includes("chinese"))return"cn";if(s.includes("thai"))return"th";if(s.includes("indian")||s.includes("bollywood"))return"in"}return"other"}_enrichGenres(e){if(!e.categories)return;const r=new Set;Array.isArray(e.genres)&&e.genres.forEach(s=>{const u=s.toLowerCase();for(const n of this.taxonomies.genres)if(n.name.toLowerCase()===u||n.aliases.some(i=>u.includes(i))){r.add(n.id);break}});const a=`${e.title} ${e.description||""}`.toLowerCase();e.type==="anime"&&((a.includes("shonen")||a.includes("shounen"))&&(r.add("action"),r.add("adventure")),(a.includes("shojo")||a.includes("shoujo"))&&(r.add("romance"),r.add("drama")),a.includes("seinen")&&r.add("psychological"),a.includes("isekai")&&(r.add("fantasy"),r.add("adventure")),a.includes("mecha")&&r.add("scifi"),(a.includes("slice of life")||a.includes("tranche de vie"))&&r.add("slice-of-life")),e.categories.origin==="in"&&((a.includes("dance")||a.includes("song")||a.includes("musical")||a.includes("music"))&&r.add("music"),a.includes("masala")&&(r.add("action"),r.add("comedy"),r.add("romance")));for(const s of this.taxonomies.genres)r.has(s.id)||(a.includes(s.name.toLowerCase())||s.aliases.some(u=>a.includes(u)))&&r.add(s.id);e.categories.genres=Array.from(r)}_detectThemes(e){if(!e.categories)return;const r=new Set,a=`${e.title} ${e.description||""}`.toLowerCase();for(const s of this.taxonomies.themes)s.keywords.some(u=>a.includes(u))&&r.add(s.id);e.categories.themes=Array.from(r)}_assignToCollections(e){if(!e.categories)return;const r=[];for(const a of this.collections)this._matchesCollectionFilters(e,a.filters)&&r.push(a.id);e.categories.collections=r,r.length>0?this.stats.matchedCollections+=r.length:this.stats.unmatchedItems++}_matchesCollectionFilters(e,r){if(!e.categories||r.type&&e.categories.type!==r.type||r.origin&&e.categories.origin!==r.origin)return!1;if(r.genre){if(Array.isArray(r.genre)){if(!r.genre.every(a=>e.categories.genres.includes(a)))return!1}else if(!e.categories.genres.includes(r.genre))return!1}if(r.theme){if(Array.isArray(r.theme)){if(!r.theme.some(a=>e.categories.themes.includes(a)))return!1}else if(!e.categories.themes.includes(r.theme))return!1}if(r.keywords){const a=`${e.title} ${e.description||""}`.toLowerCase();if(Array.isArray(r.keywords)){if(!r.keywords.some(s=>a.includes(s)))return!1}else if(!a.includes(r.keywords))return!1}return!0}getStats(){return{...this.stats}}}const yg=new bg,fr=t=>t?t.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim():`unknown-${Date.now()}`,rc=t=>t?t.includes("thumbnail")?t:t.includes("cloudinary.com")?t.replace("/upload/","/upload/c_thumb,w_200,g_face/"):t:"",ac=t=>{if(t.country)return t.country;if(t.type==="kshow")return"Core du Sud";const e=t.title.toLowerCase();if(e.includes("korean")||e.includes("korea")||e.includes("k-drama"))return"Core du Sud";if(e.includes("japanese")||e.includes("japan")||e.includes("j-drama"))return"Japon";if(e.includes("chinese")||e.includes("china")||e.includes("c-drama"))return"Chine";if(e.includes("thai")||e.includes("thailand")||e.includes("t-drama"))return"Thalande";if(e.includes("taiwanese")||e.includes("taiwan"))return"Tawan";if(t.genres){if(t.genres.includes("Korean Drama"))return"Core du Sud";if(t.genres.includes("Japanese Drama"))return"Japon";if(t.genres.includes("Chinese Drama"))return"Chine";if(t.genres.includes("Thai Drama"))return"Thalande";if(t.genres.includes("Taiwanese Drama"))return"Tawan"}return"Inconnu"},sc=t=>{if(!t)return 999;const e=t.toLowerCase(),r={dramacool:1,voirdrama:2,dramafast:3,myasiantv:4,newasiantv:5,kissasian:6,dramago:7,asianload:8,viewasian:9,dramanice:10};for(const[a,s]of Object.entries(r))if(e.includes(a))return s;return 100},qr=t=>{const e={episodes:0,year:null,status:"unknown",genres:[],country:null,duration:null,rating:null};if(!t||!t.meta)return e;if(typeof t.meta=="string"){const r=t.meta.toLowerCase(),a=r.match(/(\d+)\s*ep/i);a&&(e.episodes=parseInt(a[1],10));const s=r.match(/\b(20\d{2}|19\d{2})\b/);s&&(e.year=parseInt(s[1],10)),r.includes("ongoing")||r.includes("en cours")?e.status="ongoing":(r.includes("completed")||r.includes("termin"))&&(e.status="completed");const u=["action","comedy","drama","romance","thriller","horror","fantasy","sci-fi","mystery","adventure","historical"];for(const n of u)r.includes(n)&&e.genres.push(n.charAt(0).toUpperCase()+n.slice(1));r.includes("korean")||r.includes("korea")?e.country="Core du Sud":r.includes("japanese")||r.includes("japan")?e.country="Japon":r.includes("chinese")||r.includes("china")?e.country="Chine":(r.includes("thai")||r.includes("thailand"))&&(e.country="Thalande")}else typeof t.meta=="object"&&(t.meta.episodes&&(e.episodes=parseInt(t.meta.episodes,10)||0),t.meta.year&&(e.year=parseInt(t.meta.year,10)||null),t.meta.status&&(e.status=t.meta.status),Array.isArray(t.meta.genres)&&(e.genres=t.meta.genres),t.meta.country&&(e.country=t.meta.country),t.meta.duration&&(e.duration=t.meta.duration),t.meta.rating&&(e.rating=parseFloat(t.meta.rating)||null));return e};class vg{constructor(){this.memoryCache={popular:new Map,search:new Map,details:new Map,suggestions:new Map},this.ttl={popular:6*60*60*1e3,search:30*60*1e3,details:24*60*60*1e3,suggestions:12*60*60*1e3},this.refreshPriority={popular:1,trending:2,recent:3,search:4,details:5},this.metrics={hits:0,misses:0,refreshes:0}}get(e,r){if(!this.memoryCache[r])return null;const a=this.memoryCache[r].get(e);return a?Date.now()-a.timestamp>this.ttl[r]?(this.memoryCache[r].delete(e),this.metrics.misses++,null):(this.metrics.hits++,a.data):(this.metrics.misses++,null)}set(e,r,a){this.memoryCache[a]&&this.memoryCache[a].set(e,{data:r,timestamp:Date.now()})}invalidate(e,r){this.memoryCache[r]&&this.memoryCache[r].delete(e)}refresh(e){if(this.memoryCache[e]){for(const[r,a]of this.memoryCache[e].entries())Date.now()-a.timestamp>this.ttl[e]&&this.memoryCache[e].delete(r);this.metrics.refreshes++}}scheduleRefresh(){setInterval(()=>this.refresh("popular"),6*60*60*1e3),setInterval(()=>this.refresh("trending"),3*60*60*1e3),setInterval(()=>this.refresh("recent"),60*60*1e3)}getMetrics(){const e=this.metrics.hits+this.metrics.misses>0?this.metrics.hits/(this.metrics.hits+this.metrics.misses)*100:0;return{...this.metrics,hitRate:`${e.toFixed(2)}%`}}}class xg{constructor(){this.scrapingService=Ne,this.dbService=new gg("flodrama-content",1),this.cache=new vg,this.categorizer=new yg,this.initDatabase(),this.cache.scheduleRefresh()}async initDatabase(){try{await this.dbService.open([{name:"contents",keyPath:"id",indices:[{name:"type",keyPath:"type",unique:!1},{name:"year",keyPath:"year",unique:!1},{name:"country",keyPath:"country",unique:!1},{name:"genres",keyPath:"genres",unique:!1,multiEntry:!0},{name:"updatedAt",keyPath:"updatedAt",unique:!1}]},{name:"sources",keyPath:"id",indices:[{name:"contentId",keyPath:"contentId",unique:!1},{name:"source",keyPath:"source",unique:!1},{name:"isValid",keyPath:"isValid",unique:!1},{name:"priority",keyPath:"priority",unique:!1}]},{name:"persons",keyPath:"id",indices:[{name:"name",keyPath:"name",unique:!1},{name:"role",keyPath:"role",unique:!1}]},{name:"contentPersons",keyPath:"id",indices:[{name:"contentId",keyPath:"contentId",unique:!1},{name:"personId",keyPath:"personId",unique:!1},{name:"role",keyPath:"role",unique:!1}]}]),console.log("[ContentDataService] Base de donnes initialise avec succs")}catch(e){console.error("[ContentDataService] Erreur lors de l'initialisation de la base de donnes:",e)}}startPeriodicScraping(){setInterval(()=>this.refreshPopularContent(),6*60*60*1e3),setInterval(()=>this.refreshContentDetails(),24*60*60*1e3),setInterval(()=>this.indexNewContent(),12*60*60*1e3),setTimeout(()=>{this.refreshPopularContent()},5e3)}async refreshPopularContent(){try{console.log("[ContentDataService] Rafrachissement des contenus populaires...");const e=await this.scrapingService.getPopularDramas(2),r=await this.scrapingService.getPopularAnimes(2),a=await this.scrapingService.getPopularMovies(2),s=await this.scrapingService.getPopularKshows(1),u=this.normalizeContentData([...e.map(i=>({...i,type:"drama"})),...r.map(i=>({...i,type:"anime"})),...a.map(i=>({...i,type:"movie"})),...s.map(i=>({...i,type:"kshow"}))]),n=this.categorizer.categorize(u);return await this.bulkUpsertContent(n),this.cache.set("popular_all",n,"popular"),this.cache.set("popular_dramas",e,"popular"),this.cache.set("popular_animes",r,"popular"),this.cache.set("popular_movies",a,"popular"),this.cache.set("popular_kshows",s,"popular"),console.log(`[ContentDataService] ${n.length} contenus populaires mis  jour`),typeof window<"u"&&window.dispatchEvent&&window.dispatchEvent(new CustomEvent("flodrama:content-updated",{detail:{type:"popular",count:n.length,timestamp:Date.now()}})),n}catch(e){throw console.error("[ContentDataService] Erreur lors du rafrachissement des contenus populaires:",e),e}}normalizeContentData(e){return e.map(r=>{const a=r.id||`${r.source.toLowerCase()}-${fr(r.title)}`,s={id:`${a}-${r.source.toLowerCase()}`,contentId:a,source:r.source,sourceUrl:r.link||"",streamingUrls:r.streamingUrls||[],quality:r.quality||[],subtitles:r.subtitles||[],lastChecked:new Date,isValid:!0,priority:sc(r.source)};return{content:{id:a,title:r.title,alternativeTitles:r.alternativeTitles||[],type:r.type,image:r.image,thumbnail:rc(r.image),description:r.description||"",year:r.year||new Date().getFullYear(),country:r.country||ac(r),status:r.status||"unknown",episodes:r.episodes||0,duration:r.duration||0,rating:r.rating||0,genres:r.genres||[],createdAt:new Date,updatedAt:new Date,popularity:r.popularity||0,watchCount:0,favoriteCount:0},source:s}})}async bulkUpsertContent(e){try{const r=e.map(s=>s.content),a=e.map(s=>s.source);return await this.dbService.bulkPut("contents",r),await this.dbService.bulkPut("sources",a),{contents:r.length,sources:a.length}}catch(r){throw console.error("[ContentDataService] Erreur lors de l'insertion des contenus:",r),r}}async getPopularContent(e="all",r=20){const a=`popular_${e}`,s=this.cache.get(a,"popular");if(s)return s.slice(0,r);try{let u;return e==="all"?u=await this.dbService.getAll("contents",null,{index:"updatedAt",direction:"prev",limit:r}):u=await this.dbService.getAllFromIndex("contents","type",e,{limit:r,direction:"prev"}),this.cache.set(a,u,"popular"),u}catch(u){console.error(`[ContentDataService] Erreur lors de la rcupration des contenus populaires (${e}):`,u);let n;try{return e==="all"?n=await this.scrapingService.getPopular(1):e==="drama"?n=await this.scrapingService.getPopularDramas(1):e==="anime"?n=await this.scrapingService.getPopularAnimes(1):e==="movie"?n=await this.scrapingService.getPopularMovies(1):e==="kshow"&&(n=await this.scrapingService.getPopularKshows(1)),Array.isArray(n)?n:n&&n.data?n.data:[]}catch(i){return console.error(`[ContentDataService] Erreur lors du scraping des contenus populaires (${e}):`,i),[]}}}async refreshContentDetails(){try{console.log("[ContentDataService] Rafrachissement des dtails des contenus populaires...");const e=await this.getPopularContent("all",50),r=[];for(let s=0;s<e.length;s+=5)r.push(e.slice(s,s+5));let a=0;for(const s of r){const u=s.map(i=>this.scrapingService.searchUntilFound(i.title,i.type).then(o=>{if(o){const c=this.normalizeContentData([{...o,id:i.id,type:i.type}]);return this.bulkUpsertContent(c)}return null}).catch(o=>(console.warn(`[ContentDataService] Erreur lors de la rcupration des dtails pour ${i.title}:`,o),null))),n=await Promise.all(u);a+=n.filter(Boolean).length,await new Promise(i=>setTimeout(i,2e3))}return console.log(`[ContentDataService] ${a} contenus mis  jour avec des dtails complets`),typeof window<"u"&&window.dispatchEvent&&window.dispatchEvent(new CustomEvent("flodrama:content-details-updated",{detail:{count:a,timestamp:Date.now()}})),a}catch(e){throw console.error("[ContentDataService] Erreur lors du rafrachissement des dtails:",e),e}}async indexNewContent(){try{console.log("[ContentDataService] Indexation des nouveaux contenus...");const e=await this.scrapingService.getPopularDramas(1),r=await this.scrapingService.getPopularAnimes(1),a=this.normalizeContentData([...e.map(u=>({...u,type:"drama"})),...r.map(u=>({...u,type:"anime"}))]),s=this.categorizer.categorize(a);return await this.bulkUpsertContent(s),console.log(`[ContentDataService] ${s.length} nouveaux contenus indexs`),s.length}catch(e){throw console.error("[ContentDataService] Erreur lors de l'indexation des nouveaux contenus:",e),e}}async searchContent(e,r="all",a={}){const s=`search_${e}_${r}_${JSON.stringify(a)}`,u=this.cache.get(s,"search");if(u)return u;try{const n=await this.scrapingService.searchFast(e,r,a),i=this.normalizeContentData(n);return this.bulkUpsertContent(i).catch(o=>{console.warn("[ContentDataService] Erreur lors de la mise  jour des rsultats de recherche:",o)}),this.cache.set(s,n,"search"),n}catch(n){return console.error(`[ContentDataService] Erreur lors de la recherche (${e}, ${r}):`,n),r==="all"?this.scrapingService.searchAll(e):r==="drama"?this.scrapingService.searchDramas(e):r==="anime"?this.scrapingService.searchAnime(e):[]}}async getContentDetails(e){const r=`details_${e}`,a=this.cache.get(r,"details");if(a)return a;try{const s=await this.dbService.get("contents",e);if(!s)throw new Error(`Contenu non trouv: ${e}`);const u=await this.dbService.getAllFromIndex("sources","contentId",e),n=await this.dbService.getAllFromIndex("contentPersons","contentId",e),i=n.map(d=>d.personId),o=await Promise.all(i.map(d=>this.dbService.get("persons",d))),c={...s,sources:u,persons:o.map(d=>{const f=n.find(h=>h.personId===d.id);return{...d,role:f?f.role:d.role,importance:f?f.importance:0}})};return this.cache.set(r,c,"details"),c}catch(s){if(console.error(`[ContentDataService] Erreur lors de la rcupration des dtails (${e}):`,s),e.includes("-")){const[u,n]=e.split("-"),i=n.replace(/-/g," ");return console.log(`[ContentDataService] Recherche de contenu depuis la source ${u} avec le titre: ${i}`),this.scrapingService.searchUntilFound(i,u)}throw s}}async getSuggestions(e,r=10){const a=`suggestions_${e}_${r}`,s=this.cache.get(a,"suggestions");if(s)return s;try{const u=await this.scrapingService.getSuggestions(e,r);return this.cache.set(a,u,"suggestions"),u}catch(u){console.error(`[ContentDataService] Erreur lors de la rcupration des suggestions (${e}):`,u);try{return(await this.dbService.getAll("contents")).filter(o=>o.title.toLowerCase().startsWith(e.toLowerCase())||o.alternativeTitles.some(c=>c.toLowerCase().startsWith(e.toLowerCase()))).slice(0,r).map(o=>({id:o.id,title:o.title,type:o.type}))}catch(n){return console.error("[ContentDataService] Erreur lors de la recherche de suggestions dans la base de donnes:",n),[]}}}async fetchMetadataFromExternalSources(e){try{const r=e.type||"drama",a=this._getExternalSourceForContentType(r);if(!a)return console.warn(`[ContentDataService] Aucune source externe trouve pour le type: ${r}`),e;const s=`${a.baseUrl}/search?q=${encodeURIComponent(e.title)}`,n=await(await fetch(s)).json();if(!n||!n.results||n.results.length===0)return console.warn(`[ContentDataService] Aucun rsultat trouv pour: ${e.title}`),e;const i=this._findBestMatch(n.results,e.title);if(!i)return console.warn(`[ContentDataService] Pas de correspondance trouve pour: ${e.title}`),e;const o=`${a.baseUrl}/${a.detailsEndpoint}/${i.id}`,d=await(await fetch(o)).json();return d?{...e,externalId:i.id,externalSource:a.name,rating:d.rating||e.rating,genres:d.genres||e.genres,releaseDate:d.releaseDate||e.releaseDate,description:d.overview||e.description,cast:d.cast||e.cast,director:d.director||e.director,duration:d.runtime||e.duration,country:d.country||e.country,language:d.language||e.language,poster:d.poster_path?`${a.imageBaseUrl}${d.poster_path}`:e.poster,backdrop:d.backdrop_path?`${a.imageBaseUrl}${d.backdrop_path}`:e.backdrop,lastUpdated:Date.now()}:(console.warn(`[ContentDataService] Impossible de rcuprer les dtails pour: ${e.title}`),e)}catch(r){return console.error("[ContentDataService] Erreur lors de la rcupration des mtadonnes externes:",r),e}}async storeContentData(e){try{if(!e||!e.id)return console.warn("[ContentDataService] Tentative de stockage d'un contenu sans ID"),null;const r=await this.dbService.getItem("contents",e.id),a=this.normalizeContentItem(e);if(r){const s={...r,...a,lastUpdated:Date.now()};return await this.dbService.updateItem("contents",s),this.cache.set(e.id,s,"details"),console.log(`[ContentDataService] Contenu mis  jour: ${e.id}`),s}else return await this.dbService.addItem("contents",a),this.cache.set(e.id,a,"details"),console.log(`[ContentDataService] Nouveau contenu ajout: ${e.id}`),a}catch(r){return console.error("[ContentDataService] Erreur lors du stockage du contenu:",r),e}}normalizeContentItem(e,r=null){if(!e)return null;const a=e.id||fr(e.title),s=e.image||"",u=rc(s),n=e.country||ac(e),i=r?sc(r):999,o={id:a,title:e.title||"Sans titre",description:e.description||"",type:e.type||"drama",image:s,thumbnail:u,url:e.url||"",country:n,genres:Array.isArray(e.genres)?[...e.genres]:[],source:{name:r||e.source||"unknown",priority:i,url:e.sourceUrl||e.url||""},meta:e.meta||{},lastUpdated:Date.now()};return this.categorizer.categorizeContent(o)}async getContentById(e){try{const r=this.cache.get(e,"details");if(r)return r;const a=await this.dbService.getItem("contents",e);return a?(this.cache.set(e,a,"details"),a):null}catch(r){return console.error(`[ContentDataService] Erreur lors de la rcupration du contenu (${e}):`,r),null}}_findBestMatch(e,r){if(!e||e.length===0)return null;const a=r.toLowerCase().trim(),s=e.find(n=>n.title&&n.title.toLowerCase().trim()===a);if(s)return s;const u=e.filter(n=>n.title&&(n.title.toLowerCase().includes(a)||a.includes(n.title.toLowerCase())));return u.length>0?(u.sort((n,i)=>{const o=this._calculateSimilarity(n.title.toLowerCase(),a);return this._calculateSimilarity(i.title.toLowerCase(),a)-o}),u[0]):e[0]}_calculateSimilarity(e,r){const a=e.length,s=r.length,u=Array(a+1).fill().map(()=>Array(s+1).fill(0));for(let i=0;i<=a;i++)u[i][0]=i;for(let i=0;i<=s;i++)u[0][i]=i;for(let i=1;i<=a;i++)for(let o=1;o<=s;o++){const c=e[i-1]===r[o-1]?0:1;u[i][o]=Math.min(u[i-1][o]+1,u[i][o-1]+1,u[i-1][o-1]+c)}const n=Math.max(a,s);return n>0?1-u[a][s]/n:1}_getExternalSourceForContentType(e){const r={drama:{name:"MyDramaList",baseUrl:"https://api.mydramalist.com/v1",detailsEndpoint:"dramas",imageBaseUrl:"https://i.mydramalist.com",priority:1},movie:{name:"TMDB",baseUrl:"https://api.themoviedb.org/3",detailsEndpoint:"movie",imageBaseUrl:"https://image.tmdb.org/t/p/w500",priority:1},anime:{name:"MyAnimeList",baseUrl:"https://api.myanimelist.net/v2",detailsEndpoint:"anime",imageBaseUrl:"https://cdn.myanimelist.net/images",priority:1},kshow:{name:"KShowOnline",baseUrl:"https://api.kshowonline.com/v1",detailsEndpoint:"shows",imageBaseUrl:"https://i.kshowonline.com",priority:1},default:{name:"MyDramaList",baseUrl:"https://api.mydramalist.com/v1",detailsEndpoint:"dramas",imageBaseUrl:"https://i.mydramalist.com",priority:1}};return r[e]||r.default}}const Vd=new xg;Vd.startPeriodicScraping();const _e=new Map,H={requests:0,hits:0,errors:0,sources:{}};class Dg{constructor(){this.proxyService=Sd,this.fingerprintService=Ed,this.behaviorService=Td,this.adaptiveScraperService=hg,this.searchIndexService=mg,this.contentDataService=Vd,this.sources={voirdrama:{name:"VoirDrama",baseUrl:"https://voirdrama.org",fallbackUrls:["https://voirdrama.cc","https://voirdrama.tv","https://vdrama.org","https://voirdrama.me"],enabled:!0,priority:1,popularUrl:"https://voirdrama.org/drama-list",moviesUrl:"https://voirdrama.org/movie-list",kshowsUrl:"https://voirdrama.org/kshow-list",searchUrl:"https://voirdrama.org/search",transform(e){return{...e,source:"VoirDrama"}}},dramacool:{name:"DramaCool",baseUrl:"https://dramacool.com.tr",fallbackUrls:["https://dramacool.hr","https://dramacool.com.pa","https://dramacool.cy","https://dramacool.sr","https://dramacool.so"],enabled:!0,priority:2,popularUrl:"https://dramacool.com.tr/drama-list",moviesUrl:"https://dramacool.com.tr/movie-list",kshowsUrl:"https://dramacool.com.tr/kshow-list",searchUrl:"https://dramacool.com.tr/search",transform(e){return{...e,source:"DramaCool"}}},voiranime:{name:"VoirAnime",baseUrl:"https://voiranime.com",fallbackUrls:["https://voiranime.org","https://voiranime.to","https://voiranime.tv"],enabled:!0,priority:3,popularUrl:"https://voiranime.com/anime-list",moviesUrl:"https://voiranime.com/movie-list",searchUrl:"https://voiranime.com/search",transform(e){return{...e,source:"VoirAnime"}}},gogoanime:{name:"GogoAnime",baseUrl:"https://gogoanime.tel",fallbackUrls:["https://gogoanime3.net","https://gogoanime.llc","https://gogoanime.bid"],enabled:!0,priority:4,popularUrl:"https://gogoanime.tel/anime-list",moviesUrl:"https://gogoanime.tel/movie-list",searchUrl:"https://gogoanime.tel/search",transform(e){return{...e,source:"GogoAnime"}}},nekosama:{name:"Neko Sama",baseUrl:"https://neko-sama.fr",fallbackUrls:["https://neko-sama.io","https://neko-sama.org"],enabled:!0,priority:2,popularUrl:"https://neko-sama.fr/anime",searchUrl:"https://neko-sama.fr/search",transform(e){return{...e,source:"Neko Sama",type:"anime"}}},animesama:{name:"Anime Sama",baseUrl:"https://anime-sama.fr",fallbackUrls:["https://anime-sama.me","https://anime-sama.org"],enabled:!0,priority:3,popularUrl:"https://anime-sama.fr/catalogue",searchUrl:"https://anime-sama.fr/search",transform(e){return{...e,source:"Anime Sama",type:"anime"}}},asianc:{name:"AsianC",baseUrl:"https://asianc.to",fallbackUrls:["https://asianc.co","https://asianc.cx","https://asianc.cc"],enabled:!0,priority:5,popularUrl:"https://asianc.to/drama-list",moviesUrl:"https://asianc.to/movie-list",searchUrl:"https://asianc.to/search",transform(e){return{...e,source:"AsianC"}}},dramaday:{name:"DramaDay",baseUrl:"http://dramaday.net",fallbackUrls:["https://dramaday.me","https://dramaday.co"],enabled:!0,priority:6,popularUrl:"http://dramaday.net/drama-list",moviesUrl:"http://dramaday.net/movie-list",searchUrl:"http://dramaday.net/search",transform(e){return{...e,source:"DramaDay"}}},mydramalist:{name:"MyDramaList",baseUrl:"https://mydramalist.com",apiPath:"/shows",fallbackUrls:[],enabled:!0,priority:7,popularUrl:"https://mydramalist.com/shows",searchUrl:"https://mydramalist.com/search",transform(e){return{...e,source:"MyDramaList"}}},anbuanime:{name:"AnbuAnime",baseUrl:"https://api.anbuanime.com",apiPath:"/v1/search",fallbackUrls:["https://api.anbuanime.org/v1","https://api.anbuanime.net/v1"],isApi:!0,enabled:!0,priority:8,type:"anime",searchUrl:"https://api.anbuanime.com/v1/search",transform(e){return{...e,source:"AnbuAnime"}}},anichin:{name:"AniChin",baseUrl:"https://api.anichin.com",apiPath:"/anime/search",fallbackUrls:[],isApi:!0,enabled:!0,priority:15,type:"anime",searchUrl:"https://api.anichin.com/anime/search",transform(e){return{...e,source:"AniChin"}}},jikan:{name:"Jikan",baseUrl:"https://api.jikan.moe/v4",apiPath:"/anime",fallbackUrls:[],isApi:!0,enabled:!0,priority:16,type:"anime",searchUrl:"https://api.jikan.moe/v4/anime",transform(e){return{...e,source:"MyAnimeList"}}},tmdb:{name:"TMDB",baseUrl:"https://api.themoviedb.org/3",apiPath:"/search/multi",fallbackUrls:[],isApi:!0,enabled:!0,priority:17,searchUrl:"https://api.themoviedb.org/3/search/multi",transform(e){return{...e,source:"TMDB"}}},bollywoodmdb:{name:"BollywoodMDB",baseUrl:"https://www.bollywoodmdb.com",fallbackUrls:["https://bollywoodmdb.com"],enabled:!0,priority:3,popularUrl:"https://www.bollywoodmdb.com/movies",searchUrl:"https://www.bollywoodmdb.com/search",transform(e){return{...e,source:"BollywoodMDB",type:"movie",country:"Inde"}}},voiranime6:{name:"VoirAnime6",baseUrl:"https://v6.voiranime.com",fallbackUrls:["https://v6.voiranime.org","https://v6.voiranime.to","https://v6.voiranime.tv"],enabled:!0,priority:2,type:"anime",popularUrl:"https://v6.voiranime.com/anime-list",moviesUrl:"https://v6.voiranime.com/movie-list",searchUrl:"https://v6.voiranime.com/search",transform(e){return{...e,source:"VoirAnime6"}}},dramafrance:{name:"DramaFrance",baseUrl:"https://dramafrance.org",fallbackUrls:["https://dramafrance.tv","https://dramafrance.me"],enabled:!0,priority:9,popularUrl:"https://dramafrance.org/drama-list",searchUrl:"https://dramafrance.org/search",transform(e){return{...e,source:"DramaFrance"}}},zee5bollywood:{name:"Zee5Bollywood",baseUrl:"https://www.zee5.com",apiPath:"/collections/free-bollywood-movies/0-8-2429",fallbackUrls:[],enabled:!0,priority:11,popularUrl:"https://www.zee5.com/collections/free-bollywood-movies/0-8-2429",searchUrl:"https://www.zee5.com/search",transform(e){return{...e,source:"Zee5Bollywood"}}},hotstarbollywood:{name:"HotstarBollywood",baseUrl:"https://www.hotstar.com",apiPath:"/movies",fallbackUrls:[],enabled:!0,priority:12,popularUrl:"https://www.hotstar.com/movies",searchUrl:"https://www.hotstar.com/search",transform(e){return{...e,source:"HotstarBollywood"}}},anigo:{name:"Anigo",baseUrl:"https://api.anigo.org/v1",apiPath:"/search",fallbackUrls:["https://api.anigo.io/v1","https://api.anigo.net/v1"],isApi:!0,enabled:!0,priority:13,type:"anime",searchUrl:"https://api.anigo.org/v1/search",transform:e=>({id:`anigo-${e.id||Math.random().toString(36).substring(2,10)}`,title:e.title,alternativeTitles:e.alternativeTitles||e.otherTitles||[],link:e.url||"",image:e.image||"",source:"Anigo",type:"anime",year:e.year||new Date().getFullYear(),country:"Japon"})}},this.bypassStrategies=[{name:"standard",description:"Utilise des en-ttes HTTP standards avec rotation d'User-Agent",priority:1},{name:"advanced",description:"Utilise une empreinte digitale complte de navigateur avec comportement humain",priority:2},{name:"cloudflare",description:"Stratgie spcifique pour contourner Cloudflare",priority:3}],this._indexationWorker=null,this._initIndexationWorker()}_initIndexationWorker(){if(typeof Worker<"u"&&typeof window<"u")try{this._indexationWorker=new Worker("/workers/IndexationWorker.js"),this._indexationWorker.onmessage=e=>{const{type:r,result:a,error:s,status:u}=e.data;r==="error"?console.error("[SmartScrapingService] Erreur du worker d'indexation:",s):r==="indexing_complete"||r==="background_indexing_complete"?(console.log("[SmartScrapingService] Indexation termine:",a),typeof window<"u"&&window.dispatchEvent&&window.dispatchEvent(new CustomEvent("flodrama:indexation-complete",{detail:{timestamp:Date.now(),result:a}}))):r==="status"&&console.log("[SmartScrapingService] Statut du worker:",u)},console.log("[SmartScrapingService] Worker d'indexation initialis avec succs")}catch(e){console.error("[SmartScrapingService] Erreur lors de l'initialisation du worker d'indexation:",e),this._indexationWorker=null}else console.warn("[SmartScrapingService] Les Web Workers ne sont pas supports dans cet environnement")}async getPopular(e=1){const r=`popular_${e}`;if(_e.has(r)){const{data:a,timestamp:s}=_e.get(r);if(Date.now()-s<6*60*60*1e3)return H.hits++,a}H.misses++,H.requests++;try{const a=this._getBestSource("popular"),s=a.popularUrl;console.log(`[SmartScrapingService] Rcupration des lments populaires depuis ${a.name}`);const u=await this.adaptiveScraperService.scrapeWithPagination(s,e),n=await Promise.all(u.map(async i=>{const o=qr(i),c=a.transform?a.transform(i):i,d=`${a.name.toLowerCase()}-${fr(i.title)}`,f={...c,...o,id:d};return await this.contentDataService.storeContentData(f),f}));return _e.set(r,{data:n,timestamp:Date.now()}),H.sources[a.name]||(H.sources[a.name]={requests:0,success:0,errors:0}),H.sources[a.name].requests++,H.sources[a.name].success++,n}catch(a){console.error("[SmartScrapingService] Erreur lors de la rcupration des lments populaires:",a),H.errors++;try{const s=this._getFallbackSource("popular");console.log(`[SmartScrapingService] Tentative avec une source alternative: ${s.name}`);const u=s.popularUrl,n=await this.adaptiveScraperService.scrapeWithPagination(u,e),i=await Promise.all(n.map(async o=>{const c=qr(o),d=s.transform?s.transform(o):o,f=`${s.name.toLowerCase()}-${fr(o.title)}`,h={...d,...c,id:f};return await this.contentDataService.storeContentData(h),h}));return _e.set(r,{data:i,timestamp:Date.now()}),H.sources[s.name]||(H.sources[s.name]={requests:0,success:0,errors:0}),H.sources[s.name].requests++,H.sources[s.name].success++,i}catch(s){return console.error("[SmartScrapingService] chec de la source alternative:",s),H.errors++,[]}}}async getPopularMovies(e=1){const r=`popular_movies_${e}`;if(_e.has(r)){const{data:a,timestamp:s}=_e.get(r);if(Date.now()-s<6*60*60*1e3)return H.hits++,a}H.misses++,H.requests++;try{const a=this._getBestSource("movies"),s=a.moviesUrl;console.log(`[SmartScrapingService] Rcupration des films populaires depuis ${a.name}`);const u=await this.adaptiveScraperService.scrapeWithPagination(s,e),n=await Promise.all(u.map(async i=>{const o=qr(i),c=a.transform?a.transform(i):i,d=`${a.name.toLowerCase()}-${fr(i.title)}`,f={...c,...o,id:d,type:"movie"};return await this.contentDataService.storeContentData(f),f}));return _e.set(r,{data:n,timestamp:Date.now()}),H.sources[a.name]||(H.sources[a.name]={requests:0,success:0,errors:0}),H.sources[a.name].requests++,H.sources[a.name].success++,n}catch(a){console.error("[SmartScrapingService] Erreur lors de la rcupration des films populaires:",a),H.errors++;try{const s=this._getFallbackSource("movies");console.log(`[SmartScrapingService] Tentative avec une source alternative: ${s.name}`);const u=s.moviesUrl,n=await this.adaptiveScraperService.scrapeWithPagination(u,e),i=await Promise.all(n.map(async o=>{const c=qr(o),d=s.transform?s.transform(o):o,f=`${s.name.toLowerCase()}-${fr(o.title)}`,h={...d,...c,id:f,type:"movie"};return await this.contentDataService.storeContentData(h),h}));return _e.set(r,{data:i,timestamp:Date.now()}),H.sources[s.name]||(H.sources[s.name]={requests:0,success:0,errors:0}),H.sources[s.name].requests++,H.sources[s.name].success++,i}catch(s){return console.error("[SmartScrapingService] chec de la source alternative:",s),H.errors++,[]}}}async getPopularKshows(e=1){const r=`popular_kshows_${e}`,a=this.getFromCache(r);if(a)return a;const s=this._getBestSource(),u=this.sources[s].kshowsUrl;try{const n=await this.adaptiveScraperService.scrapeWithPagination(u,e);return this.updateSourceStats(s,!0),this._indexItemsAsync(n),this.saveToCache(r,n),n}catch(n){this.updateSourceStats(s,!1);const i=this._getAlternativeSource(s);if(i){console.log(`chec avec la source ${s}, tentative avec ${i}`);const o=this.sources[i].kshowsUrl;try{const c=await this.adaptiveScraperService.scrapeWithPagination(o,e);return this.updateSourceStats(i,!0),this._indexItemsAsync(c),this.saveToCache(r,c),c}catch(c){throw this.updateSourceStats(i,!1),console.error("chec avec toutes les sources:",c),new Error("Impossible de rcuprer les K-shows populaires")}}throw console.error("Erreur lors de la rcupration des K-shows populaires:",n),n}}async searchDramas(e){const r=`search_dramas_${e}`,a=this.getFromCache(r);if(a)return a;const s=this._getBestSource(),n=`${this.sources[s].searchUrl}?keyword=${encodeURIComponent(e)}`;try{const i=await this.adaptiveScraperService.scrapeUrl(n);return this.updateSourceStats(s,!0),this._indexItemsAsync(i),this.saveToCache(r,i),i}catch(i){this.updateSourceStats(s,!1);const o=this._getAlternativeSource(s);if(o){console.log(`chec avec la source ${s}, tentative avec ${o}`);const d=`${this.sources[o].searchUrl}?keyword=${encodeURIComponent(e)}`;try{const f=await this.adaptiveScraperService.scrapeUrl(d);return this.updateSourceStats(o,!0),this._indexItemsAsync(f),this.saveToCache(r,f),f}catch(f){throw this.updateSourceStats(o,!1),console.error("chec avec toutes les sources:",f),new Error("Impossible de rechercher des dramas")}}throw console.error("Erreur lors de la recherche de dramas:",i),i}}async searchAnime(e){const r=`search_anime_${e}`,a=this.getFromCache(r);if(a)return a;const s=Object.keys(this.sources).filter(i=>this.sources[i].type==="anime").sort((i,o)=>this.sources[i].priority-this.sources[o].priority);if(s.length===0)return[];const u=[],n=[];for(const i of s){const o=this.sources[i];try{let c=[];if(o.isApi){const d=`${o.baseUrl}${o.apiPath}?q=${encodeURIComponent(e)}`,h=await(await this.proxyService.fetch(d,{headers:this.fingerprintService.getHeaders()})).json();Array.isArray(h)?c=h.map(o.transform):h.data&&Array.isArray(h.data)?c=h.data.map(o.transform):h.results&&Array.isArray(h.results)&&(c=h.results.map(o.transform))}else{const d=`${o.searchUrl}?keyword=${encodeURIComponent(e)}`;c=await this.adaptiveScraperService.scrapeUrl(d)}this.updateSourceStats(i,!0),u.push(...c)}catch(c){this.updateSourceStats(i,!1),n.push(`${i}: ${c.message}`)}}if(u.length===0&&n.length===s.length)throw console.error("Toutes les sources ont chou:",n),new Error("Impossible de rechercher des anims");return this._indexItemsAsync(u),this.saveToCache(r,u),u}async searchAll(e){const r=`search_all_${e}`,a=this.getFromCache(r);if(a)return a;try{const[s,u,n]=await Promise.allSettled([this.searchDramas(e),this.searchAnime(e),this.getPopularMovies()]),i={dramas:s.status==="fulfilled"?s.value:[],animes:u.status==="fulfilled"?u.value:[],movies:n.status==="fulfilled"?n.value.filter(o=>o.title&&o.title.toLowerCase().includes(e.toLowerCase())):[]};return this._indexItemsAsync([...i.dramas,...i.animes,...i.movies]),this.saveToCache(r,i),i}catch(s){throw console.error("Erreur lors de la recherche multi-source:",s),s}}async getPopularDramas(e=1){return this.getPopular(e)}async getPopularAnimes(e=1){const r=`popular_animes_${e}`,a=this.getFromCache(r);if(a)return a;const s=Object.keys(this.sources).filter(i=>this.sources[i].type==="anime"&&this.sources[i].popularUrl).sort((i,o)=>this.sources[i].priority-this.sources[o].priority);if(s.length===0)return this.getPopular(e);const u=s[0],n=this.sources[u].popularUrl;try{const i=await this.adaptiveScraperService.scrapeWithPagination(n,e);return this.updateSourceStats(u,!0),this._indexItemsAsync(i),this.saveToCache(r,i),i}catch(i){if(this.updateSourceStats(u,!1),s.length>1){const o=s[1];console.log(`chec avec la source ${u}, tentative avec ${o}`);const c=this.sources[o].popularUrl;try{const d=await this.adaptiveScraperService.scrapeWithPagination(c,e);return this.updateSourceStats(o,!0),this._indexItemsAsync(d),this.saveToCache(r,d),d}catch(d){throw this.updateSourceStats(o,!1),console.error("chec avec toutes les sources d'anime:",d),new Error("Impossible de rcuprer les anims populaires")}}throw console.error("Erreur lors de la rcupration des anims populaires:",i),i}}async getContentDetails(e){try{const r=await this.contentDataService.getContentById(e);if(r&&r.details)return console.log(`[SmartScrapingService] Dtails du contenu rcuprs depuis le cache: ${e}`),r;const a=e.split("-")[0],s=this.sources[a]||this._getBestSource(),u=s.getDetailUrl?s.getDetailUrl(e):null;if(!u)return console.warn(`[SmartScrapingService] Impossible de construire l'URL de dtail pour ${e}`),null;const n=await this.adaptiveScraperService.scrapeDetails(u),i=qr(n),o={...n,...i,id:e,source:a,lastUpdated:Date.now()};return await this.contentDataService.storeContentData(o),o}catch(r){return console.error(`[SmartScrapingService] Erreur lors de la rcupration des dtails pour ${e}:`,r),null}}_getBestSource(e="popular"){const a=Object.entries(this.sources).map(([s,u])=>{const n=H.sources[s]||{requests:0,success:0},i=n.requests>0?n.success/n.requests:0,o=!!u[`${e}Url`];return{name:s,source:u,successRate:i,supportsContentType:o,priority:u.priority||0}}).filter(s=>s.supportsContentType);return a.length===0?(console.warn(`[SmartScrapingService] Aucune source ne supporte le type de contenu '${e}'`),this.sources[Object.keys(this.sources)[0]]):(a.sort((s,u)=>u.priority!==s.priority?u.priority-s.priority:u.successRate-s.successRate),a[0].source)}_getFallbackSource(e="popular",r=null){const s=Object.entries(this.sources).filter(([u,n])=>u!==r).map(([u,n])=>{const i=H.sources[u]||{requests:0,success:0},o=i.requests>0?i.success/i.requests:0,c=!!n[`${e}Url`];return{name:u,source:n,successRate:o,supportsContentType:c,priority:n.priority||0}}).filter(u=>u.supportsContentType);if(s.length===0){console.warn(`[SmartScrapingService] Aucune source alternative ne supporte le type de contenu '${e}'`);const u=Object.entries(this.sources).find(([n,i])=>n!==r);return u?u[1]:null}return s.sort((u,n)=>n.priority!==u.priority?n.priority-u.priority:n.successRate-u.successRate),s[0].source}updateSourceStats(e,r){const a=H.sources[e]||{success:0,failure:0,errors:0};r?(a.success++,a.lastSuccess=Date.now()):a.failure++,H.sources[e]=a}getFromCache(e){if(!_e.has(e))return null;const{timestamp:r,data:a}=_e.get(e),s=Date.now(),u=r+30*60*1e3;return s>u?(_e.delete(e),null):a}saveToCache(e,r){_e.set(e,{timestamp:Date.now(),data:r})}clearCache(){_e.clear()}getSourceStats(){const e={};for(const[r,a]of H.sources.entries())e[r]={...a,successRate:a.success/(a.success+a.failure||1)*100};return e}startDailyBackgroundScraping(){if(this._backgroundScrapingInterval)return console.log("Le scraping priodique est dj en cours"),{stop:()=>this.stopBackgroundScraping()};console.log("Dmarrage du scraping priodique (quotidien)"),this._runBackgroundScraping();const e=24*60*60*1e3;return this._backgroundScrapingInterval=setInterval(()=>{this._runBackgroundScraping()},e),{stop:()=>this.stopBackgroundScraping()}}stopBackgroundScraping(){this._backgroundScrapingInterval&&(clearInterval(this._backgroundScrapingInterval),this._backgroundScrapingInterval=null,console.log("Arrt du scraping priodique"))}async _runBackgroundScraping(){console.log(`Excution du scraping en arrire-plan: ${new Date().toISOString()}`);try{if(this._indexationWorker)return this._indexationWorker.postMessage({type:"run_background_indexing"}),{success:!0,delegated:!0};const[e,r,a,s,u]=await Promise.allSettled([this.getPopular(3),this.getPopularMovies(3),this.getPopularKshows(2),this.getPopularAnimes(3),this.getPopularDramas(3)]),n=[...e.status==="fulfilled"?e.value:[],...r.status==="fulfilled"?r.value:[],...a.status==="fulfilled"?a.value:[],...s.status==="fulfilled"?s.value:[],...u.status==="fulfilled"?u.value:[]],i=Array.from(new Map(n.map(c=>[c.id||c.title,c])).values());console.log(`Indexation de ${i.length} lments uniques...`);const o=await this.searchIndexService.indexItems(i);return console.log("Indexation complte termine:",o),{...o,itemCounts:{popular:e.status==="fulfilled"?e.value.length:0,movies:r.status==="fulfilled"?r.value.length:0,kshows:a.status==="fulfilled"?a.value.length:0,animes:s.status==="fulfilled"?s.value.length:0,dramas:u.status==="fulfilled"?u.value.length:0,total:i.length}}}catch(e){return console.error("Erreur lors du scraping en arrire-plan:",e),{error:e.message}}}async searchUntilFound(e,r="all"){const a=`search_until_found_${r}_${e}`,s=this.getFromCache(a);if(s)return s;let u;if(r==="anime"?u=Object.keys(this.sources).filter(n=>this.sources[n].type==="anime").sort((n,i)=>this.sources[n].priority-this.sources[i].priority):r==="drama"?u=Object.keys(this.sources).filter(n=>!this.sources[n].type||this.sources[n].type==="drama").sort((n,i)=>this.sources[n].priority-this.sources[i].priority):r==="movie"?u=Object.keys(this.sources).filter(n=>this.sources[n].moviesUrl).sort((n,i)=>this.sources[n].priority-this.sources[i].priority):u=Object.keys(this.sources).sort((n,i)=>this.sources[n].priority-this.sources[i].priority),u.length===0)return null;for(const n of u){const i=this.sources[n];try{let o=[];if(i.isApi){const c=`${i.baseUrl}${i.apiPath}?q=${encodeURIComponent(e)}`,f=await(await this.proxyService.fetch(c,{headers:this.fingerprintService.getHeaders()})).json();Array.isArray(f)?o=f.map(i.transform):f.data&&Array.isArray(f.data)?o=f.data.map(i.transform):f.results&&Array.isArray(f.results)&&(o=f.results.map(i.transform))}else{const c=`${i.searchUrl}?keyword=${encodeURIComponent(e)}`;o=await this.adaptiveScraperService.scrapeUrl(c)}if(this.updateSourceStats(n,!0),o&&o.length>0)return this._indexItemsAsync(o),this.saveToCache(a,o[0]),o[0]}catch(o){this.updateSourceStats(n,!1),console.log(`Erreur avec la source ${n}:`,o.message)}}return null}async searchFast(e,r="all",a={}){console.time("search_fast");const s=await this.searchIndexService.searchFast(e,r,a);if(s.length===0){console.log(`Aucun rsultat trouv dans l'index pour "${e}", utilisation du scraping traditionnel`);let u;if(r==="anime")u=await this.searchAnime(e);else if(r==="drama")u=await this.searchDramas(e);else if(r==="movie"){const n=Object.keys(this.sources).filter(i=>this.sources[i].moviesUrl).sort((i,o)=>this.sources[i].priority-this.sources[o].priority);if(n.length>0){const i=n[0],o=this.sources[i];try{const c=`${o.searchUrl}?keyword=${encodeURIComponent(e)}`;u=await this.adaptiveScraperService.scrapeUrl(c),this.updateSourceStats(i,!0)}catch(c){console.error("Erreur lors de la recherche de films:",c),u=[]}}}else u=await this.searchAll(e);return u&&u.length>0&&this._indexItemsAsync(u),console.timeEnd("search_fast"),u||[]}return console.timeEnd("search_fast"),s}async getSuggestions(e,r=10){return this.searchIndexService.getSuggestions(e,r)}async getAllTitlesForAutocomplete(){return this.searchIndexService.getAllTitlesForAutocomplete()}async checkSearchServices(){return{...await this.searchIndexService.healthCheck(),worker:!!this._indexationWorker,scraping:!!this._backgroundScrapingInterval,sources:Object.keys(this.sources).length,enabledSources:Object.keys(this.sources).filter(r=>this.sources[r].enabled).length}}async forceFullIndexation(){console.log("Dmarrage de l'indexation complte...");try{const[e,r,a,s,u]=await Promise.allSettled([this.getPopular(3),this.getPopularMovies(3),this.getPopularKshows(2),this.getPopularAnimes(3),this.getPopularDramas(3)]),n=[...e.status==="fulfilled"?e.value:[],...r.status==="fulfilled"?r.value:[],...a.status==="fulfilled"?a.value:[],...s.status==="fulfilled"?s.value:[],...u.status==="fulfilled"?u.value:[]],i=Array.from(new Map(n.map(c=>[c.id||c.title,c])).values());console.log(`Indexation de ${i.length} lments uniques...`);const o=await this.searchIndexService.indexItems(i);return console.log("Indexation complte termine:",o),{...o,itemCounts:{popular:e.status==="fulfilled"?e.value.length:0,movies:r.status==="fulfilled"?r.value.length:0,kshows:a.status==="fulfilled"?a.value.length:0,animes:s.status==="fulfilled"?s.value.length:0,dramas:u.status==="fulfilled"?u.value.length:0,total:i.length}}}catch(e){return console.error("Erreur lors de l'indexation complte:",e),{error:e.message,success:!1}}}getBestSource(e="popular"){const a=Object.entries(this.sources).map(([s,u])=>{const n=H.sources[s]||{requests:0,success:0},i=n.requests>0?n.success/n.requests:0,o=!!u[`${e}Url`];return{name:s,source:u,successRate:i,supportsContentType:o,priority:u.priority||0}}).filter(s=>s.supportsContentType);return a.length===0?(console.warn(`[SmartScrapingService] Aucune source ne supporte le type de contenu '${e}'`),this.sources[Object.keys(this.sources)[0]]):(a.sort((s,u)=>u.priority!==s.priority?u.priority-s.priority:u.successRate-s.successRate),a[0].source)}getFallbackSource(e="popular",r=null){const s=Object.entries(this.sources).filter(([u,n])=>u!==r).map(([u,n])=>{const i=H.sources[u]||{requests:0,success:0},o=i.requests>0?i.success/i.requests:0,c=!!n[`${e}Url`];return{name:u,source:n,successRate:o,supportsContentType:c,priority:n.priority||0}}).filter(u=>u.supportsContentType);if(s.length===0){console.warn(`[SmartScrapingService] Aucune source alternative ne supporte le type de contenu '${e}'`);const u=Object.entries(this.sources).find(([n,i])=>n!==r);return u?u[1]:null}return s.sort((u,n)=>n.priority!==u.priority?n.priority-u.priority:n.successRate-u.successRate),s[0].source}getStats(){const e=H.requests>0?H.hits/H.requests*100:0;return{...H,hitRate:`${e.toFixed(2)}%`,timestamp:Date.now()}}resetStats(){Object.keys(H).forEach(e=>{e==="sources"?H.sources={}:H[e]=0}),console.log("[SmartScrapingService] Statistiques rinitialises")}}const Ne=new Dg,nc=G.div`
  position: relative;
  width: 100%;
  overflow: hidden;
  border-radius: 8px;
  margin-bottom: 2rem;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
`,uc=G.h2`
  font-size: 1.5rem;
  margin-bottom: 1rem;
  color: #fff;
  font-weight: 600;
`,wg=G.div`
  display: flex;
  flex-wrap: nowrap;
  transition: transform 0.5s ease;
`,Ag=G.div`
  display: flex;
  flex-wrap: nowrap;
  gap: 1rem;
  width: 100%;
  padding: 1rem;
`,Cg=G.div`
  flex: 0 0 auto;
  width: 180px;
  margin-right: 1rem;
  border-radius: 8px;
  overflow: hidden;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  background-color: #1a1a1a;
  
  &:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
  }
`,Sg=G.img`
  width: 100%;
  height: 250px;
  object-fit: cover;
  border-radius: 8px 8px 0 0;
`,Eg=G.h3`
  font-size: 0.9rem;
  padding: 0.5rem;
  margin: 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  color: #fff;
`,Tg=G.div`
  position: absolute;
  top: 50%;
  width: 100%;
  display: flex;
  justify-content: space-between;
  transform: translateY(-50%);
  z-index: 10;
`,ic=G.button`
  background-color: rgba(0, 0, 0, 0.5);
  color: white;
  border: none;
  border-radius: 50%;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  margin: 0 10px;
  
  &:hover {
    background-color: rgba(0, 0, 0, 0.8);
  }
`,jg=G.div`
  display: flex;
  justify-content: center;
  align-items: center;
  height: 200px;
  color: #fff;
`,_r=({title:t,dataSource:e,refreshInterval:r=5e3})=>{const[a,s]=C.useState([]),[u,n]=C.useState(!0),[i,o]=C.useState(0),[c,d]=C.useState(0),f=6,h=C.useCallback(async()=>{n(!0);try{let x;switch(e){case"popular":x=await Ne.getPopular();break;case"movies":x=await Ne.getPopularMovies();break;case"kshows":x=await Ne.getPopularKshows();break;case"latest":const y=await Ne.getPopular(),g=await Ne.getPopularMovies(),v=Array.isArray(y)?y:y&&y.data?y.data:[],D=Array.isArray(g)?g:g&&g.data?g.data:[];x=[...v,...D].sort(()=>Math.random()-.5).slice(0,20);break;default:x=await Ne.getPopular()}const A=[...Array.isArray(x)?x:x&&x.data?x.data:[]].sort(()=>Math.random()-.5);s(A),d(Math.ceil(A.length/f))}catch(x){console.error("Erreur lors de la rcupration des donnes pour le carrousel:",x)}finally{n(!1)}},[e]);C.useEffect(()=>{h()},[h]),C.useEffect(()=>{if(c<=1)return;const x=setInterval(()=>{o(E=>(E+1)%c)},r);return()=>clearInterval(x)},[c,r]);const p=()=>{o(x=>(x-1+c)%c)},m=()=>{o(x=>(x+1)%c)},b=a.slice(i*f,(i+1)*f);return u?l.jsxs("div",{children:[l.jsx(uc,{children:t}),l.jsx(nc,{children:l.jsx(jg,{children:"Chargement des contenus..."})})]}):a.length===0?null:l.jsxs("div",{children:[l.jsx(uc,{children:t}),l.jsxs(nc,{children:[l.jsx(wg,{children:l.jsx(Ag,{children:b.map((x,E)=>l.jsx(ke,{to:`/detail/${x.source.toLowerCase()}/${x.id}`,style:{textDecoration:"none"},children:l.jsxs(Cg,{children:[l.jsx(Sg,{src:x.image||ra("images/placeholder.jpg"),alt:x.title,onError:A=>{A.target.onerror=null,A.target.src=ra("images/placeholder.jpg")}}),l.jsx(Eg,{children:x.title})]})},`${x.id}-${E}`))})}),c>1&&l.jsxs(Tg,{children:[l.jsx(ic,{onClick:p,children:"<"}),l.jsx(ic,{onClick:m,children:">"})]})]})]})},kg=()=>{const{isLoading:t,error:e,getFeaturedItems:r,getTrendingItems:a,getRecommendedItems:s,getAllItems:u}=Kl(),[n,i]=C.useState(null),[o,c]=C.useState({nouveautes:{title:"Nouveauts",items:[]},tendances:{title:"Tendances",items:[]},recommandes:{title:"Recommands pour vous",items:[]},dramas:{title:"Dramas",items:[]},movies:{title:"Films",items:[]},anime:{title:"Anime",items:[]},romance:{title:"Romance",items:[]}});C.useEffect(()=>{if(t||e)return;const h=r();h.length>0&&i(h[0]);const p=u(),m=p.filter(A=>A.type==="drama"),b=p.filter(A=>A.type==="movie"),x=p.filter(A=>A.type==="anime"),E=p.filter(A=>{var y;return(y=A.genres)==null?void 0:y.includes("Romance")}).slice(0,8);c({nouveautes:{title:"Nouveauts",subtitle:"Les dernires sorties ajoutes  FloDrama",items:r()},tendances:{title:"Tendances",subtitle:"Ce que tout le monde regarde en ce moment",items:a()},recommandes:{title:"Recommands pour vous",subtitle:"Slectionns selon vos prfrences",items:s()},dramas:{title:"Dramas",subtitle:"Sries dramatiques asiatiques",items:m},movies:{title:"Films",subtitle:"Longs mtrages  dcouvrir",items:b},anime:{title:"Anime",subtitle:"Animation japonaise de qualit",items:x},romance:{title:"Romance",subtitle:"Des histoires d'amour qui vous toucheront",items:E}})},[t,e,r,a,s,u]);const d={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.3,delayChildren:.2}}},f={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};return t?l.jsx("div",{className:"flex flex-col min-h-screen bg-gray-900",children:l.jsx("div",{className:"flex-1 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 border-4 border-fuchsia-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),l.jsx("p",{className:"text-white text-lg",children:"Chargement des contenus..."})]})})}):e?l.jsx("div",{className:"flex flex-col min-h-screen bg-gray-900",children:l.jsx("div",{className:"flex-1 flex items-center justify-center",children:l.jsxs("div",{className:"text-center max-w-lg px-4",children:[l.jsx("h2",{className:"text-2xl font-bold text-fuchsia-500 mb-4",children:"Oups, une erreur s'est produite"}),l.jsx("p",{className:"text-white mb-6",children:"Nous n'avons pas pu charger les contenus. Veuillez ressayer ultrieurement."}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-fuchsia-500 text-white rounded-lg hover:bg-fuchsia-600 transition-colors",children:"Rafrachir la page"})]})})}):l.jsx("div",{className:"flex flex-col min-h-screen bg-black",children:l.jsxs("main",{className:"flex-1",children:[n&&l.jsx(dm,{item:n}),l.jsxs(I.div,{className:"pt-8 pb-16",initial:"hidden",animate:"visible",variants:d,children:[l.jsx(I.div,{variants:f,children:l.jsx(_r,{title:" dcouvrir sur FloDrama",dataSource:"latest",refreshInterval:5e3})}),o.nouveautes.items.length>0&&l.jsx(I.div,{variants:f,children:l.jsx(Nt,{title:o.nouveautes.title,items:o.nouveautes.items,size:"md"})}),l.jsx(I.div,{variants:f,children:l.jsx(_r,{title:"Films Populaires",dataSource:"movies",refreshInterval:5e3})}),o.tendances.items.length>0&&l.jsx(I.div,{variants:f,children:l.jsx(Nt,{title:o.tendances.title,items:o.tendances.items,size:"md"})}),l.jsx(I.div,{variants:f,children:l.jsx(_r,{title:"K-Shows Populaires",dataSource:"kshows",refreshInterval:5e3})}),o.recommandes.items.length>0&&l.jsx(I.div,{variants:f,children:l.jsx(Nt,{title:o.recommandes.title,items:o.recommandes.items,size:"lg"})}),o.dramas.items.length>0&&l.jsx(I.div,{variants:f,children:l.jsx(Nt,{title:o.dramas.title,items:o.dramas.items,size:"md"})}),o.movies.items.length>0&&l.jsx(I.div,{variants:f,children:l.jsx(Nt,{title:o.movies.title,items:o.movies.items,size:"md"})}),o.anime.items.length>0&&l.jsx(I.div,{variants:f,children:l.jsx(Nt,{title:o.anime.title,items:o.anime.items,size:"md"})}),o.romance.items.length>0&&l.jsx(I.div,{variants:f,children:l.jsx(Nt,{title:o.romance.title,items:o.romance.items,size:"md"})}),l.jsx(I.div,{variants:f,children:l.jsx(_r,{title:"Anims Populaires",dataSource:"anime",refreshInterval:5e3})}),l.jsx(I.div,{variants:f,children:l.jsx(_r,{title:"Bollywood Populaires",dataSource:"bollywood",refreshInterval:5e3})})]})]})})},Z=({children:t,type:e="fade",duration:r=.5,direction:a="up"})=>{const u=(()=>{const o={up:{y:50,x:0},down:{y:-50,x:0},left:{x:50,y:0},right:{x:-50,y:0}},c={initial:{opacity:0},in:{opacity:1},out:{opacity:0}},d={initial:{opacity:0,...o[a]},in:{opacity:1,x:0,y:0},out:{opacity:0,...o[a]}},f={initial:{opacity:0,scale:a==="up"?.8:1.2},in:{opacity:1,scale:1},out:{opacity:0,scale:a==="up"?1.2:.8}};switch(e){case"slide":return d;case"scale":return f;case"fade":default:return c}})(),n={type:"tween",ease:"easeInOut",duration:r};return l.jsx(I.div,{initial:"initial",animate:"in",exit:"out",variants:u,transition:n,className:"w-full h-full",children:t})};Z.propTypes={children:Ut.node.isRequired,type:Ut.oneOf(["fade","slide","scale"]),duration:Ut.number,direction:Ut.oneOf(["up","down","left","right"])};const Ng=()=>{const{category:t}=wc(),[e,r]=C.useState([]),[a,s]=C.useState(!0);return C.useEffect(()=>{(async()=>{try{setTimeout(()=>{r([{id:1,title:"Crash Landing on You",image:"/placeholder/drama1.jpg"},{id:2,title:"Itaewon Class",image:"/placeholder/drama2.jpg"},{id:3,title:"Goblin",image:"/placeholder/drama3.jpg"},{id:4,title:"Descendants of the Sun",image:"/placeholder/drama4.jpg"}]),s(!1)},1e3)}catch(n){console.error("Erreur lors du chargement des dramas:",n),s(!1)}})()},[t]),l.jsx(Z,{children:l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsx("h1",{className:"text-3xl font-bold mb-6",children:t?`Dramas - ${t}`:"Tous les dramas"}),a?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:e.map(u=>l.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden shadow-lg transition-transform duration-300 hover:scale-105",children:[l.jsx("div",{className:"aspect-w-16 aspect-h-9 bg-gray-700",children:l.jsx("img",{src:u.image,alt:u.title,className:"object-cover w-full h-full",onError:n=>{n.target.onerror=null,n.target.src="/placeholder/default.jpg"}})}),l.jsxs("div",{className:"p-4",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:u.title}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-gray-400",children:"Drama"}),l.jsx("button",{className:"text-blue-500 hover:text-blue-400",children:"Voir plus"})]})]})]},u.id))})]})})},Pg=()=>{const{genre:t}=wc(),[e,r]=C.useState([]),[a,s]=C.useState(!0);return C.useEffect(()=>{(async()=>{try{setTimeout(()=>{r([{id:1,title:"Parasite",image:"/placeholder/movie1.jpg"},{id:2,title:"Train to Busan",image:"/placeholder/movie2.jpg"},{id:3,title:"The Handmaiden",image:"/placeholder/movie3.jpg"},{id:4,title:"Oldboy",image:"/placeholder/movie4.jpg"}]),s(!1)},1e3)}catch(n){console.error("Erreur lors du chargement des films:",n),s(!1)}})()},[t]),l.jsx(Z,{children:l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsx("h1",{className:"text-3xl font-bold mb-6",children:t?`Films - ${t}`:"Tous les films"}),a?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:e.map(u=>l.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden shadow-lg transition-transform duration-300 hover:scale-105",children:[l.jsx("div",{className:"aspect-w-16 aspect-h-9 bg-gray-700",children:l.jsx("img",{src:u.image,alt:u.title,className:"object-cover w-full h-full",onError:n=>{n.target.onerror=null,n.target.src="/placeholder/default.jpg"}})}),l.jsxs("div",{className:"p-4",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:u.title}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-gray-400",children:"Film"}),l.jsx("button",{className:"text-blue-500 hover:text-blue-400",children:"Voir plus"})]})]})]},u.id))})]})})},sa=()=>{const[t,e]=C.useState(!1),[r,a]=C.useState(!1),[s,u]=C.useState(!1),n=Rn();C.useEffect(()=>{const m=()=>{e(window.scrollY>50)};return window.addEventListener("scroll",m),()=>window.removeEventListener("scroll",m)},[]),C.useEffect(()=>{a(!1),u(!1)},[n]);const i=[{name:"Accueil",path:"/"},{name:"Dramas",path:"/dramas"},{name:"Films",path:"/movies"},{name:"Bollywood",path:"/bollywood"},{name:"Anime",path:"/anime"},{name:"Catgories",path:"/categories"},{name:"App",path:"/app",icon:l.jsx(rt,{size:16})}],o=[{name:" propos",path:"/support/about",icon:l.jsx(uu,{size:16})},{name:"FAQ",path:"/support/faq",icon:l.jsx(Bi,{size:16})},{name:"Aide",path:"/support/help",icon:l.jsx(Bi,{size:16})},{name:"Contact",path:"/support/contact",icon:l.jsx(Xl,{size:16})},{name:"Technologies",path:"/support/technologies",icon:l.jsx(W2,{size:16})},{name:"Conditions d'utilisation",path:"/support/terms",icon:l.jsx(X2,{size:16})},{name:"Politique de confidentialit",path:"/support/privacy",icon:l.jsx(rm,{size:16})},{name:"Abonnements",path:"/subscription",icon:l.jsx(K2,{size:16})},{name:"Mon compte",path:"/account",icon:l.jsx(Fi,{size:16})},{name:"Tlcharger l'application",path:"/download",icon:l.jsx(nu,{size:16})}],c={hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},d={hover:{scale:1.05,color:"#FF00FF",transition:{duration:.2}}},f={hidden:{opacity:0,height:0,overflow:"hidden"},visible:{opacity:1,height:"auto",transition:{duration:.3,staggerChildren:.05,delayChildren:.1}},exit:{opacity:0,height:0,transition:{duration:.3,when:"afterChildren",staggerChildren:.05,staggerDirection:-1}}},h={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0,transition:{duration:.2}},exit:{opacity:0,x:-20,transition:{duration:.2}}},p={hidden:{opacity:0,y:-5,height:0,transition:{duration:.2}},visible:{opacity:1,y:0,height:"auto",transition:{duration:.3}}};return l.jsxs(I.nav,{className:`fixed w-full z-50 px-6 py-4 transition-all duration-300 ${t?"bg-gray-900":"bg-gradient-to-b from-black to-transparent"}`,initial:"hidden",animate:"visible",variants:c,children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-8",children:[l.jsxs(I.div,{whileHover:{scale:1.05},whileTap:{scale:.95},transition:{duration:.2},className:"flex items-center",children:[l.jsx("img",{src:"/assets/logo/flodrama-logo.svg",alt:"FloDrama Logo",className:"h-8 w-8 mr-2"}),l.jsx(ke,{to:"/",className:"text-3xl font-bold text-pink-500",children:"FloDrama"})]}),l.jsxs("div",{className:"hidden md:flex space-x-6",children:[i.map(m=>l.jsx(I.div,{variants:d,whileHover:"hover",children:l.jsxs(ke,{to:m.path,className:`transition-colors flex items-center ${n.pathname===m.path?"text-pink-500":"text-white"}`,children:[m.icon&&l.jsx("span",{className:"mr-1",children:m.icon}),m.name]})},m.path)),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{className:`px-3 py-2 rounded-md text-sm font-medium transition-colors flex items-center ${n.pathname.includes("/support")?"text-pink-500":"text-white hover:text-pink-500 hover:bg-gray-800"}`,onClick:()=>u(!s),children:["Support",l.jsx(cr,{size:16,className:`ml-1 transition-transform ${s?"rotate-180":""}`})]}),l.jsx(pr,{children:s&&l.jsx(I.div,{className:"absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-gray-800 ring-1 ring-black ring-opacity-5 overflow-hidden z-50",variants:p,initial:"hidden",animate:"visible",exit:"hidden",children:l.jsx("div",{className:"py-1",children:o.map(m=>l.jsxs(ke,{to:m.path,className:`flex items-center px-4 py-2 text-sm ${n.pathname===m.path?"bg-gray-700 text-pink-500":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[l.jsx("span",{className:"mr-2",children:m.icon}),m.name]},m.path))})})})]})]})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(ke,{to:"/search",className:"text-white hover:text-pink-500 transition-colors",children:l.jsx(iu,{size:20})}),l.jsx(ke,{to:"/notifications",className:"text-white hover:text-pink-500 transition-colors",children:l.jsx($2,{size:20})}),l.jsx(ke,{to:"/account",className:"text-white hover:text-pink-500 transition-colors",children:l.jsx(Fi,{size:20})}),l.jsx(I.button,{className:"md:hidden text-white hover:text-pink-500 transition-colors",onClick:()=>a(!r),whileHover:{scale:1.1},whileTap:{scale:.9},children:r?l.jsx(sr,{size:24}):l.jsx(em,{size:24})})]})]}),l.jsx(pr,{children:r&&l.jsx(I.div,{className:"md:hidden mt-4 bg-gray-900 rounded-lg p-4 overflow-hidden",variants:f,initial:"hidden",animate:"visible",exit:"exit",children:l.jsxs("div",{className:"flex flex-col space-y-3",children:[i.map(m=>l.jsx(I.div,{variants:h,children:l.jsxs(ke,{to:m.path,className:`block hover:text-pink-500 transition-colors py-2 ${n.pathname===m.path?"text-pink-500":"text-white"}`,children:[m.icon&&l.jsx("span",{className:"mr-1",children:m.icon}),m.name]})},m.path)),l.jsxs(I.div,{variants:h,children:[l.jsxs("button",{className:`flex items-center justify-between w-full px-3 py-2 rounded-md text-base font-medium ${n.pathname.includes("/support")?"text-pink-500":"text-white hover:text-pink-500 hover:bg-gray-800"}`,onClick:()=>u(!s),children:[l.jsx("span",{children:"Support"}),l.jsx(cr,{size:16,className:`transition-transform ${s?"rotate-180":""}`})]}),l.jsx(pr,{children:s&&l.jsx(I.div,{className:"pl-4 mt-1 space-y-1",variants:p,initial:"hidden",animate:"visible",exit:"hidden",children:o.map(m=>l.jsx(I.div,{variants:h,children:l.jsxs(ke,{to:m.path,className:`flex items-center px-3 py-2 rounded-md text-sm font-medium ${n.pathname===m.path?"bg-gray-700 text-pink-500":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[l.jsx("span",{className:"mr-2",children:m.icon}),m.name]})},m.path))})})]})]})})})]})},na=()=>{const t=new Date().getFullYear(),e=[{title:"Navigation",links:[{name:"Accueil",path:"/"},{name:"Dramas",path:"/dramas"},{name:"Films",path:"/movies"},{name:"Recherche",path:"/search"},{name:"Abonnements",path:"/subscription"},{name:"Application Mobile",path:"/app",icon:l.jsx(rt,{size:16})}]},{title:"Support",links:[{name:" propos",path:"/support/about"},{name:"FAQ",path:"/support/faq"},{name:"Contact",path:"/support/contact"},{name:"Aide",path:"/support/help"},{name:"Technologies",path:"/support/technologies"},{name:"Signaler un problme",path:"/report"}]},{title:"Lgal",links:[{name:"Conditions d'utilisation",path:"/support/terms"},{name:"Politique de confidentialit",path:"/support/privacy"},{name:"Cookies",path:"/legal/cookies"},{name:"RGPD",path:"/legal/gdpr"}]}],r=[{name:"Facebook",icon:l.jsx(Y2,{size:20}),url:"https://facebook.com/flodrama"},{name:"Twitter",icon:l.jsx(cm,{size:20}),url:"https://twitter.com/flodrama"},{name:"Instagram",icon:l.jsx(Q2,{size:20}),url:"https://instagram.com/flodrama"},{name:"YouTube",icon:l.jsx(lm,{size:20}),url:"https://youtube.com/flodrama"},{name:"Email",icon:l.jsx(Xl,{size:20}),url:"mailto:hotline@flodrama.com"}];return l.jsx(I.footer,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.2},className:"bg-gray-800 text-gray-300 pt-12 pb-6",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between mb-10",children:[l.jsxs(I.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5},className:"mb-8 md:mb-0 md:w-1/3",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx("div",{className:"mr-3 bg-gray-700 p-2 rounded",children:l.jsxs("div",{className:"relative w-8 h-8",children:[l.jsx("div",{className:"absolute inset-0 bg-blue-500 rounded opacity-20"}),l.jsx("div",{className:"absolute inset-1 bg-gray-600 rounded flex items-center justify-center",children:l.jsx("div",{className:"text-pink-500 text-lg transform translate-x-0.5",children:""})})]})}),l.jsx("h2",{className:"text-xl font-bold text-white",children:"FloDrama"})]}),l.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Votre plateforme de streaming ddie aux dramas asiatiques, films, Bollywood et animes. Dcouvrez des histoires captivantes du monde entier."}),l.jsx("div",{className:"flex space-x-3",children:r.map((a,s)=>l.jsx(I.a,{href:a.url,target:"_blank",rel:"noopener noreferrer",className:"bg-gray-700 p-2 rounded-full text-gray-300 hover:bg-pink-500 hover:text-white transition-colors",whileHover:{scale:1.1},"aria-label":a.name,children:a.icon},s))})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-8 md:w-2/3",children:e.map((a,s)=>l.jsxs(I.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:s*.1},children:[l.jsx("h3",{className:"text-white font-semibold mb-4",children:a.title}),l.jsx("ul",{className:"space-y-2",children:a.links.map((u,n)=>l.jsx("li",{children:l.jsxs(ke,{to:u.path,className:"text-gray-400 hover:text-pink-500 transition-colors text-sm flex items-center",children:[u.icon&&l.jsx("span",{className:"mr-1",children:u.icon}),u.name]})},n))})]},s))})]}),l.jsx(I.div,{initial:{scaleX:0},animate:{scaleX:1},transition:{duration:.7,delay:.5},className:"border-t border-gray-700 mb-6 pt-6",children:l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[l.jsxs("p",{className:"text-sm text-gray-500 mb-4 md:mb-0",children:[" ",t," FloDrama. Tous droits rservs."]}),l.jsxs("p",{className:"text-sm text-gray-500 flex items-center",children:["Conu avec ",l.jsx(Z2,{size:14,className:"mx-1 text-pink-500"})," en France"]})]})})]})})},he=({size:t="medium",color:e="blue"})=>{const r={small:"h-4 w-4 border-2",medium:"h-8 w-8 border-2",large:"h-12 w-12 border-3"},a={blue:"border-blue-500",white:"border-white",gray:"border-gray-300"};return l.jsx("div",{className:"flex justify-center items-center",children:l.jsx("div",{className:`
          animate-spin rounded-full 
          ${r[t]||r.medium} 
          border-t-transparent 
          ${a[e]||a.blue}
        `})})},Bg=({query:t,hasFilters:e,onResetFilters:r})=>l.jsxs(I.div,{className:"flex flex-col items-center justify-center py-16 px-4 bg-gray-800 rounded-lg text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[l.jsx("div",{className:"w-16 h-16 bg-gray-700 rounded-full flex items-center justify-center mb-4",children:l.jsx(iu,{size:32,className:"text-gray-400"})}),l.jsx("h2",{className:"text-xl font-bold mb-2",children:"Aucun rsultat trouv"}),l.jsx("p",{className:"text-gray-400 mb-6 max-w-md",children:e?"Aucun contenu ne correspond  votre recherche avec les filtres actuels.":`Nous n'avons pas trouv de contenu correspondant  "${t}".`}),e&&l.jsxs("button",{onClick:r,className:"flex items-center bg-fuchsia-600 hover:bg-fuchsia-700 text-white px-4 py-2 rounded-lg transition-colors mb-4",children:[l.jsx(tm,{size:16,className:"mr-2"}),"Rinitialiser les filtres"]}),l.jsxs("div",{className:"mt-4 text-gray-400 text-sm",children:[l.jsx("p",{children:"Suggestions :"}),l.jsxs("ul",{className:"mt-2",children:[l.jsx("li",{children:" Vrifiez l'orthographe des mots-cls"}),l.jsx("li",{children:" Essayez des termes plus gnraux"}),l.jsx("li",{children:" Essayez un autre type de contenu (drama, film, anime...)"}),e&&l.jsx("li",{children:" Rduisez le nombre de filtres appliqus"})]})]})]}),oc=wr(l.jsx("path",{d:"M15 2c-2.71 0-5.05 1.54-6.22 3.78-1.28.67-2.34 1.72-3 3C3.54 9.95 2 12.29 2 15c0 3.87 3.13 7 7 7 2.71 0 5.05-1.54 6.22-3.78 1.28-.67 2.34-1.72 3-3C20.46 14.05 22 11.71 22 9c0-3.87-3.13-7-7-7M9 20c-2.76 0-5-2.24-5-5 0-1.12.37-2.16 1-3 0 3.87 3.13 7 7 7-.84.63-1.88 1-3 1m3-3c-2.76 0-5-2.24-5-5 0-1.12.37-2.16 1-3 0 3.86 3.13 6.99 7 7-.84.63-1.88 1-3 1m4.7-3.3c-.53.19-1.1.3-1.7.3-2.76 0-5-2.24-5-5 0-.6.11-1.17.3-1.7.53-.19 1.1-.3 1.7-.3 2.76 0 5 2.24 5 5 0 .6-.11 1.17-.3 1.7M19 12c0-3.86-3.13-6.99-7-7 .84-.63 1.87-1 3-1 2.76 0 5 2.24 5 5 0 1.12-.37 2.16-1 3"}),"Animation"),cc=wr(l.jsx("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2"}),"Bookmark"),Fg=wr(l.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear"),lc=wr(l.jsx("path",{d:"m18 4 2 4h-3l-2-4h-2l2 4h-3l-2-4H8l2 4H7L5 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4z"}),"Movie"),Lg=wr(l.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),dc=wr(l.jsx("path",{d:"M21 3H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.1-.9-2-2-2m0 14H3V5h18z"}),"Tv");function Rg(t,e){const[r,a]=C.useState(t);return C.useEffect(()=>{const s=setTimeout(()=>{a(t)},e);return()=>{clearTimeout(s)}},[t,e]),r}const qg=Tt(Zr)(({theme:t})=>({position:"relative",width:"100%",maxWidth:"800px",margin:"0 auto"})),_g=Tt(Yd)(({theme:t})=>({position:"absolute",width:"100%",maxHeight:"500px",overflowY:"auto",zIndex:1e3,marginTop:t.spacing(1),boxShadow:t.shadows[5]})),Mg=Tt(Xd)(({theme:t})=>({transition:"background-color 0.2s ease","&:hover":{backgroundColor:t.palette.action.hover}})),Ig=Tt("span")(({theme:t})=>({backgroundColor:t.palette.warning.light,padding:"0 2px",borderRadius:"2px"})),Og=Tt(Za)(({theme:t,type:e})=>{let r="default";switch(e){case"drama":r="primary";break;case"movie":r="secondary";break;case"anime":r="success";break;default:r="default"}return{margin:t.spacing(.5),"& .MuiChip-label":{fontWeight:500},backgroundColor:t.palette[r].main,color:t.palette.getContrastText(t.palette[r].main)}}),Vg=Tt(Zr)(({theme:t})=>({padding:t.spacing(2),textAlign:"center",color:t.palette.text.secondary})),Ug=Tt(Zr)(({theme:t})=>({display:"flex",flexWrap:"wrap",gap:t.spacing(.5),marginTop:t.spacing(1)})),$g=Tt(Za)(({theme:t})=>({cursor:"pointer",transition:"all 0.2s ease","&:hover":{backgroundColor:t.palette.primary.light,color:t.palette.primary.contrastText,transform:"scale(1.05)"}})),Hg=({onResultSelect:t,placeholder:e="Rechercher un drama, anime, film..."})=>{const[r,a]=C.useState(""),[s,u]=C.useState([]),[n,i]=C.useState([]),[o,c]=C.useState(!1),[d,f]=C.useState(!1),[h,p]=C.useState("all"),m=C.useRef(null),b=Rg(r,300),x=[{value:"all",label:"Tous",icon:l.jsx(cc,{})},{value:"drama",label:"Dramas",icon:l.jsx(dc,{})},{value:"movie",label:"Films",icon:l.jsx(lc,{})},{value:"anime",label:"Anims",icon:l.jsx(oc,{})}];C.useEffect(()=>{(async()=>{if(!b||b.length<2){u([]),f(!1);return}c(!0);try{const q=await Ne.searchFast(b,h,{size:20,sort:"_score"});u(q),f(!0)}catch(q){console.error("Erreur lors de la recherche:",q),u([])}finally{c(!1)}})()},[b,h]),C.useEffect(()=>{(async()=>{if(!b||b.length<2){i([]);return}try{const q=await Ne.getSuggestions(b,5);i(q)}catch(q){console.error("Erreur lors de la rcupration des suggestions:",q),i([])}})()},[b]),C.useEffect(()=>{const k=q=>{m.current&&!m.current.contains(q.target)&&f(!1)};return document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[]);const E=k=>{a(k.target.value),k.target.value&&f(!0)},A=()=>{a(""),u([]),f(!1)},y=k=>{t&&t(k),f(!1)},g=k=>{a(k)},v=k=>{p(k)},D=(k,q)=>!k||!q?k:k.split(new RegExp(`(${q})`,"gi")).map((N,F)=>N.toLowerCase()===q.toLowerCase()?l.jsx(Ig,{children:N},F):N),S=k=>{switch(k){case"drama":return l.jsx(dc,{});case"movie":return l.jsx(lc,{});case"anime":return l.jsx(oc,{});default:return l.jsx(cc,{})}};return l.jsxs(qg,{ref:m,children:[l.jsx(Jd,{fullWidth:!0,variant:"outlined",placeholder:e,value:r,onChange:E,onFocus:()=>r&&f(!0),InputProps:{startAdornment:l.jsx(xu,{position:"start",children:l.jsx(Lg,{color:"action"})}),endAdornment:l.jsx(xu,{position:"end",children:o?l.jsx(Zd,{size:20}):r?l.jsx(Qd,{size:"small",onClick:A,"aria-label":"Effacer la recherche",children:l.jsx(Fg,{})}):null})}}),l.jsx(Zr,{sx:{display:"flex",mt:1,flexWrap:"wrap",gap:1},children:x.map(k=>l.jsx(Za,{icon:k.icon,label:k.label,onClick:()=>v(k.value),color:h===k.value?"primary":"default",variant:h===k.value?"filled":"outlined"},k.value))}),n.length>0&&!d&&l.jsxs(Ug,{children:[l.jsx(ba,{variant:"caption",sx:{mr:1,alignSelf:"center"},children:"Suggestions:"}),n.map((k,q)=>l.jsx($g,{label:k,size:"small",onClick:()=>g(k)},q))]}),l.jsx(e0,{in:d&&r.length>=2,children:l.jsx(_g,{elevation:3,sx:{display:d&&r.length>=2?"block":"none"},children:s.length>0?l.jsx(t0,{children:s.map((k,q)=>l.jsxs(se.Fragment,{children:[l.jsxs(Mg,{button:!0,onClick:()=>y(k),children:[l.jsx(r0,{children:k.image?l.jsx(Du,{src:k.image,alt:k.title,variant:"rounded"}):l.jsx(Du,{variant:"rounded",children:S(k.type)})}),l.jsx(a0,{primary:D(k.title,r),secondary:l.jsxs(l.Fragment,{children:[l.jsxs(ba,{component:"span",variant:"body2",color:"text.primary",children:[k.source,"  ",k.year||"N/A"]}),l.jsxs(Zr,{sx:{mt:.5},children:[l.jsx(Og,{size:"small",label:k.type||"Inconnu",type:k.type}),k.country&&l.jsx(Za,{size:"small",label:k.country,variant:"outlined"})]})]})})]}),q<s.length-1&&l.jsx(s0,{variant:"inset",component:"li"})]},k.id||`result-${q}`))}):l.jsxs(Vg,{children:[l.jsxs(ba,{variant:"body1",children:['Aucun rsultat trouv pour "',r,'"']}),l.jsx(ba,{variant:"body2",color:"textSecondary",children:"Essayez avec des termes diffrents ou moins spcifiques"})]})})})]})},zg=()=>{const t=Rn(),e=o0(),{isLoading:r,searchContent:a}=Kl(),[s,u]=C.useState(""),[n,i]=C.useState([]),[o,c]=C.useState(!1),[d,f]=C.useState(!1),[h,p]=C.useState(!1),[m,b]=C.useState(0),[x,E]=C.useState(!0),[A,y]=C.useState(null),[g,v]=C.useState({type:[],genre:[],country:[],year:[],minRating:0}),D={type:["Drama","Movie","Anime","Bollywood"],genre:["Action","Comdie","Romance","Thriller","Fantastique","Historique","Drame","Horreur","Science-Fiction"],country:["Core du Sud","Japon","Chine","Thalande","Inde","tats-Unis"],year:["2023","2022","2021","2020","2019","2018","2017","2016","2015"]},S=C.useCallback(async(T=s,R=g)=>{if(!T)return;c(!0),p(!0);const L=performance.now();try{let M=[];if(x){const ee=R.type.length>0?R.type.map(X=>X.toLowerCase()).includes("drama")?"drama":R.type.map(X=>X.toLowerCase()).includes("anime")?"anime":R.type.map(X=>X.toLowerCase()).includes("movie")?"movie":"all":"all";M=await Ne.searchFast(T,ee,{size:50,sort:"_score"})}else M=a(T,R);const _=M.filter(ee=>ee&&ee.title&&(ee.poster||ee.backdrop||ee.image));i(_),b(_.length);const $=performance.now();y({time:($-L).toFixed(2),count:_.length,method:x?"elasticsearch":"traditional"})}catch(M){console.error("Erreur lors de la recherche:",M),i([]),b(0);const _=performance.now();y({time:(_-L).toFixed(2),count:0,method:x?"elasticsearch":"traditional",error:M.message})}finally{c(!1)}},[s,g,a,x]),k=C.useCallback(()=>{const T=new URLSearchParams;s&&T.set("q",s),g.type.length>0&&T.set("type",g.type.join(",")),g.genre.length>0&&T.set("genre",g.genre.join(",")),g.country.length>0&&T.set("country",g.country.join(",")),g.year.length>0&&T.set("year",g.year.join(",")),g.minRating>0&&T.set("rating",g.minRating.toString()),e(`/search?${T.toString()}`)},[s,g,e]);C.useEffect(()=>{const T=new URLSearchParams(t.search),R=T.get("q");R&&(u(R),S(R,g));const L=T.get("type"),M=T.get("genre"),_=T.get("country"),$=T.get("year"),ee=T.get("rating"),X={...g};L&&(X.type=L.split(",")),M&&(X.genre=M.split(",")),_&&(X.country=_.split(",")),$&&(X.year=$.split(",")),ee&&(X.minRating=parseInt(ee,10)),v(X)},[t.search,S,g]);const q=T=>{T.preventDefault(),k(),S()},O=T=>{e(`/watch/${T.id||T.title.replace(/\s+/g,"-").toLowerCase()}`)},N=(T,R)=>{v(L=>{const M={...L};return T==="minRating"?M.minRating=R:M[T].indexOf(R)===-1?M[T]=[...M[T],R]:M[T]=M[T].filter($=>$!==R),M})},F=()=>{k(),S(s,g),f(!1)},B=()=>{v({type:[],genre:[],country:[],year:[],minRating:0})},w=()=>g.type.length>0||g.genre.length>0||g.country.length>0||g.year.length>0||g.minRating>0,j={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},P={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3}}};return r?l.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-900",children:l.jsx(he,{size:"large",color:"white"})}):l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[l.jsx(sa,{}),l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Recherche"}),l.jsx("p",{className:"text-gray-400",children:"Trouvez vos dramas, films et anims prfrs"})]}),l.jsxs("div",{className:"mb-8 bg-gray-800 p-6 rounded-lg shadow-lg",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Recherche Ultra-Rapide"}),l.jsx("div",{className:"flex items-center mb-4",children:l.jsx("div",{className:"flex-1",children:l.jsx(Hg,{onResultSelect:O,placeholder:"Rechercher un drama, anime, film..."})})}),l.jsxs("div",{className:"flex items-center justify-between mt-2",children:[l.jsx("div",{className:"flex items-center",children:l.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:x,onChange:()=>E(!x),className:"sr-only peer"}),l.jsx("div",{className:"relative w-11 h-6 bg-gray-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-800 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"}),l.jsx("span",{className:"ms-3 text-sm font-medium text-gray-300",children:"Utiliser Elasticsearch"})]})}),A&&l.jsxs("div",{className:"text-sm text-gray-400",children:[l.jsxs("span",{className:"font-medium",children:["Recherche en ",A.time," ms"]}),l.jsx("span",{className:"mx-2",children:""}),l.jsxs("span",{children:[A.count," rsultats"]}),l.jsx("span",{className:"mx-2",children:""}),l.jsx("span",{className:A.method==="elasticsearch"?"text-blue-400":"text-yellow-400",children:A.method==="elasticsearch"?"Elasticsearch":"Recherche traditionnelle"})]})]})]}),l.jsxs("div",{className:"mb-8",children:[l.jsxs("form",{onSubmit:q,className:"flex items-center gap-2 mb-4",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:l.jsx(iu,{className:"w-5 h-5 text-gray-400"})}),l.jsx("input",{type:"text",value:s,onChange:T=>u(T.target.value),className:"block w-full p-3 pl-10 text-white bg-gray-800 border border-gray-700 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Rechercher un drama, anime, film...",required:!0})]}),l.jsx("button",{type:"button",onClick:()=>f(!d),className:"p-3 bg-gray-800 border border-gray-700 rounded-lg hover:bg-gray-700 transition-colors",children:l.jsx(J2,{className:"w-5 h-5"})}),l.jsx("button",{type:"submit",className:"p-3 bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors",children:"Rechercher"})]}),d&&l.jsxs(I.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-gray-800 border border-gray-700 rounded-lg p-4 mb-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Filtres"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:B,className:"text-sm text-gray-400 hover:text-white transition-colors",children:"Rinitialiser"}),l.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-white transition-colors",children:l.jsx(sr,{className:"w-5 h-5"})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[l.jsxs("div",{children:[l.jsxs("h4",{className:"font-medium mb-2 flex items-center",children:[l.jsx("span",{children:"Type"}),l.jsx(cr,{className:"w-4 h-4 ml-1"})]}),l.jsx("div",{className:"space-y-2",children:D.type.map(T=>l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:g.type.includes(T),onChange:()=>N("type",T),className:"w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-600"}),l.jsx("span",{className:"ml-2 text-sm",children:T})]},T))})]}),l.jsxs("div",{children:[l.jsxs("h4",{className:"font-medium mb-2 flex items-center",children:[l.jsx("span",{children:"Genre"}),l.jsx(cr,{className:"w-4 h-4 ml-1"})]}),l.jsx("div",{className:"space-y-2",children:D.genre.map(T=>l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:g.genre.includes(T),onChange:()=>N("genre",T),className:"w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-600"}),l.jsx("span",{className:"ml-2 text-sm",children:T})]},T))})]}),l.jsxs("div",{children:[l.jsxs("h4",{className:"font-medium mb-2 flex items-center",children:[l.jsx("span",{children:"Pays"}),l.jsx(cr,{className:"w-4 h-4 ml-1"})]}),l.jsx("div",{className:"space-y-2",children:D.country.map(T=>l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:g.country.includes(T),onChange:()=>N("country",T),className:"w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-600"}),l.jsx("span",{className:"ml-2 text-sm",children:T})]},T))})]}),l.jsxs("div",{children:[l.jsxs("h4",{className:"font-medium mb-2 flex items-center",children:[l.jsx("span",{children:"Anne"}),l.jsx(cr,{className:"w-4 h-4 ml-1"})]}),l.jsx("div",{className:"space-y-2",children:D.year.map(T=>l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:g.year.includes(T),onChange:()=>N("year",T),className:"w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-600"}),l.jsx("span",{className:"ml-2 text-sm",children:T})]},T))})]})]}),l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{onClick:F,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(su,{className:"w-4 h-4"}),l.jsx("span",{children:"Appliquer les filtres"})]})})]}),w()&&l.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[g.type.map(T=>l.jsxs("div",{className:"flex items-center bg-blue-900 px-3 py-1 rounded-full text-sm",children:[l.jsx("span",{children:T}),l.jsx("button",{onClick:()=>N("type",T),className:"ml-2 text-gray-300 hover:text-white",children:l.jsx(sr,{className:"w-3 h-3"})})]},T)),g.genre.map(T=>l.jsxs("div",{className:"flex items-center bg-purple-900 px-3 py-1 rounded-full text-sm",children:[l.jsx("span",{children:T}),l.jsx("button",{onClick:()=>N("genre",T),className:"ml-2 text-gray-300 hover:text-white",children:l.jsx(sr,{className:"w-3 h-3"})})]},T)),g.country.map(T=>l.jsxs("div",{className:"flex items-center bg-green-900 px-3 py-1 rounded-full text-sm",children:[l.jsx("span",{children:T}),l.jsx("button",{onClick:()=>N("country",T),className:"ml-2 text-gray-300 hover:text-white",children:l.jsx(sr,{className:"w-3 h-3"})})]},T)),g.year.map(T=>l.jsxs("div",{className:"flex items-center bg-yellow-900 px-3 py-1 rounded-full text-sm",children:[l.jsx("span",{children:T}),l.jsx("button",{onClick:()=>N("year",T),className:"ml-2 text-gray-300 hover:text-white",children:l.jsx(sr,{className:"w-3 h-3"})})]},T))]})]}),h&&l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"flex justify-between items-center mb-4",children:l.jsx("h2",{className:"text-xl font-semibold",children:o?"Recherche en cours...":`${m} rsultats trouvs`})}),o?l.jsx("div",{className:"flex justify-center py-12",children:l.jsx(he,{size:"medium",color:"white"})}):n.length>0?l.jsx(I.div,{variants:j,initial:"hidden",animate:"visible",className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:n.map((T,R)=>l.jsx(I.div,{variants:P,children:l.jsx(ou,{id:T.id||`${T.title}-${R}`,title:T.title,image:T.poster||T.backdrop||T.image,rating:T.rating||T.score||0,year:T.year||"N/A",type:T.type||"Drama",onClick:()=>e(`/watch/${T.id||T.title.replace(/\s+/g,"-").toLowerCase()}`)})},T.id||`${T.title}-${R}`))}):l.jsx(Bg,{query:s,message:"Aucun rsultat trouv pour votre recherche",suggestion:"Essayez avec des termes diffrents ou moins spcifiques"})]})]}),l.jsx(na,{})]})},Gg=({children:t,animation:e="fadeIn",delay:r=0,duration:a=.5,custom:s={},...u})=>{const n={fadeIn:{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:a,delay:r}},slideUp:{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},transition:{duration:a,delay:r,ease:"easeOut"}},slideLeft:{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:50},transition:{duration:a,delay:r,ease:"easeOut"}},scale:{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:a,delay:r,ease:[.19,1,.22,1]}},stagger:{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:a,delay:r+s.index*.1||r,ease:"easeOut"}}},o={...n[e]||n.fadeIn,...u};return l.jsx(I.div,{...o,children:t})},Wg=()=>{const{watchlist:t,isLoading:e,removeFromWatchlist:r}=ed(),[a,s]=C.useState("newest"),[u,n]=C.useState([]),[i,o]=C.useState("all");C.useEffect(()=>{if(!t)return;let h=[...t];i!=="all"&&(h=h.filter(p=>p.type===i)),a==="newest"?h.sort((p,m)=>new Date(m.addedAt)-new Date(p.addedAt)):a==="oldest"?h.sort((p,m)=>new Date(p.addedAt)-new Date(m.addedAt)):a==="alphabetical"&&h.sort((p,m)=>p.title.localeCompare(m.title)),n(h)},[t,a,i]);const c={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},d={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4}}},f=h=>{r(h)};return e?l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[l.jsx(sa,{}),l.jsx("div",{className:"container mx-auto px-6 py-24 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-white",children:"Chargement de votre liste..."})]})}),l.jsx(na,{})]}):l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[l.jsx(sa,{}),l.jsx("div",{className:"container mx-auto px-6 py-24",children:l.jsxs(Gg,{animation:"fadeIn",children:[l.jsxs("div",{className:"mb-12",children:[l.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Ma Liste"}),l.jsx("p",{className:"text-gray-400",children:"Retrouvez ici tous les dramas et films que vous avez ajouts  votre liste personnelle."})]}),l.jsxs("div",{className:"flex flex-col md:flex-row justify-between mb-8",children:[l.jsxs("div",{className:"flex space-x-4 mb-4 md:mb-0",children:[l.jsx("button",{className:`px-4 py-2 rounded-full ${i==="all"?"bg-red-600 text-white":"bg-gray-800 text-gray-300"}`,onClick:()=>o("all"),children:"Tous"}),l.jsx("button",{className:`px-4 py-2 rounded-full ${i==="drama"?"bg-red-600 text-white":"bg-gray-800 text-gray-300"}`,onClick:()=>o("drama"),children:"Dramas"}),l.jsx("button",{className:`px-4 py-2 rounded-full ${i==="movie"?"bg-red-600 text-white":"bg-gray-800 text-gray-300"}`,onClick:()=>o("movie"),children:"Films"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"text-gray-400 mr-2",children:"Trier par:"}),l.jsxs("select",{className:"bg-gray-800 text-white px-4 py-2 rounded border border-gray-700",value:a,onChange:h=>s(h.target.value),children:[l.jsx("option",{value:"newest",children:"Plus rcents"}),l.jsx("option",{value:"oldest",children:"Plus anciens"}),l.jsx("option",{value:"alphabetical",children:"Alphabtique"})]})]})]}),u.length>0?l.jsx(I.div,{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",variants:c,initial:"hidden",animate:"visible",children:u.map((h,p)=>l.jsxs(I.div,{className:"relative group",variants:d,children:[l.jsx(ou,{item:h,index:p}),l.jsx("button",{className:"absolute top-2 right-2 bg-red-600 text-white p-1.5 rounded-full opacity-0 group-hover:opacity-100 transition-opacity z-10",onClick:()=>f(h.id),"aria-label":"Retirer de ma liste",children:l.jsx(im,{size:16})})]},h.id))}):l.jsxs("div",{className:"text-center py-16 bg-gray-800 rounded-lg",children:[l.jsx(uu,{size:48,className:"mx-auto text-gray-500 mb-4"}),l.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Votre liste est vide"}),l.jsx("p",{className:"text-gray-400 mb-6",children:"Vous n'avez pas encore ajout de contenu  votre liste personnelle."}),l.jsx(ke,{to:"/",className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded font-medium inline-block",children:"Dcouvrir des dramas"})]})]})}),l.jsx(na,{})]})},fc=({message:t})=>l.jsx(Z,{children:l.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[70vh] px-4 text-center",children:[l.jsx("h1",{className:"text-6xl font-bold text-pink-500 mb-4",children:"404"}),l.jsx("h2",{className:"text-3xl font-semibold mb-6",children:"Page non trouve"}),l.jsx("p",{className:"text-lg text-gray-400 mb-8 max-w-md",children:t||"Dsol, la page que vous recherchez n'existe pas ou a t dplace."}),l.jsx(ke,{to:"/",className:"px-6 py-3 bg-pink-500 text-white rounded-lg hover:bg-pink-600 transition-colors duration-300",children:"Retour  l'accueil"})]})}),Kg=G.div`
  background-color: #1a1a1a;
  border-radius: 8px;
  padding: 1.5rem;
  margin-bottom: 2rem;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
`,Yg=G.h2`
  font-size: 1.5rem;
  margin-bottom: 1rem;
  color: #fff;
  font-weight: 600;
`,Mr=G.div`
  margin-bottom: 1.5rem;
  border-bottom: 1px solid #333;
  padding-bottom: 1.5rem;
  
  &:last-child {
    border-bottom: none;
    margin-bottom: 0;
    padding-bottom: 0;
  }
`,Ir=G.h3`
  font-size: 1.2rem;
  margin-bottom: 1rem;
  color: #f0f0f0;
`,Oa=G.button`
  background-color: ${t=>t.secondary?"#333":"#8e24aa"};
  color: white;
  border: none;
  border-radius: 4px;
  padding: 0.5rem 1rem;
  cursor: pointer;
  font-weight: 500;
  transition: background-color 0.2s;
  
  &:hover {
    background-color: ${t=>t.secondary?"#444":"#9c27b0"};
  }
  
  &:disabled {
    background-color: #555;
    cursor: not-allowed;
  }
`,Xg=G.div`
  display: flex;
  gap: 0.5rem;
  margin-top: 1rem;
`,tn=G.div`
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
  margin-bottom: 1rem;
`,Or=G.label`
  display: flex;
  align-items: center;
  gap: 0.5rem;
  color: #e0e0e0;
  font-size: 0.9rem;
`,hc=G.input`
  padding: 0.5rem;
  border-radius: 4px;
  border: 1px solid #333;
  background-color: #222;
  color: white;
`,pc=G.div`
  background-color: #222;
  border-radius: 4px;
  padding: 1rem;
  margin-top: 1rem;
`,mc=G.div`
  font-weight: 500;
  margin-bottom: 0.5rem;
  color: #e0e0e0;
`,Jg=G.progress`
  width: 100%;
  height: 8px;
  border-radius: 4px;
  margin: 0.5rem 0;
  
  &::-webkit-progress-bar {
    background-color: #333;
    border-radius: 4px;
  }
  
  &::-webkit-progress-value {
    background-color: #8e24aa;
    border-radius: 4px;
  }
  
  &::-moz-progress-bar {
    background-color: #8e24aa;
    border-radius: 4px;
  }
`,Zg=G.div`
  color: #ccc;
  font-size: 0.9rem;
  margin-top: 0.5rem;
`,gc=G.div`
  color: #f44336;
  margin-top: 0.5rem;
  font-size: 0.9rem;
`,Qg=G.input`
  padding: 0.5rem;
  border-radius: 4px;
  border: 1px solid #333;
  background-color: #222;
  color: white;
  flex: 1;
  min-width: 200px;
`,eb=G.div`
  background-color: #222;
  border-radius: 4px;
  padding: 1rem;
  margin-top: 1rem;
`,tb=G.h4`
  font-size: 1.1rem;
  margin-bottom: 0.5rem;
  color: #fff;
`,rb=G.div`
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
  margin-bottom: 0.5rem;
  color: #ccc;
  font-size: 0.9rem;
`,ab=G.img`
  max-width: 100px;
  max-height: 150px;
  object-fit: cover;
  border-radius: 4px;
  margin-top: 0.5rem;
`,sb=G.div`
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
`,nb=G.div`
  background-color: #222;
  border-radius: 4px;
  padding: 0.75rem;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
`,ub=G.div`
  font-size: 0.9rem;
  color: #ccc;
`,ib=G.div`
  display: flex;
  flex-wrap: wrap;
  gap: 0.75rem;
  
  span {
    background-color: #333;
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    font-size: 0.8rem;
  }
`,bc=()=>{const[t,e]=C.useState({inProgress:!1,progress:0,currentSource:"",currentPage:0,totalPages:0,itemsCount:0,totalItems:0,status:"idle",error:null}),[r,a]=C.useState({saveToS3:!0,includeImages:!0,maxPages:3,dailyTime:"03:00"}),[s,u]=C.useState(!1),[n,i]=C.useState([]),[o,c]=C.useState(""),[d,f]=C.useState("all"),[h,p]=C.useState(null),[m,b]=C.useState(!1);C.useEffect(()=>{Ne._backgroundScrapingInterval&&u(!0);const y=g=>{const{timestamp:v,results:D}=g.detail;i(S=>[{timestamp:v,date:new Date(v).toLocaleString(),results:D},...S.slice(0,9)])};return window.addEventListener("flodrama:metadata-updated",y),()=>{window.removeEventListener("flodrama:metadata-updated",y)}},[]);const x=()=>{s?(Ne.stopBackgroundScraping(),u(!1)):(Ne.startDailyBackgroundScraping(),u(!0))},E=async()=>{if(o.trim()){b(!0),p(null);try{const y=await Ne.searchUntilFound(o,d);p(y)}catch(y){console.error("Erreur lors de la recherche:",y),p({error:y.message})}finally{b(!1)}}},A=async()=>{e({...t,inProgress:!0,status:"starting background scraping",error:null});try{const y=await Ne._runBackgroundScraping();e({...t,inProgress:!1,status:"completed",error:null});const g=Date.now();i(v=>[{timestamp:g,date:new Date(g).toLocaleString(),results:y},...v.slice(0,9)])}catch(y){e({...t,inProgress:!1,status:"error",error:y.message})}};return l.jsxs(Kg,{children:[l.jsx(Yg,{children:"Gestionnaire de Scraping"}),l.jsxs(Mr,{children:[l.jsx(Ir,{children:"Scraping Complet"}),l.jsxs(tn,{children:[l.jsxs(Or,{children:[l.jsx("input",{type:"checkbox",checked:r.saveToS3,onChange:y=>a({...r,saveToS3:y.target.checked})}),"Sauvegarder sur S3"]}),l.jsxs(Or,{children:[l.jsx("input",{type:"checkbox",checked:r.includeImages,onChange:y=>a({...r,includeImages:y.target.checked})}),"Inclure les images"]}),l.jsxs(Or,{children:["Pages max:",l.jsx(hc,{type:"number",min:"1",max:"10",value:r.maxPages,onChange:y=>a({...r,maxPages:parseInt(y.target.value)})})]})]}),l.jsx(Oa,{onClick:A,disabled:t.inProgress,children:"Lancer le scraping complet"})]}),l.jsxs(Mr,{children:[l.jsx(Ir,{children:"Scraping Quotidien"}),l.jsx("p",{children:"Le scraping quotidien permet de maintenir automatiquement les mtadonnes  jour."}),l.jsx(tn,{children:l.jsxs(Or,{children:["Heure d'excution:",l.jsx(hc,{type:"time",value:r.dailyTime,onChange:y=>a({...r,dailyTime:y.target.value}),disabled:s})]})}),l.jsxs(Xg,{children:[l.jsx(Oa,{onClick:x,secondary:s,children:s?"Dsactiver le scraping quotidien":"Activer le scraping quotidien"}),l.jsx(Oa,{onClick:A,disabled:t.inProgress,children:"Excuter maintenant"})]})]}),l.jsxs(Mr,{children:[l.jsx(Ir,{children:"Recherche Optimise"}),l.jsx("p",{children:"Cette fonctionnalit recherche un lment dans toutes les sources jusqu' ce qu'il soit trouv."}),l.jsxs(tn,{children:[l.jsxs(Or,{children:["Type:",l.jsxs("select",{value:d,onChange:y=>f(y.target.value),children:[l.jsx("option",{value:"all",children:"Tous"}),l.jsx("option",{value:"drama",children:"Dramas"}),l.jsx("option",{value:"anime",children:"Anims"}),l.jsx("option",{value:"movie",children:"Films"})]})]}),l.jsx(Qg,{type:"text",placeholder:"Rechercher...",value:o,onChange:y=>c(y.target.value),onKeyPress:y=>y.key==="Enter"&&E()}),l.jsx(Oa,{onClick:E,disabled:m||!o.trim(),children:m?"Recherche en cours...":"Rechercher"})]}),h&&l.jsx(eb,{children:h.error?l.jsx(gc,{children:h.error}):h?l.jsxs(l.Fragment,{children:[l.jsx(tb,{children:h.title}),l.jsxs(rb,{children:[l.jsxs("div",{children:["Source: ",h.source]}),h.year&&l.jsxs("div",{children:["Anne: ",h.year]}),h.type&&l.jsxs("div",{children:["Type: ",h.type]})]}),h.image&&l.jsx(ab,{src:h.image,alt:h.title})]}):l.jsx("p",{children:"Aucun rsultat trouv"})})]}),l.jsxs(Mr,{children:[l.jsx(Ir,{children:"Statut du Scraping"}),t.inProgress?l.jsxs(pc,{children:[l.jsxs(mc,{children:["En cours: ",t.currentSource||"Initialisation..."]}),l.jsx(Jg,{value:t.progress,max:"100"}),l.jsxs(Zg,{children:[t.status==="scraping"&&l.jsxs(l.Fragment,{children:["Page ",t.currentPage,"/",t.totalPages||"?"," -",t.itemsCount," lments trouvs"]}),t.status!=="scraping"&&t.status]})]}):l.jsxs(pc,{children:[l.jsx(mc,{children:t.status==="completed"?"Termin avec succs":t.status==="error"?"Erreur":"Inactif"}),t.error&&l.jsx(gc,{children:t.error})]})]}),l.jsxs(Mr,{children:[l.jsx(Ir,{children:"Rsultats Rcents"}),n.length>0?l.jsx(sb,{children:n.map((y,g)=>l.jsxs(nb,{children:[l.jsx(ub,{children:y.date}),l.jsxs(ib,{children:[y.results.popular!==void 0&&l.jsxs("span",{children:["Populaires: ",y.results.popular]}),y.results.movies!==void 0&&l.jsxs("span",{children:["Films: ",y.results.movies]}),y.results.kshows!==void 0&&l.jsxs("span",{children:["K-Shows: ",y.results.kshows]}),y.results.animes!==void 0&&l.jsxs("span",{children:["Anims: ",y.results.animes]})]})]},g))}):l.jsx("p",{children:"Aucun rsultat rcent"})]})]})},ob=G.div`
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem;
`,cb=G.header`
  margin-bottom: 2rem;
`,lb=G.h1`
  font-size: 2rem;
  color: #fff;
  margin-bottom: 0.5rem;
`,db=G.p`
  color: #ccc;
  font-size: 1rem;
`,fb=G.div`
  display: flex;
  margin-bottom: 2rem;
  border-bottom: 1px solid #333;
`,Va=G.button`
  background-color: transparent;
  color: ${t=>t.active?"#fff":"#999"};
  border: none;
  padding: 1rem 1.5rem;
  font-size: 1rem;
  cursor: pointer;
  position: relative;
  
  &:after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 3px;
    background-color: ${t=>t.active?"#8e24aa":"transparent"};
    transition: background-color 0.2s;
  }
  
  &:hover {
    color: #fff;
  }
`,hb=()=>{const[t,e]=C.useState("scraping"),r={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.5}}},a=()=>{switch(t){case"scraping":return l.jsx(bc,{});case"metadata":return l.jsxs("div",{children:[l.jsx("h2",{children:"Gestion des Mtadonnes"}),l.jsx("p",{children:"Cette fonctionnalit sera disponible prochainement."})]});case"users":return l.jsxs("div",{children:[l.jsx("h2",{children:"Gestion des Utilisateurs"}),l.jsx("p",{children:"Cette fonctionnalit sera disponible prochainement."})]});case"settings":return l.jsxs("div",{children:[l.jsx("h2",{children:"Paramtres"}),l.jsx("p",{children:"Cette fonctionnalit sera disponible prochainement."})]});default:return l.jsx(bc,{})}};return l.jsx("div",{className:"flex flex-col min-h-screen bg-black",children:l.jsxs(ob,{children:[l.jsxs(cb,{children:[l.jsx(lb,{children:"Administration FloDrama"}),l.jsx(db,{children:"Grez les fonctionnalits avances de votre plateforme"})]}),l.jsxs(fb,{children:[l.jsx(Va,{active:t==="scraping",onClick:()=>e("scraping"),children:"Scraping"}),l.jsx(Va,{active:t==="metadata",onClick:()=>e("metadata"),children:"Mtadonnes"}),l.jsx(Va,{active:t==="users",onClick:()=>e("users"),children:"Utilisateurs"}),l.jsx(Va,{active:t==="settings",onClick:()=>e("settings"),children:"Paramtres"})]}),l.jsx(I.div,{initial:"hidden",animate:"visible",variants:r,children:a()})]})})},pb=()=>{const t={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},e={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4}}},r=[{icon:l.jsx(rt,{size:24}),title:"Application mobile",description:"Profitez de FloDrama sur vos appareils mobiles iOS et Android"},{icon:l.jsx(om,{size:24}),title:"Casting TV",description:"Diffusez facilement vos dramas sur votre tlviseur"},{icon:l.jsx(nu,{size:24}),title:"Tlchargement hors-ligne",description:"Tlchargez vos pisodes pour les regarder sans connexion"},{icon:l.jsx(Yl,{size:24}),title:"Multi-plateforme",description:"Synchronisez votre exprience sur tous vos appareils"}];return l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[l.jsx(sa,{}),l.jsxs("main",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[l.jsxs(I.div,{className:"text-center mb-16",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[l.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-fuchsia-500 to-purple-600",children:"FloDrama sur tous vos appareils"}),l.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Tlchargez l'application FloDrama pour profiter de vos dramas, films et anims prfrs o que vous soyez."})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-20",children:[l.jsxs(I.div,{className:"bg-gray-800 rounded-2xl p-8 border border-gray-700 flex flex-col items-center",initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:[l.jsx("div",{className:"w-24 h-24 bg-gray-700 rounded-full flex items-center justify-center mb-6",children:l.jsx(Yr,{size:48,className:"text-white"})}),l.jsx("h2",{className:"text-2xl font-bold mb-2",children:"FloDrama pour iOS"}),l.jsx("p",{className:"text-gray-400 text-center mb-6",children:"Disponible pour iPhone et iPad"}),l.jsx("div",{className:"mt-auto",children:l.jsxs("button",{className:"bg-fuchsia-600 hover:bg-fuchsia-700 text-white px-6 py-3 rounded-lg font-medium flex items-center transition-colors",onClick:()=>alert("L'application iOS sera bientt disponible !"),children:[l.jsx(Yr,{size:20,className:"mr-2"}),"Bientt disponible"]})})]}),l.jsxs(I.div,{className:"bg-gray-800 rounded-2xl p-8 border border-gray-700 flex flex-col items-center",initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:[l.jsx("div",{className:"w-24 h-24 bg-gray-700 rounded-full flex items-center justify-center mb-6",children:l.jsx(rt,{size:48,className:"text-white"})}),l.jsx("h2",{className:"text-2xl font-bold mb-2",children:"FloDrama pour Android"}),l.jsx("p",{className:"text-gray-400 text-center mb-6",children:"Compatible avec tous les appareils Android"}),l.jsx("div",{className:"mt-auto",children:l.jsxs("button",{className:"bg-fuchsia-600 hover:bg-fuchsia-700 text-white px-6 py-3 rounded-lg font-medium flex items-center transition-colors",onClick:()=>alert("L'application Android sera bientt disponible !"),children:[l.jsx(rt,{size:20,className:"mr-2"}),"Bientt disponible"]})})]})]}),l.jsxs(I.div,{className:"mb-20",variants:t,initial:"hidden",animate:"visible",children:[l.jsx("h2",{className:"text-3xl font-bold mb-10 text-center",children:"Fonctionnalits de l'application"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map((a,s)=>l.jsxs(I.div,{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",variants:e,children:[l.jsx("div",{className:"w-12 h-12 bg-fuchsia-600 rounded-lg flex items-center justify-center mb-4",children:a.icon}),l.jsx("h3",{className:"text-xl font-semibold mb-2",children:a.title}),l.jsx("p",{className:"text-gray-400",children:a.description})]},s))})]}),l.jsx(I.div,{className:"bg-gradient-to-r from-gray-800 to-gray-900 rounded-2xl p-8 mb-20",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:l.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[l.jsxs("div",{className:"md:w-1/2 mb-8 md:mb-0 md:pr-8",children:[l.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Profitez de FloDrama sur grand cran"}),l.jsx("p",{className:"text-gray-300 mb-6",children:"L'application FloDrama est compatible avec Chromecast et AirPlay, vous permettant de diffuser facilement vos contenus prfrs sur votre tlviseur."}),l.jsx("ul",{className:"space-y-3",children:["Chromecast","AirPlay","Smart TV","Android TV"].map((a,s)=>l.jsxs("li",{className:"flex items-center",children:[l.jsx("div",{className:"w-6 h-6 bg-fuchsia-600 rounded-full flex items-center justify-center mr-3",children:l.jsx(su,{size:14})}),l.jsx("span",{children:a})]},s))}),l.jsxs("button",{className:"mt-8 bg-fuchsia-600 hover:bg-fuchsia-700 text-white px-6 py-3 rounded-lg font-medium flex items-center transition-colors",children:["En savoir plus",l.jsx(U2,{size:18,className:"ml-2"})]})]}),l.jsx("div",{className:"md:w-1/2 flex justify-center",children:l.jsx("img",{src:ra("images/tv-casting.png"),alt:"Casting TV",className:"rounded-lg max-w-full h-auto shadow-2xl",onError:a=>{a.target.src="https://via.placeholder.com/500x300?text=TV+Casting"}})})]})}),l.jsxs(I.div,{className:"bg-gray-800 rounded-xl p-6 border border-gray-700 text-center",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.4,delay:.6},children:[l.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Soyez inform du lancement"}),l.jsx("p",{className:"text-gray-400 mb-6",children:"Inscrivez-vous pour tre notifi ds que les applications FloDrama seront disponibles au tlchargement."}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-4",children:[l.jsx("input",{type:"email",placeholder:"Votre adresse email",className:"bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-fuchsia-500"}),l.jsx("button",{className:"bg-fuchsia-600 hover:bg-fuchsia-700 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:"M'inscrire"})]})]})]})]})},mb=()=>{const t={initial:{opacity:0},animate:{opacity:1,transition:{duration:.5,staggerChildren:.1}}},e={initial:{y:20,opacity:0},animate:{y:0,opacity:1,transition:{duration:.5}}},r=[{icon:l.jsx(nu,{size:24}),title:"Tlchargement hors-ligne",description:"Tlchargez vos dramas prfrs pour les regarder sans connexion internet."},{icon:l.jsx(rt,{size:24}),title:"Interface optimise",description:"Une exprience utilisateur fluide et intuitive sur tous les appareils."},{icon:l.jsx(H2,{size:24}),title:"Qualit HD & 4K",description:"Profitez de vos contenus en haute dfinition selon votre abonnement."}],a=[{icon:l.jsx(rt,{size:24}),name:"Smartphones"},{icon:l.jsx(sm,{size:24}),name:"Tablettes"},{icon:l.jsx(Yl,{size:24}),name:"Smart TV"}];return l.jsx(I.div,{className:"pt-24 pb-16 bg-gray-900 min-h-screen",variants:t,initial:"initial",animate:"animate",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsxs(I.div,{className:"text-center mb-16",variants:e,children:[l.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:["FloDrama ",l.jsx("span",{className:"text-pink-500",children:"Mobile"})]}),l.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"Emportez vos dramas prfrs partout avec vous grce  nos applications mobiles pour iOS et Android."})]}),l.jsxs(I.div,{className:"flex flex-col md:flex-row justify-center items-center gap-8 mb-20",variants:e,children:[l.jsxs(I.div,{className:"bg-gray-800 rounded-xl p-8 w-full md:w-1/2 max-w-md flex flex-col items-center text-center",whileHover:{y:-5,transition:{duration:.2}},children:[l.jsx("div",{className:"bg-black w-20 h-20 rounded-full flex items-center justify-center mb-6",children:l.jsx(Yr,{size:40,className:"text-white"})}),l.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"iOS"}),l.jsx("p",{className:"text-gray-400 mb-6",children:"Disponible sur iPhone et iPad"}),l.jsxs("a",{href:"https://apps.apple.com/fr/app/flodrama",target:"_blank",rel:"noopener noreferrer",className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors flex items-center",children:[l.jsx(Yr,{size:20,className:"mr-2"}),"Tlcharger sur l'App Store"]}),l.jsx("p",{className:"text-gray-500 text-sm mt-4",children:"Compatible iOS 14.0 ou suprieur"})]}),l.jsxs(I.div,{className:"bg-gray-900 p-8 rounded-xl shadow-2xl",variants:e,whileHover:{y:-5,transition:{duration:.2}},children:[l.jsx("div",{className:"bg-black w-20 h-20 rounded-full flex items-center justify-center mb-6",children:l.jsx(rt,{size:40,className:"text-green-500"})}),l.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Android"}),l.jsx("p",{className:"text-gray-400 mb-6",children:"Profitez de FloDrama sur votre appareil Android"}),l.jsxs("a",{href:"https://play.google.com/store/apps/details?id=com.flodrama.app",target:"_blank",rel:"noopener noreferrer",className:"bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors flex items-center",children:[l.jsx(rt,{size:20,className:"mr-2"}),"Tlcharger sur Google Play"]})]})]}),l.jsxs(I.div,{className:"mb-20",variants:e,children:[l.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-10",children:"Fonctionnalits exclusives"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:r.map((s,u)=>l.jsxs(I.div,{className:"bg-gray-800 rounded-lg p-6",whileHover:{y:-5,transition:{duration:.2}},children:[l.jsx("div",{className:"text-pink-500 mb-4",children:s.icon}),l.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:s.title}),l.jsx("p",{className:"text-gray-400",children:s.description})]},u))})]}),l.jsxs(I.div,{className:"text-center",variants:e,children:[l.jsx("h2",{className:"text-3xl font-bold text-white mb-10",children:"Appareils compatibles"}),l.jsx("div",{className:"flex flex-wrap justify-center gap-8",children:a.map((s,u)=>l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("div",{className:"bg-gray-800 w-16 h-16 rounded-full flex items-center justify-center mb-3",children:l.jsx("div",{className:"text-pink-500",children:s.icon})}),l.jsx("p",{className:"text-white",children:s.name})]},u))})]}),l.jsxs(I.div,{className:"mt-20 text-center",variants:e,children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Prt  emporter FloDrama partout avec vous ?"}),l.jsx("p",{className:"text-gray-400 mb-8 max-w-2xl mx-auto",children:"Tlchargez notre application ds maintenant et profitez de votre premier mois d'abonnement Ultimate offert."}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[l.jsxs("a",{href:"https://apps.apple.com/fr/app/flodrama",target:"_blank",rel:"noopener noreferrer",className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors flex items-center justify-center",children:[l.jsx(Yr,{size:20,className:"mr-2"}),"App Store"]}),l.jsxs("a",{href:"https://play.google.com/store/apps/details?id=com.flodrama.app",target:"_blank",rel:"noopener noreferrer",className:"bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors flex items-center justify-center",children:[l.jsx(rt,{size:20,className:"mr-2"}),"Google Play"]})]})]})]})})},Ud=({duration:t=2500,minDuration:e=1e3,onComplete:r=()=>{}})=>{const[a,s]=C.useState(!0),[u,n]=C.useState(!1),[i]=C.useState(Date.now());return C.useEffect(()=>{const c=setTimeout(()=>{const d=Date.now()-i;if(d<e){const f=e-d;setTimeout(()=>{n(!0),setTimeout(()=>{s(!1),r()},800)},f)}else n(!0),setTimeout(()=>{s(!1),r()},800)},t);return()=>clearTimeout(c)},[t,e,r,i]),a?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:`splash-container ${u?"fade-out":""}`,children:[l.jsxs("svg",{className:"splash-logo",width:"120",height:"120",viewBox:"0 0 200 200",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("defs",{children:l.jsxs("linearGradient",{id:"bgGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[l.jsx("stop",{offset:"0%",style:{stopColor:"#0066CC",stopOpacity:.2}}),l.jsx("stop",{offset:"100%",style:{stopColor:"#0066CC",stopOpacity:.1}})]})}),l.jsx("rect",{x:"10",y:"10",width:"180",height:"180",rx:"20",fill:"url(#bgGradient)",className:"splash-logo-bg"}),l.jsx("rect",{x:"20",y:"40",width:"160",height:"120",rx:"10",fill:"none",stroke:"#0066CC",strokeWidth:"3",className:"splash-screen-frame"}),l.jsx("path",{d:"M30 80 Q50 80 70 80",className:"splash-wave"}),l.jsx("path",{d:"M30 100 Q50 100 70 100",className:"splash-wave"}),l.jsx("path",{d:"M30 120 Q50 120 70 120",className:"splash-wave"}),l.jsx("path",{d:"M80 60 L140 100 L80 140 Z",fill:"#FF00FF"})]}),l.jsx("div",{className:"splash-title",children:"FloDrama"}),l.jsxs("div",{className:"splash-loading",children:[l.jsx("div",{className:"splash-dot"}),l.jsx("div",{className:"splash-dot"}),l.jsx("div",{className:"splash-dot"})]})]}),l.jsx("div",{className:`splash-transition ${u?"active":""}`})]}):null};Ud.propTypes={duration:Ut.number,minDuration:Ut.number,onComplete:Ut.func};var gb={};const Bn={pullZoneId:"3467614",hostname:"videos.flodrama.com",imageHostname:"images.flodrama.com",securityKey:gb.REACT_APP_BUNNY_SECURITY_KEY||"",enabled:!0},bb=()=>(ya.info("Initialisation de Bunny CDN pour les ressources mdias"),yb().then(t=>{t||(ya.warn("Bunny CDN n'est pas disponible, utilisation du fallback CloudFront"),Bn.enabled=!1)}).catch(t=>{ya.error("Erreur lors de la vrification de Bunny CDN",t),Bn.enabled=!1}),()=>{ya.debug("Nettoyage de l'intgration Bunny CDN")}),yb=async()=>{try{try{if((await fetch("/data/status.json")).ok)return!0}catch{console.log("Fichier de statut local non disponible, tentative avec Bunny CDN...")}const t=`https://${Bn.hostname}/status.json`;return(await fetch(t,{method:"HEAD",timeout:3e3})).ok}catch{return!1}},$d={production:{name:"Production",baseUrl:"https://flodrama.com",apiUrl:"https://api.flodrama.com",cdnUrl:"https://videos.flodrama.com",fallbackUrl:"https://d2ra390ol17u3n.cloudfront.net"},cloudfront:{name:"CloudFront",baseUrl:"https://d2ra390ol17u3n.cloudfront.net",apiUrl:null,cdnUrl:"https://d2ra390ol17u3n.cloudfront.net",fallbackUrl:null},amplify:{name:"Amplify",baseUrl:"https://main.d3f4g5h6j7k8.amplifyapp.com",apiUrl:null,cdnUrl:"https://videos.flodrama.com",fallbackUrl:"https://d2ra390ol17u3n.cloudfront.net"},local:{name:"Local",baseUrl:"http://localhost:3000",apiUrl:"http://localhost:3001",cdnUrl:"https://videos.flodrama.com",fallbackUrl:"https://d2ra390ol17u3n.cloudfront.net"}},vb=["/static/js/main.js","/static/css/main.css","/fallback/metadata.json","/manifest.json","/favicon.ico"],Ua={excellent:500,good:1e3,acceptable:2e3,poor:3e3};let Ce={notify:!1,verbose:!1,logToConsole:!0,logToFile:!1,logFilePath:"./flodrama-monitor.log",checkInterval:3e5,environments:["production","cloudfront","amplify"],alertThreshold:"poor"};const yc=async(t,e=5e3)=>{const r=performance.now();try{const a=new AbortController,s=setTimeout(()=>a.abort(),e),u=await fetch(t,{method:"HEAD",signal:a.signal,cache:"no-store"});clearTimeout(s);const i=performance.now()-r;return{url:t,accessible:u.ok,status:u.status,statusText:u.statusText,contentType:u.headers.get("content-type"),loadTime:i,performanceRating:Hd(i)}}catch(a){const u=performance.now()-r;return{url:t,accessible:!1,error:a.name==="AbortError"?"Timeout":a.message,loadTime:u,performanceRating:"critical"}}},xb=async t=>{try{const r=(await fetch(t,{method:"HEAD",cache:"no-store"})).headers.get("content-type"),a=r&&(r.includes("application/javascript")||r.includes("text/javascript"));return{url:t,mimeTypeCorrect:a,actualMimeType:r}}catch(e){return{url:t,mimeTypeCorrect:!1,error:e.message}}},Db=async t=>{const e=performance.now();try{const r=await fetch(t,{method:"GET",headers:{Accept:"application/json"},cache:"no-store"}),s=performance.now()-e;let u=!1;try{await r.json(),u=!0}catch{u=!1}return{url:t,accessible:r.ok,status:r.status,statusText:r.statusText,isValidJson:u,loadTime:s,performanceRating:Hd(s)}}catch(r){const s=performance.now()-e;return{url:t,accessible:!1,error:r.message,loadTime:s,performanceRating:"critical"}}},Hd=t=>t<=Ua.excellent?"excellent":t<=Ua.good?"good":t<=Ua.acceptable?"acceptable":t<=Ua.poor?"poor":"critical",wb=async t=>{const e=$d[t];if(!e)return{name:t,error:"Environnement non configur"};const r={name:e.name,baseUrl:e.baseUrl,timestamp:new Date().toISOString(),files:[],api:null,cdn:null,overall:"unknown"};for(const a of vb){const s=`${e.baseUrl}${a}`,u=await yc(s);if(a.endsWith(".js")&&u.accessible){const n=await xb(s);u.mimeTypeCorrect=n.mimeTypeCorrect,u.actualMimeType=n.actualMimeType}r.files.push({path:a,...u})}if(e.apiUrl){const a=await Db(`${e.apiUrl}/status`);r.api=a}if(e.cdnUrl){const a=await yc(`${e.cdnUrl}/health-check.txt`);r.cdn=a}return r.overall=Ab(r),r},Ab=t=>t.files.some(s=>!s.accessible&&s.path.includes("main.js"))||t.api&&!t.api.accessible?"critical":t.cdn&&!t.cdn.accessible||t.files.filter(s=>s.performanceRating==="poor"||s.performanceRating==="critical").length>2||t.files.some(s=>s.path.endsWith(".js")&&s.accessible&&!s.mimeTypeCorrect)?"warning":"healthy",Cb=t=>{const r={timestamp:new Date().toISOString(),environments:t,summary:{healthy:t.filter(a=>a.overall==="healthy").length,warning:t.filter(a=>a.overall==="warning").length,critical:t.filter(a=>a.overall==="critical").length,unknown:t.filter(a=>a.overall==="unknown").length},alerts:[]};return t.forEach(a=>{a.overall==="critical"?r.alerts.push({severity:"critical",environment:a.name,message:`L'environnement ${a.name} est dans un tat critique.`}):a.overall==="warning"&&r.alerts.push({severity:"warning",environment:a.name,message:`L'environnement ${a.name} prsente des avertissements.`}),a.files.forEach(s=>{s.accessible?s.path.endsWith(".js")&&!s.mimeTypeCorrect&&r.alerts.push({severity:"warning",environment:a.name,message:`Le fichier ${s.path} a un type MIME incorrect: ${s.actualMimeType}.`}):r.alerts.push({severity:"critical",environment:a.name,message:`Le fichier ${s.path} est inaccessible dans l'environnement ${a.name}.`})}),a.api&&!a.api.accessible&&r.alerts.push({severity:"critical",environment:a.name,message:`L'API est inaccessible dans l'environnement ${a.name}.`}),a.cdn&&!a.cdn.accessible&&r.alerts.push({severity:"warning",environment:a.name,message:`Le CDN est inaccessible dans l'environnement ${a.name}.`})}),r},He=(t,e="info")=>{const a=`[${new Date().toISOString()}] [${e.toUpperCase()}] ${t}`;if(Ce.logToConsole)switch(e){case"error":console.error(a);break;case"warning":console.warn(a);break;case"info":default:console.log(a);break}Ce.logToFile},rn=async(t={})=>{var a;Ce={...Ce,...t},He("Dmarrage de la surveillance FloDrama");const e=[];for(const s of Ce.environments){He(`Vrification de l'environnement: ${s}`);try{const u=await wb(s);e.push(u),He(`tat de l'environnement ${s}: ${u.overall}`),Ce.verbose&&He(`Dtails pour ${s}: ${JSON.stringify(u,null,2)}`)}catch(u){He(`Erreur lors de la vrification de l'environnement ${s}: ${u.message}`,"error"),e.push({name:((a=$d[s])==null?void 0:a.name)||s,error:u.message,overall:"unknown"})}}const r=Cb(e);return r.alerts.length>0?(He(`${r.alerts.length} alertes dtectes:`,"warning"),r.alerts.forEach(s=>{He(`[${s.severity.toUpperCase()}] ${s.message}`,s.severity==="critical"?"error":"warning")})):He("Aucune alerte dtecte."),Ce.notify&&He("Enregistrement du rapport..."),He("Surveillance termine."),r},Sb=(t={})=>{Ce={...Ce,...t};let e=null;const r=()=>(He("Dmarrage de la surveillance priodique"),rn(Ce),e=setInterval(()=>{rn(Ce)},Ce.checkInterval),!0),a=()=>e?(clearInterval(e),e=null,He("Surveillance priodique arrte"),!0):!1;return{start:r,stop:a,runNow:()=>rn(Ce),isRunning:()=>e!==null,updateConfig:s=>{const u=e!==null;return u&&a(),Ce={...Ce,...s},u&&r(),Ce}}},Ot=class Ot{static getInstance(){return Ot.instance||(Ot.instance=new Ot),Ot.instance}async get(e,r={}){try{const a=await fetch(e,{method:"GET",...r});if(!a.ok)throw new Error(`Network error: ${a.status}`);return await a.json()}catch(a){throw console.error("Network GET error:",a),a}}async post(e,r,a={}){try{const s=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json",...a.headers},body:JSON.stringify(r),...a});if(!s.ok)throw new Error(`Network error: ${s.status}`);return await s.json()}catch(s){throw console.error("Network POST error:",s),s}}};jr(Ot,"instance",null);let Fn=Ot;const Vt=class Vt{constructor(){jr(this,"cache",new Map);jr(this,"defaultDuration",5*60*1e3)}static getInstance(){return Vt.instance||(Vt.instance=new Vt),Vt.instance}set(e,r,a){const s=Date.now()+(a||this.defaultDuration);return this.cache.set(e,{value:r,expiry:s}),!0}get(e){const r=this.cache.get(e);return r?Date.now()>r.expiry?(this.cache.delete(e),null):r.value:null}remove(e){return this.cache.delete(e)}clear(){return this.cache.clear(),!0}};jr(Vt,"instance",null);let Ln=Vt;var Eb={};const $a={services:{scraping:{baseUrl:Eb.REACT_APP_SCRAPING_SERVICE_URL||"http://localhost:3001",timeout:3e4,retryAttempts:3}},performance:{cache:{duration:3600}}},Tb=30,xt=[{name:"VoirDrama",baseUrl:"https://voirdrama.org",fallbackUrls:["https://voirdrama.cc","https://voirdrama.tv","https://vdrama.org","https://voirdrama.me"],enabled:!0,priority:1,transform(t){return{...t,source:"VoirDrama"}}},{name:"DramaCool",baseUrl:"https://dramacool.cr",fallbackUrls:["https://dramacool.so","https://dramacool.sr","https://dramacool.cy"],enabled:!0,priority:2,transform(t){return{...t,source:"DramaCool"}}}];class xe{constructor(){this.proxyUrl="https://cors-anywhere.herokuapp.com/"}async fetch(e,r={}){try{return(await sn.get(this.proxyUrl+e,r)).data}catch(a){throw console.error("Erreur lors de la requte proxy:",a),a}}async post(e,r,a={}){try{return(await sn.post(this.proxyUrl+e,r,a)).data}catch(s){throw console.error("Erreur lors de la requte proxy POST:",s),s}}}class vc{async translate(e,r="fr"){return e}}function an(t){return new DOMParser().parseFromString(t,"text/html")}function xc(t){const e=t.split(`
`),r=[];for(let a=0;a<e.length;a++)if(e[a].includes("-->")){const s=e[a],u=e[a+1]||"";r.push({timeCode:s,text:u}),a++}return r}class jb{constructor(){this.baseUrl=$a.services.scraping.baseUrl,this.timeout=$a.services.scraping.timeout,this.retryAttempts=$a.services.scraping.retryAttempts,this.cache=new Ln({namespace:"scraping",duration:$a.performance.cache.duration}),this.client=new Fn({baseURL:this.baseUrl,timeout:this.timeout,retries:this.retryAttempts,headers:{"Content-Type":"application/json"}}),this.titleMappings=new Map,this.activeUrls={},xt.forEach(e=>{this.activeUrls[e.name]=e.baseUrl})}_isCacheValid(e){if(!this.cache[e]||!this.cacheTimestamps[e])return!1;const r=new Date,a=this.cacheTimestamps[e];return(r-a)/(1e3*60)<Tb}getActiveUrl(e){var r;return this.activeUrls[e]||((r=xt.find(a=>a.name===e))==null?void 0:r.baseUrl)}async tryAlternativeUrls(e,r){const a=xt.find(u=>u.name===e);if(!a)return null;const s=this.getActiveUrl(e);try{if(await r(s))return s}catch{console.warn(`L'URL active actuelle pour ${e} a chou: ${s}`)}if(a.baseUrl!==s)try{if(await r(a.baseUrl))return this.activeUrls[e]=a.baseUrl,a.baseUrl}catch{console.warn(`L'URL de base pour ${e} a chou: ${a.baseUrl}`)}if(a.fallbackUrls&&a.fallbackUrls.length>0)for(const u of a.fallbackUrls)try{if(await r(u))return this.activeUrls[e]=u,console.log(`URL alternative trouve pour ${e}: ${u}`),u}catch{console.warn(`URL alternative pour ${e} a chou: ${u}`)}return console.error(`Aucune URL fonctionnelle trouve pour ${e}`),null}normalizeTitle(e){if(!e)return"";let r=e.toLowerCase();return r=r.normalize("NFD").replace(/[\u0300-\u036f]/g,""),r=r.replace(/[^\w\s]/g,""),r=r.replace(/\s+/g," ").trim(),r}addTitleMapping(e,r){if(!e)return;const a=this.normalizeTitle(e);this.titleMappings.has(a)||this.titleMappings.set(a,new Set);const s=this.titleMappings.get(a);Array.isArray(r)?r.forEach(u=>{u&&s.add(this.normalizeTitle(u))}):r&&s.add(this.normalizeTitle(r))}titleMatchesQuery(e,r){if(!e||!r)return!1;const a=this.normalizeTitle(e),s=this.normalizeTitle(r);if(a.includes(s))return!0;if(this.titleMappings.has(a)){const u=this.titleMappings.get(a);for(const n of u)if(n.includes(s))return!0}for(const[u,n]of this.titleMappings.entries())if(n.has(s)&&u.includes(a))return!0;return!1}_extractAlternativeTitles(e){const r=[];return e.querySelectorAll('meta[property="og:title"], meta[name="title"], meta[name="keywords"]').forEach(u=>{const n=u.getAttribute("content");n&&r.push(n)}),e.querySelectorAll(".alternative-title, .alt-title, .other-names, .alias").forEach(u=>{const n=u.textContent.trim();n&&n.split(/[,;|/]/).forEach(i=>{const o=i.trim();o&&r.push(o)})}),[...new Set(r)]}async fetchFromVoirDrama(e={}){const r=`voirdrama_${JSON.stringify(e)}`;if(this._isCacheValid(r))return this.cache[r];try{let a;const s=await this.tryAlternativeUrls("VoirDrama",async i=>{try{const o=await xe.get(`${i}/drama-list`);return o&&o.includes("drama-list")}catch{return!1}});if(!s)return console.error("Aucune URL fonctionnelle trouve pour VoirDrama"),[];e.query?a=`${s}/search.html?keyword=${encodeURIComponent(e.query)}`:a=`${s}/drama-list`;const u=await xe.get(a),n=this._extractDataFromVoirDramaHtml(u);return this.cache[r]=n,this.cacheTimestamps[r]=new Date,n}catch(a){return console.error("Erreur lors de la rcupration depuis VoirDrama:",a),[]}}_extractDataFromVoirDramaHtml(e){try{const r=an(e),a=[".film-list .item",".film-poster",".items .item",'[class*="film-item"]','[id^="movie"]'],s=this._adaptiveSelectorSearch(r,a,"VoirDrama");return this._removeDuplicates(s,"link")}catch(r){return console.error("Erreur extraction VoirDrama :",r),[]}}_adaptiveSelectorSearch(e,r,a){const s=[];for(const u of r){const n=e.querySelectorAll(u);if(n.length>0&&(n.forEach(i=>{try{const o=i.querySelector("a"),c=i.querySelector(".title"),d=i.querySelector("img");if(o&&c){const f=o.getAttribute("href"),h=c.textContent.trim(),p=d?d.getAttribute("data-src")||d.getAttribute("src"):"",m=[],b=i.querySelector(".other-name");if(b){const E=b.textContent.trim();E&&E.split(/[,;|/]/).forEach(A=>{const y=A.trim();y&&m.push(y)})}const x=[...new Set([...m,...this._extractAlternativeTitles(e)])];this.addTitleMapping(h,x),s.push({id:`${a}-${Math.random().toString(36).substring(2,10)}`,title:h,alternativeTitles:x,link:f.startsWith("http")?f:`https://${a}.org${f}`,image:p.startsWith("http")?p:`https://${a}.org${p}`,source:a,type:"drama"})}}catch(o){console.warn(`Erreur lors de l'extraction d'un lment ${a}:`,o)}}),s.length>0))break}return s}async fetchFromDramaCool(e={}){const r=`dramacool_${JSON.stringify(e)}`;if(this._isCacheValid(r))return this.cache[r];try{let a;const s=await this.tryAlternativeUrls("DramaCool",async i=>{try{const o=await xe.get(`${i}`);return o&&o.length>0}catch{return!1}});if(!s)return console.error("Aucune URL fonctionnelle trouve pour DramaCool"),[];e.query?a=`${s}/search?keyword=${encodeURIComponent(e.query)}`:a=`${s}/drama-list`;const u=await xe.get(a),n=this._extractDataFromDramaCoolHtml(u);return this.cache[r]=n,this.cacheTimestamps[r]=new Date,n}catch(a){return console.error("Erreur lors de la rcupration depuis DramaCool:",a),[]}}_extractDataFromDramaCoolHtml(e){try{const r=an(e),a=[],s=this._extractAlternativeTitles(r),u=r.querySelectorAll(".block");return u.length>0&&u.forEach(n=>{try{const i=n.querySelector("a"),o=n.querySelector(".title"),c=n.querySelector("img");if(i&&o){const d=i.getAttribute("href"),f=o.textContent.trim(),h=c?c.getAttribute("data-src")||c.getAttribute("src"):"",p=[],m=n.querySelector(".other-name");if(m){const x=m.textContent.trim();x&&x.split(/[,;|/]/).forEach(E=>{const A=E.trim();A&&p.push(A)})}const b=[...new Set([...p,...s])];this.addTitleMapping(f,b),a.push({id:`dramacool-${Math.random().toString(36).substring(2,10)}`,title:f,alternativeTitles:b,link:d.startsWith("http")?d:`https://dramacool.com.tr${d}`,image:h.startsWith("http")?h:`https://dramacool.com.tr${h}`,source:"DramaCool",type:"drama"})}}catch(i){console.warn("Erreur lors de l'extraction d'un lment DramaCool (block):",i)}}),a.length===0&&r.querySelectorAll(".items .item").forEach(i=>{try{const o=i.querySelector("a"),c=i.querySelector(".name")||i.querySelector(".title"),d=i.querySelector("img");if(o&&c){const f=o.getAttribute("href"),h=c.textContent.trim(),p=d?d.getAttribute("data-src")||d.getAttribute("src"):"";a.push({id:`dramacool-${Math.random().toString(36).substring(2,10)}`,title:h,alternativeTitles:s,link:f.startsWith("http")?f:`https://dramacool.com.tr${f}`,image:p.startsWith("http")?p:`https://dramacool.com.tr${p}`,source:"DramaCool",type:"drama"})}}catch(o){console.warn("Erreur lors de l'extraction d'un lment DramaCool (item):",o)}}),a.length===0&&r.querySelectorAll("ul.list-episode-item li").forEach(i=>{try{const o=i.querySelector("a"),c=i.querySelector("h3")||i.querySelector(".title")||o,d=i.querySelector("img");if(o&&c){const f=o.getAttribute("href"),h=c.textContent.trim(),p=d?d.getAttribute("data-src")||d.getAttribute("src"):"";a.push({id:`dramacool-${Math.random().toString(36).substring(2,10)}`,title:h,alternativeTitles:s,link:f.startsWith("http")?f:`https://dramacool.com.tr${f}`,image:p.startsWith("http")?p:`https://dramacool.com.tr${p}`,source:"DramaCool",type:"drama"})}}catch(o){console.warn("Erreur lors de l'extraction d'un lment DramaCool (list):",o)}}),a}catch(r){return console.error("Erreur lors de l'extraction des donnes DramaCool:",r),[]}}async getPopular(){const e="popular_all";if(this._isCacheValid(e))return this.cache[e];try{const[r,a,s]=await Promise.all([this.getPopularDramas(),this.getPopularAnimes(),this.getPopularMovies()]),u=[...r,...a,...s],n=this._removeDuplicates(u,"title");return this.cache[e]=n,this.cacheTimestamps[e]=new Date,n}catch(r){return console.error("Erreur lors de la rcupration des contenus populaires:",r),[]}}async getPopularDramas(){const e="popular_dramas";if(this._isCacheValid(e))return this.cache[e];try{const r=await this.fetchFromVoirDrama({}),a=await this.fetchFromDramaCool({}),s=[...r,...a],u=this._removeDuplicates(s,"title");return this.cache[e]=u,this.cacheTimestamps[e]=new Date,u}catch(r){return console.error("Erreur lors de la rcupration des dramas populaires:",r),[]}}async getPopularAnimes(){const e="popular_animes";if(this._isCacheValid(e))return this.cache[e];try{let r=[];try{const u=await this.tryAlternativeUrls("VoirAnime",async n=>{try{const i=await xe.get(`${n}/anime-list`);return i&&i.includes("anime-list")}catch{return!1}});if(u){const n=await xe.get(`${u}/home`),i=this._extractDataFromVoirAnimeHtml(n);r.push(...i)}}catch(u){console.error("Erreur lors de la rcupration des anims depuis VoirAnime:",u)}try{const u=await this.tryAlternativeUrls("GogoAnime",async n=>{try{const i=await xe.get(`${n}`);return i&&i.includes("GogoAnime")}catch{return!1}});if(u){const n=await xe.get(`${u}/home`),i=this._extractDataFromGogoAnimeHtml(n);r.push(...i)}}catch(u){console.error("Erreur lors de la rcupration des anims depuis GogoAnime:",u)}const a=xt.filter(u=>u.enabled&&(u.type==="anime"||u.name==="VoirAnime"));for(const u of a)try{const n=await this.tryAlternativeUrls(u.name,async i=>{try{return(await fetch(`${i}/ping`)).ok}catch{return!1}});if(!n)continue;if(u.name==="Jikan"){const i=`${n}/top/anime?limit=20`,o=await fetch(i);if(!o.ok)throw new Error(`Erreur HTTP: ${o.status}`);const c=await o.json(),d=xe.extractDataFromResponse(c.data);if(u.transform&&typeof u.transform=="function"){const f=Array.isArray(d.data)?d.data.map(u.transform):[];r.push(...f)}}}catch(n){console.error(`Erreur lors de la rcupration des anims depuis ${u.name}:`,n)}const s=this._removeDuplicates(r,"title");return this.cache[e]=s,this.cacheTimestamps[e]=new Date,s}catch(r){return console.error("Erreur lors de la rcupration des anims populaires:",r),[]}}async getPopularMovies(){const e="popular_movies";if(this._isCacheValid(e))return this.cache[e];try{let r=[];const a=xt.find(n=>n.name==="TMDB"&&n.enabled);if(a&&a.apiKey)try{const n=`${a.baseUrl}/movie/popular?api_key=${a.apiKey}&language=fr-FR`,i=await fetch(n);if(!i.ok)throw new Error(`Erreur HTTP: ${i.status}`);const o=await i.json(),c=xe.extractDataFromResponse(o.results);if(a.transform&&typeof a.transform=="function"){const d=Array.isArray(c.data)?c.data.map(f=>a.transform({...f,media_type:"movie"})):[];r.push(...d)}}catch(n){console.error("Erreur lors de la rcupration des films depuis TMDB:",n)}const s=xt.filter(n=>n.enabled&&(n.name==="Zee5Bollywood"||n.name==="HotstarBollywood"));for(const n of s)try{const o=`${n.baseUrl}${n.apiPath}`,c=await xe.get(o),d=this._extractBollywoodContent(c,n.name);r.push(...d)}catch(i){console.error(`Erreur lors de la rcupration des films depuis ${n.name}:`,i)}const u=this._removeDuplicates(r,"title");return this.cache[e]=u,this.cacheTimestamps[e]=new Date,u}catch(r){return console.error("Erreur lors de la rcupration des films populaires:",r),[]}}async getPopularKshows(){const e="popular_kshows";if(this._isCacheValid(e))return this.cache[e];try{let r=[];try{const s=await this.tryAlternativeUrls("DramaCool",async u=>{try{const n=await xe.get(`${u}/kshow`);return n&&n.includes("kshow")}catch{return!1}});if(s){const u=await xe.get(`${s}/kshow`),i=this._extractDataFromDramaCoolHtml(u).filter(o=>o.title.toLowerCase().includes("show")||o.title.toLowerCase().includes("variety")||o.title.toLowerCase().includes("episode"));r.push(...i)}}catch(s){console.error("Erreur lors de la rcupration des K-shows depuis DramaCool:",s)}const a=this._removeDuplicates(r,"title");return this.cache[e]=a,this.cacheTimestamps[e]=new Date,a}catch(r){return console.error("Erreur lors de la rcupration des K-shows populaires:",r),[]}}async searchDramas(e){if(!e||e.trim()==="")return[];console.log(`[ScrapingService] Recherche de dramas pour: ${e}`);const r=this.normalizeTitle(e),a=`search_dramas_${r}`;if(this._isCacheValid(a))return console.log(`[ScrapingService] Utilisation du cache pour la recherche de dramas: ${r}`),this.cache[a];try{const s=xt.filter(i=>i.enabled&&(!i.type||i.type==="drama"));s.sort((i,o)=>i.priority-o.priority);let n=(await Promise.all(s.map(async i=>{try{let o=[];switch(i.name){case"VoirDrama":o=await this.fetchFromVoirDrama({query:e});break;case"DramaCool":o=await this.fetchFromDramaCool({query:e});break;case"AsianC":o=await this.fetchFromAsianC({query:e});break;case"DramaDay":o=await this.fetchFromDramaDay({query:e});break;case"MyDramaList":o=await this.fetchFromMyDramaList({query:e});break;default:return console.warn(`[ScrapingService] Source non prise en charge: ${i.name}`),[]}return i.transform&&typeof i.transform=="function"&&(o=o.map(i.transform)),o}catch(o){return console.error(`[ScrapingService] Erreur lors de la recherche sur ${i.name}:`,o),[]}}))).flat();return n=n.filter(i=>this.titleMatchesQuery(i.title,r)),n=this._removeDuplicates(n),this.cache[a]=n,this.cacheTimestamps[a]=Date.now(),console.log(`[ScrapingService] Rsultats de recherche pour ${e}:`,n.length),n}catch(s){return console.error("[ScrapingService] Erreur lors de la recherche de dramas:",s),[]}}async searchAnime(e){if(!e||e.trim().length===0)return[];const a=`search_anime_${this.normalizeTitle(e)}`;if(this._isCacheValid(a))return this.cache[a];try{const s=xt.filter(d=>d.enabled&&(d.type==="anime"||d.name==="VoirAnime")),u=[],n=s.map(async d=>{try{let f=[];if(d.isApi){const h=await this.tryAlternativeUrls(d.name,async x=>{try{return(await fetch(`${x}/ping`)).ok}catch{return!1}});if(!h)return console.warn(`API ${d.name} non disponible`),[];const p=`${h}${d.apiPath}?q=${encodeURIComponent(e)}`,m=await fetch(p);if(!m.ok)throw new Error(`Erreur HTTP: ${m.status}`);const b=await m.json();d.transform&&typeof d.transform=="function"?f=Array.isArray(b.results||b)?(b.results||b).map(d.transform):[]:f=b.results||b||[]}else if(d.name==="VoirAnime"){const h=await this.tryAlternativeUrls(d.name,async b=>{try{const x=await xe.get(`${b}/anime-list`);return x&&x.includes("anime-list")}catch{return!1}});if(!h)return console.warn("VoirAnime non disponible"),[];const p=`${h}/search?keyword=${encodeURIComponent(e)}`,m=await xe.get(p);f=this._extractDataFromVoirAnimeHtml(m)}else if(d.name==="GogoAnime"){const h=await this.tryAlternativeUrls(d.name,async b=>{try{const x=await xe.get(`${b}`);return x&&x.includes("GogoAnime")}catch{return!1}});if(!h)return console.warn("GogoAnime non disponible"),[];const p=`${h}/search.html?keyword=${encodeURIComponent(e)}`,m=await xe.get(p);f=this._extractDataFromGogoAnimeHtml(m)}return f.map(h=>({...h,source:d.name,type:"anime"}))}catch(f){return console.error(`Erreur lors de la recherche dans ${d.name}:`,f),[]}});(await Promise.all(n)).forEach(d=>{u.push(...d)});const o=u.filter(d=>this.titleMatchesQuery(d.title,e)||d.alternativeTitles&&d.alternativeTitles.some(f=>this.titleMatchesQuery(f,e))),c=this._removeDuplicates(o,"title");return this.cache[a]=c,this.cacheTimestamps[a]=new Date,c}catch(s){return console.error("Erreur lors de la recherche d'anims:",s),[]}}async searchAll(e){if(!e||e.trim().length===0)return{dramas:[],animes:[],movies:[]};const a=`search_all_${this.normalizeTitle(e)}`;if(this._isCacheValid(a))return this.cache[a];try{const[s,u]=await Promise.all([this.searchDramas(e),this.searchAnime(e)]),n=s.filter(c=>c.type==="movie"),o={dramas:s.filter(c=>c.type!=="movie"),animes:u,movies:n};return this.cache[a]=o,this.cacheTimestamps[a]=new Date,o}catch(s){return console.error("Erreur lors de la recherche multi-source:",s),{dramas:[],animes:[],movies:[]}}}async _solveCloudflareChallenge(e){const a=await require("puppeteer-core").launch({executablePath:"/Applications/Google Chrome.app/Contents/MacOS/Google Chrome",headless:"new",args:["--no-sandbox"]}),s=await a.newPage();await s.goto(e,{waitUntil:"networkidle2",timeout:3e4});const u=await s.cookies(),n=await s.evaluate(()=>navigator.userAgent);return await a.close(),{cookies:u.map(i=>`${i.name}=${i.value}`).join("; "),headers:{"User-Agent":n,"Accept-Language":"fr-FR,fr;q=0.9"}}}async _extractBollywoodContent(e,r){const s=r==="hotstar"?".tile-container":".movie-card";return this._adaptiveSelectorSearch(e,[`${s} .title`,`${s} [data-testid='title']`,"h3.movieTitle"])}async _extractSubtitleLinks(e,r){try{const a=await this._fetchHtml(e),u=an(a).querySelectorAll('.subtitle-item, .sub-item, [data-type="subtitle"]');return Array.from(u).map(n=>{const i=n.getAttribute("data-src")||n.getAttribute("src"),o=n.getAttribute("data-lang")||n.getAttribute("lang")||"en";return{url:i,lang:o}})}catch(a){return console.error(`Erreur lors de l'extraction des sous-titres: ${a.message}`),[]}}async _translateSubtitle(e,r="fr"){return vc.translate(e,r)}async _processSubtitles(e,r){const s=[];for(let u=0;u<r.length;u+=5){const i=r.slice(u,u+5).map(async o=>{try{const d=(await sn.get(o.url)).data,f=xc(d),h=await vc.translateSubtitles(f,"fr"),p=xc.stringify(h);s.push({lang:o.lang,targetLang:"fr",content:p})}catch(c){console.error(`Erreur de traitement du sous-titre: ${c.message}`)}});await Promise.all(i),u+5<r.length&&await new Promise(o=>setTimeout(o,2e3))}return s}}const kb=new jb,Dc={ESSENTIAL:{id:"essential",name:"Essentiel",description:"L'essentiel pour dcouvrir FloDrama",monthlyPrice:1.99,yearlyPrice:23,features:["Accs  tous les dramas","Qualit HD","Visionnage sur 1 cran  la fois"]},PREMIUM:{id:"premium",name:"Premium",description:"Notre offre la plus populaire",monthlyPrice:2.99,yearlyPrice:35,features:["Accs  tous les dramas","Qualit Full HD","Visionnage sur 2 crans  la fois","Sans publicit"]},ULTIMATE:{id:"ultimate",name:"Ultimate",description:"L'exprience FloDrama ultime",monthlyPrice:4.99,yearlyPrice:55,features:["Accs  tous les dramas","Qualit 4K Ultra HD","Visionnage sur 4 crans  la fois","Sans publicit","Accs anticip aux nouveauts"]}},Le={INACTIVE:"inactive",TRIAL:"trial",SUBSCRIBED_TRIAL:"subscribed_trial",ACTIVE:"active"};class Nb{constructor(){this.initLocalStorage()}initLocalStorage(){localStorage.getItem("flodrama_subscription")||localStorage.setItem("flodrama_subscription",JSON.stringify({status:Le.INACTIVE,plan:null,startDate:null,endDate:null,trialEndDate:null,subscriptionTrialEndDate:null,paymentMethod:null,autoRenew:!0}))}getSubscriptionData(){const e=localStorage.getItem("flodrama_subscription");return e?JSON.parse(e):null}updateSubscriptionData(e){const r=this.getSubscriptionData();localStorage.setItem("flodrama_subscription",JSON.stringify({...r,...e}))}isInInitialTrial(){const e=this.getSubscriptionData();return e?e.status===Le.TRIAL&&e.trialEndDate&&new Date(e.trialEndDate)>new Date:!1}isInSubscriptionTrial(){const e=this.getSubscriptionData();return e?e.status===Le.SUBSCRIBED_TRIAL&&e.subscriptionTrialEndDate&&new Date(e.subscriptionTrialEndDate)>new Date:!1}hasActiveSubscription(){const e=this.getSubscriptionData();return e?(e.status===Le.ACTIVE||this.isInInitialTrial()||this.isInSubscriptionTrial())&&e.endDate&&new Date(e.endDate)>new Date:!1}canAccessPremiumContent(){return this.hasActiveSubscription()||this.isInInitialTrial()||this.isInSubscriptionTrial()}startInitialTrial(){const e=new Date,r=new Date(e);r.setDate(r.getDate()+7);const a={status:Le.TRIAL,startDate:e.toISOString(),trialEndDate:r.toISOString(),endDate:r.toISOString()};return this.updateSubscriptionData(a),this.getSubscriptionData()}subscribe(e,r){const a=Object.values(Dc).find(o=>o.id===e);if(!a)throw new Error(`Plan d'abonnement invalide: ${e}`);const s=new Date,u=new Date(s);u.setMonth(u.getMonth()+1);const n=new Date(u);n.setFullYear(n.getFullYear()+1);const i={status:Le.SUBSCRIBED_TRIAL,plan:a,startDate:s.toISOString(),subscriptionTrialEndDate:u.toISOString(),endDate:n.toISOString(),paymentMethod:r,autoRenew:!0};return this.updateSubscriptionData(i),this.getSubscriptionData()}cancelSubscription(){return this.updateSubscriptionData({autoRenew:!1}),this.getSubscriptionData()}reactivateSubscription(){return this.updateSubscriptionData({autoRenew:!0}),this.getSubscriptionData()}changePlan(e){const r=Object.values(Dc).find(a=>a.id===e);if(!r)throw new Error(`Plan d'abonnement invalide: ${e}`);return this.updateSubscriptionData({plan:r}),this.getSubscriptionData()}activateSubscription(){return this.updateSubscriptionData({status:Le.ACTIVE}),this.getSubscriptionData()}checkSubscriptionExpiration(){const e=this.getSubscriptionData();if(!e)return!0;const r=new Date;if(e.status===Le.TRIAL&&e.trialEndDate&&new Date(e.trialEndDate)<r)return this.updateSubscriptionData({status:Le.INACTIVE}),!0;if(e.status===Le.SUBSCRIBED_TRIAL&&e.subscriptionTrialEndDate&&new Date(e.subscriptionTrialEndDate)<r&&this.updateSubscriptionData({status:Le.ACTIVE}),e.endDate&&new Date(e.endDate)<r)if(e.autoRenew){const a=new Date(e.endDate);return a.setFullYear(a.getFullYear()+1),this.updateSubscriptionData({endDate:a.toISOString()}),!1}else return this.updateSubscriptionData({status:Le.INACTIVE}),!0;return!1}resetSubscriptionData(){localStorage.removeItem("flodrama_subscription"),this.initLocalStorage()}getRemainingTrialDays(){const e=this.getSubscriptionData();if(!e)return 0;const r=new Date;let a=null;if(this.isInInitialTrial())a=new Date(e.trialEndDate);else if(this.isInSubscriptionTrial())a=new Date(e.subscriptionTrialEndDate);else return 0;const s=Math.abs(a-r);return Math.ceil(s/(1e3*60*60*24))}}const Me=new Nb,zd=C.createContext(null),Ub=()=>{const t=C.useContext(zd);if(!t)throw new Error("useSubscription doit tre utilis  l'intrieur d'un SubscriptionProvider");return t},Pb=({children:t})=>{const[e,r]=C.useState(null),[a,s]=C.useState(!0),[u,n]=C.useState(null);C.useEffect(()=>{try{const g=Me.getSubscriptionData();r(g),Me.checkSubscriptionExpiration(),s(!1)}catch(g){console.error("Erreur lors du chargement des donnes d'abonnement:",g),n(g.message),s(!1)}},[]);const i=C.useCallback(()=>{try{const g=Me.getSubscriptionData();return r(g),g}catch(g){return console.error("Erreur lors de la mise  jour des donnes d'abonnement:",g),n(g.message),null}},[]),o=C.useCallback(()=>{try{const g=Me.startInitialTrial();return r(g),g}catch(g){return console.error("Erreur lors du dmarrage de la priode d'essai:",g),n(g.message),null}},[]),c=C.useCallback((g,v)=>{try{const D=Me.subscribe(g,v);return r(D),D}catch(D){return console.error("Erreur lors de la souscription  l'abonnement:",D),n(D.message),null}},[]),d=C.useCallback(()=>{try{const g=Me.cancelSubscription();return r(g),g}catch(g){return console.error("Erreur lors de l'annulation de l'abonnement:",g),n(g.message),null}},[]),f=C.useCallback(()=>{try{const g=Me.reactivateSubscription();return r(g),g}catch(g){return console.error("Erreur lors de la ractivation de l'abonnement:",g),n(g.message),null}},[]),h=C.useCallback(g=>{try{const v=Me.changePlan(g);return r(v),v}catch(v){return console.error("Erreur lors du changement de plan:",v),n(v.message),null}},[]),p=C.useCallback(()=>Me.canAccessPremiumContent(),[]),m=C.useCallback(()=>Me.isInInitialTrial(),[]),b=C.useCallback(()=>Me.isInSubscriptionTrial(),[]),x=C.useCallback(()=>Me.hasActiveSubscription(),[]),E=C.useCallback(()=>{try{Me.resetSubscriptionData(),i()}catch(g){console.error("Erreur lors de la rinitialisation des donnes d'abonnement:",g),n(g.message)}},[i]),A=C.useCallback(()=>{if(!e)return 0;let g=null;if(e.status===Le.TRIAL&&e.trialEndDate?g=new Date(e.trialEndDate):e.status===Le.SUBSCRIBED_TRIAL&&e.subscriptionTrialEndDate&&(g=new Date(e.subscriptionTrialEndDate)),!g)return 0;const D=g-new Date,S=Math.ceil(D/(1e3*60*60*24));return S>0?S:0},[e]),y={subscriptionData:e,loading:a,error:u,refreshSubscriptionData:i,startInitialTrial:o,subscribe:c,cancelSubscription:d,reactivateSubscription:f,changePlan:h,canAccessPremiumContent:p,isInInitialTrial:m,isInSubscriptionTrial:b,hasActiveSubscription:x,resetSubscriptionData:E,getRemainingTrialDays:A};return l.jsx(zd.Provider,{value:y,children:t})},Bb=()=>{const t=Rn(),e=se.lazy(()=>we(()=>import("./FAQPage-BN8zG_Rb.js"),__vite__mapDeps([0,1,2,3]))),r=se.lazy(()=>we(()=>import("./ContactPage-p9IBS_MY.js"),__vite__mapDeps([4,1,2,3]))),a=se.lazy(()=>we(()=>import("./AboutPage-CJCl-N7y.js"),__vite__mapDeps([5,1,2,6,7,3]))),s=se.lazy(()=>we(()=>import("./TechnologiesPage-nrV_Er8G.js"),__vite__mapDeps([8,1,2,6,3]))),u=se.lazy(()=>we(()=>import("./TermsPage-DSSBJ3ec.js"),__vite__mapDeps([9,1,2,3]))),n=se.lazy(()=>we(()=>import("./PrivacyPage-BqwkD3qg.js"),__vite__mapDeps([10,1,2,11,3]))),i=se.lazy(()=>we(()=>import("./HelpPage-DLZW6CT8.js"),__vite__mapDeps([12,1,2,13,3]))),o=se.lazy(()=>we(()=>import("./SubscriptionPage-CGYnhLrA.js"),__vite__mapDeps([14,1,2,15,16,13,3]))),c=se.lazy(()=>we(()=>import("./AccountPage-uZdc1dEK.js"),__vite__mapDeps([17,1,2,15,18,3]))),d=se.lazy(()=>we(()=>import("./DetailPage-CKC5okXK.js"),__vite__mapDeps([19,1,2,16,3]))),f=se.lazy(()=>we(()=>import("./PlayPage-QQeFIl2N.js"),__vite__mapDeps([20,1,2,3]))),h=se.lazy(()=>we(()=>import("./WatchPartyPage-jWIyoXYr.js"),__vite__mapDeps([21,1,2,22,23]))),p=se.lazy(()=>we(()=>import("./WatchPartyListPage-DWtFeikW.js"),__vite__mapDeps([24,1,2,22,23]))),m=se.lazy(()=>we(()=>import("./VideoPlayerPage-BBLmcmjA.js"),__vite__mapDeps([25,1,2,26,7,18,3]))),b=se.lazy(()=>we(()=>import("./PremiumContentExample-eTPVQB5K.js"),__vite__mapDeps([27,1,2,11,3]))),x=se.lazy(()=>we(()=>import("./BrowsePage-DQNit-eS.js"),__vite__mapDeps([28,1,2,26,3])));return l.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-900 text-white",children:[l.jsx(sa,{}),l.jsx("main",{className:"flex-grow",children:l.jsx(pr,{mode:"wait",children:l.jsxs(l0,{location:t,children:[l.jsx(te,{path:"/",element:l.jsx(Z,{type:"fade",children:l.jsx(kg,{})})}),l.jsx(te,{path:"/dramas",element:l.jsx(Z,{type:"slide",direction:"right",children:l.jsx(Ng,{})})}),l.jsx(te,{path:"/movies",element:l.jsx(Z,{type:"slide",direction:"left",children:l.jsx(Pg,{})})}),l.jsx(te,{path:"/bollywood",element:l.jsx(Z,{type:"slide",direction:"left",children:l.jsx(x,{category:"bollywood"})})}),l.jsx(te,{path:"/anime",element:l.jsx(Z,{type:"slide",direction:"left",children:l.jsx(x,{category:"anime"})})}),l.jsx(te,{path:"/categories",element:l.jsx(Z,{type:"slide",direction:"left",children:l.jsx(x,{})})}),l.jsx(te,{path:"/search",element:l.jsx(Z,{type:"fade",children:l.jsx(zg,{})})}),l.jsx(te,{path:"/watchlist",element:l.jsx(Z,{type:"slide",direction:"right",children:l.jsx(Wg,{})})}),l.jsx(te,{path:"/:type/:id",element:l.jsx(Z,{type:"zoom",children:l.jsx(C.Suspense,{fallback:l.jsx(he,{}),children:l.jsx(d,{})})})}),l.jsx(te,{path:"/:type/:id/play/:episode?",element:l.jsx(Z,{type:"fade",children:l.jsx(C.Suspense,{fallback:l.jsx(he,{}),children:l.jsx(f,{})})})}),l.jsx(te,{path:"/subscription",element:l.jsx(Z,{type:"fade",children:l.jsx(C.Suspense,{fallback:l.jsx(he,{}),children:l.jsx(o,{})})})}),l.jsx(te,{path:"/account",element:l.jsx(Z,{type:"fade",children:l.jsx(C.Suspense,{fallback:l.jsx(he,{}),children:l.jsx(c,{})})})}),l.jsx(te,{path:"/premium-example",element:l.jsx(Z,{type:"fade",children:l.jsx(C.Suspense,{fallback:l.jsx(he,{}),children:l.jsx(b,{})})})}),l.jsx(te,{path:"/support/faq",element:l.jsx(Z,{type:"fade",children:l.jsx(C.Suspense,{fallback:l.jsx(he,{}),children:l.jsx(e,{})})})}),l.jsx(te,{path:"/support/contact",element:l.jsx(Z,{type:"slide",direction:"right",children:l.jsx(C.Suspense,{fallback:l.jsx(he,{}),children:l.jsx(r,{})})})}),l.jsx(te,{path:"/support/about",element:l.jsx(Z,{type:"slide",direction:"left",children:l.jsx(C.Suspense,{fallback:l.jsx(he,{}),children:l.jsx(a,{})})})}),l.jsx(te,{path:"/support/technologies",element:l.jsx(Z,{type:"slide",direction:"left",children:l.jsx(C.Suspense,{fallback:l.jsx(he,{}),children:l.jsx(s,{})})})}),l.jsx(te,{path:"/support/terms",element:l.jsx(Z,{type:"slide",direction:"left",children:l.jsx(C.Suspense,{fallback:l.jsx(he,{}),children:l.jsx(u,{})})})}),l.jsx(te,{path:"/support/privacy",element:l.jsx(Z,{type:"slide",direction:"left",children:l.jsx(C.Suspense,{fallback:l.jsx(he,{}),children:l.jsx(n,{})})})}),l.jsx(te,{path:"/support/help",element:l.jsx(Z,{type:"slide",direction:"left",children:l.jsx(C.Suspense,{fallback:l.jsx(he,{}),children:l.jsx(i,{})})})}),l.jsx(te,{path:"/download",element:l.jsx(Z,{type:"slide",direction:"left",children:l.jsx(C.Suspense,{fallback:l.jsx(he,{}),children:l.jsx(pb,{})})})}),l.jsx(te,{path:"/app",element:l.jsx(Z,{type:"slide",direction:"up",children:l.jsx(C.Suspense,{fallback:l.jsx(he,{}),children:l.jsx(mb,{})})})}),l.jsx(te,{path:"/notifications",element:l.jsx(Z,{type:"fade",children:l.jsx(C.Suspense,{fallback:l.jsx(he,{}),children:l.jsx(fc,{message:"Page de notifications en cours de dveloppement"})})})}),l.jsx(te,{path:"/admin",element:l.jsx(Z,{type:"fade",children:l.jsx(hb,{})})}),l.jsx(te,{path:"/watch-party/:id",element:l.jsx(Z,{type:"slide",children:l.jsx(C.Suspense,{fallback:l.jsx(he,{}),children:l.jsx(h,{})})})}),l.jsx(te,{path:"/watch-parties",element:l.jsx(Z,{type:"slide",direction:"right",children:l.jsx(C.Suspense,{fallback:l.jsx(he,{}),children:l.jsx(p,{})})})}),l.jsx(te,{path:"/video/:id",element:l.jsx(Z,{type:"fade",children:l.jsx(C.Suspense,{fallback:l.jsx(he,{}),children:l.jsx(m,{})})})}),l.jsx(te,{path:"*",element:l.jsx(Z,{type:"fade",children:l.jsx(fc,{})})})]},t.pathname)})}),l.jsx(na,{})]})},Fb=()=>{const[t,e]=C.useState(!0);return C.useEffect(()=>{bb(),Sb();const r=setTimeout(()=>{e(!1)},2e3);return()=>clearTimeout(r)},[]),C.useEffect(()=>{(async()=>{try{await kb.preloadHomePageData()}catch(a){console.error("Erreur lors du prchargement des donnes:",a)}})()},[]),t?l.jsx(Ud,{}):l.jsx(c0,{children:l.jsxs(Pb,{children:[l.jsx(Bb,{}),l.jsx(na,{})]})})},Lb=y0.createRoot(document.getElementById("root"));Lb.render(l.jsx(se.StrictMode,{children:l.jsx(Fb,{})}));console.log("Mode production: service de scraping dsactiv pour viter les erreurs de compatibilit navigateur");"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(t=>{console.log("Service Worker enregistr avec succs:",t.scope)}).catch(t=>{console.error("Erreur lors de l'enregistrement du Service Worker:",t)})});export{ou as A,$2 as B,cr as C,nu as D,um as E,na as F,nm as G,Z2 as H,uu as I,he as L,Xl as M,sa as N,Z as P,rm as S,sm as T,Fi as U,sr as X,W2 as a,X2 as b,W as c,iu as d,G2 as e,K2 as f,Dc as g,Le as h,su as i,rt as j,om as k,Kl as l,I as m,ed as n,ra as o,z2 as p,Gg as q,am as r,Me as s,Jl as t,Ub as u,Zl as v,Ob as w,J2 as x,fm as y,pr as z};
//# sourceMappingURL=index-Utl-8Kwq.js.map
