import{W,Y as k,r as h,Z as D,j as t,K as f,_ as I,$ as T,a0 as me,a1 as q,a2 as he,a3 as ge,a4 as H,a5 as xe,a6 as ve,a7 as fe,a8 as B,a9 as Y,aa as P,J as be,O as b,V as g,Q as Z,ab as _,ac as K,ad as G}from"./index-FDuPggmr.js";import{a as Ce,w as je,S as Se,A as ye,C as we}from"./useSubscription-D8wRsjCn.js";import{B as M}from"./Button-C1BsRgvR.js";import{D as Me,a as Ie,b as We,F as ke,S as De,c as Te}from"./Switch-vtCddu24.js";function $e(e){return W("MuiCard",e)}k("MuiCard",["root"]);const ze=e=>{const{classes:s}=e;return T({root:["root"]},$e,s)},Ne=f(me,{name:"MuiCard",slot:"Root",overridesResolver:(e,s)=>s.root})({overflow:"hidden"}),Re=h.forwardRef(function(s,i){const o=D({props:s,name:"MuiCard"}),{className:r,raised:a=!1,...l}=o,d={...o,raised:a},c=ze(d);return t.jsx(Ne,{className:I(c.root,r),elevation:a?8:void 0,ref:i,ownerState:d,...l})});function Pe(e){return W("MuiCardActions",e)}k("MuiCardActions",["root","spacing"]);const Ae=e=>{const{classes:s,disableSpacing:i}=e;return T({root:["root",!i&&"spacing"]},Pe,s)},Ve=f("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:i}=e;return[s.root,!i.disableSpacing&&s.spacing]}})({display:"flex",alignItems:"center",padding:8,variants:[{props:{disableSpacing:!1},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),J=h.forwardRef(function(s,i){const o=D({props:s,name:"MuiCardActions"}),{disableSpacing:r=!1,className:a,...l}=o,d={...o,disableSpacing:r},c=Ae(d);return t.jsx(Ve,{className:I(c.root,a),ownerState:d,ref:i,...l})});function Ge(e){return W("MuiCardContent",e)}k("MuiCardContent",["root"]);const Fe=e=>{const{classes:s}=e;return T({root:["root"]},Ge,s)},Be=f("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,s)=>s.root})({padding:16,"&:last-child":{paddingBottom:24}}),Ee=h.forwardRef(function(s,i){const o=D({props:s,name:"MuiCardContent"}),{className:r,component:a="div",...l}=o,d={...o,component:a},c=Fe(d);return t.jsx(Be,{as:a,className:I(c.root,r),ownerState:d,ref:i,...l})});function Le(e){return W("MuiCardMedia",e)}k("MuiCardMedia",["root","media","img"]);const Ue=e=>{const{classes:s,isMediaComponent:i,isImageComponent:o}=e;return T({root:["root",i&&"media",o&&"img"]},Le,s)},Oe=f("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:i}=e,{isMediaComponent:o,isImageComponent:r}=i;return[s.root,o&&s.media,r&&s.img]}})({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",variants:[{props:{isMediaComponent:!0},style:{width:"100%"}},{props:{isImageComponent:!0},style:{objectFit:"cover"}}]}),He=["video","audio","picture","iframe","img"],qe=["picture","img"],Ke=h.forwardRef(function(s,i){const o=D({props:s,name:"MuiCardMedia"}),{children:r,className:a,component:l="div",image:d,src:c,style:u,...m}=o,p=He.includes(l),x=!p&&d?{backgroundImage:`url("${d}")`,...u}:u,v={...o,component:l,isMediaComponent:p,isImageComponent:qe.includes(l)},C=Ue(v);return t.jsx(Oe,{className:I(C.root,a),as:l,role:!p&&d?"img":void 0,ref:i,style:x,ownerState:v,src:p?d||c:void 0,...m,children:r})});function Ye(e){return W("MuiFab",e)}const Q=k("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),Ze=e=>{const{color:s,variant:i,classes:o,size:r}=e,a={root:["root",i,`size${q(r)}`,s==="inherit"?"colorInherit":s]},l=T(a,Ye,o);return{...o,...l}},_e=f(he,{name:"MuiFab",slot:"Root",shouldForwardProp:e=>ge(e)||e==="classes",overridesResolver:(e,s)=>{const{ownerState:i}=e;return[s.root,s[i.variant],s[`size${q(i.size)}`],i.color==="inherit"&&s.colorInherit,s[q(i.size)],s[i.color]]}})(H(({theme:e})=>{var s,i;return{...e.typography.button,minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(e.vars||e).zIndex.fab,boxShadow:(e.vars||e).shadows[6],"&:active":{boxShadow:(e.vars||e).shadows[12]},color:e.vars?e.vars.palette.text.primary:(i=(s=e.palette).getContrastText)==null?void 0:i.call(s,e.palette.grey[300]),backgroundColor:(e.vars||e).palette.grey[300],"&:hover":{backgroundColor:(e.vars||e).palette.grey.A100,"@media (hover: none)":{backgroundColor:(e.vars||e).palette.grey[300]},textDecoration:"none"},[`&.${Q.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},variants:[{props:{size:"small"},style:{width:40,height:40}},{props:{size:"medium"},style:{width:48,height:48}},{props:{variant:"extended"},style:{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48}},{props:{variant:"extended",size:"small"},style:{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34}},{props:{variant:"extended",size:"medium"},style:{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40}},{props:{color:"inherit"},style:{color:"inherit"}}]}}),H(({theme:e})=>({variants:[...Object.entries(e.palette).filter(xe(["dark","contrastText"])).map(([s])=>({props:{color:s},style:{color:(e.vars||e).palette[s].contrastText,backgroundColor:(e.vars||e).palette[s].main,"&:hover":{backgroundColor:(e.vars||e).palette[s].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[s].main}}}}))]})),H(({theme:e})=>({[`&.${Q.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}))),Je=h.forwardRef(function(s,i){const o=D({props:s,name:"MuiFab"}),{children:r,className:a,color:l="default",component:d="button",disabled:c=!1,disableFocusRipple:u=!1,focusVisibleClassName:m,size:p="large",variant:x="circular",...v}=o,C={...o,color:l,component:d,disabled:c,disableFocusRipple:u,size:p,variant:x},S=Ze(C);return t.jsx(_e,{className:I(S.root,a),component:d,disabled:c,focusRipple:!u,focusVisibleClassName:I(S.focusVisible,m),ownerState:C,ref:i,...v,classes:S,children:r})}),X=h.createContext();function Qe(e){return W("MuiGrid",e)}const Xe=[0,1,2,3,4,5,6,7,8,9,10],et=["column-reverse","column","row-reverse","row"],tt=["nowrap","wrap-reverse","wrap"],N=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],R=k("MuiGrid",["root","container","item","zeroMinWidth",...Xe.map(e=>`spacing-xs-${e}`),...et.map(e=>`direction-xs-${e}`),...tt.map(e=>`wrap-xs-${e}`),...N.map(e=>`grid-xs-${e}`),...N.map(e=>`grid-sm-${e}`),...N.map(e=>`grid-md-${e}`),...N.map(e=>`grid-lg-${e}`),...N.map(e=>`grid-xl-${e}`)]);function st({theme:e,ownerState:s}){let i;return e.breakpoints.keys.reduce((o,r)=>{let a={};if(s[r]&&(i=s[r]),!i)return o;if(i===!0)a={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(i==="auto")a={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const l=B({values:s.columns,breakpoints:e.breakpoints.values}),d=typeof l=="object"?l[r]:l;if(d==null)return o;const c=`${Math.round(i/d*1e8)/1e6}%`;let u={};if(s.container&&s.item&&s.columnSpacing!==0){const m=e.spacing(s.columnSpacing);if(m!=="0px"){const p=`calc(${c} + ${m})`;u={flexBasis:p,maxWidth:p}}}a={flexBasis:c,flexGrow:0,maxWidth:c,...u}}return e.breakpoints.values[r]===0?Object.assign(o,a):o[e.breakpoints.up(r)]=a,o},{})}function it({theme:e,ownerState:s}){const i=B({values:s.direction,breakpoints:e.breakpoints.values});return Y({theme:e},i,o=>{const r={flexDirection:o};return o.startsWith("column")&&(r[`& > .${R.item}`]={maxWidth:"none"}),r})}function le({breakpoints:e,values:s}){let i="";Object.keys(s).forEach(r=>{i===""&&s[r]!==0&&(i=r)});const o=Object.keys(e).sort((r,a)=>e[r]-e[a]);return o.slice(0,o.indexOf(i))}function ot({theme:e,ownerState:s}){const{container:i,rowSpacing:o}=s;let r={};if(i&&o!==0){const a=B({values:o,breakpoints:e.breakpoints.values});let l;typeof a=="object"&&(l=le({breakpoints:e.breakpoints.values,values:a})),r=Y({theme:e},a,(d,c)=>{const u=e.spacing(d);return u!=="0px"?{marginTop:`calc(-1 * ${u})`,[`& > .${R.item}`]:{paddingTop:u}}:l!=null&&l.includes(c)?{}:{marginTop:0,[`& > .${R.item}`]:{paddingTop:0}}})}return r}function nt({theme:e,ownerState:s}){const{container:i,columnSpacing:o}=s;let r={};if(i&&o!==0){const a=B({values:o,breakpoints:e.breakpoints.values});let l;typeof a=="object"&&(l=le({breakpoints:e.breakpoints.values,values:a})),r=Y({theme:e},a,(d,c)=>{const u=e.spacing(d);if(u!=="0px"){const m=`calc(-1 * ${u})`;return{width:`calc(100% + ${u})`,marginLeft:m,[`& > .${R.item}`]:{paddingLeft:u}}}return l!=null&&l.includes(c)?{}:{width:"100%",marginLeft:0,[`& > .${R.item}`]:{paddingLeft:0}}})}return r}function rt(e,s,i={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[i[`spacing-xs-${String(e)}`]];const o=[];return s.forEach(r=>{const a=e[r];Number(a)>0&&o.push(i[`spacing-${r}-${String(a)}`])}),o}const at=f("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:i}=e,{container:o,direction:r,item:a,spacing:l,wrap:d,zeroMinWidth:c,breakpoints:u}=i;let m=[];o&&(m=rt(l,u,s));const p=[];return u.forEach(x=>{const v=i[x];v&&p.push(s[`grid-${x}-${String(v)}`])}),[s.root,o&&s.container,a&&s.item,c&&s.zeroMinWidth,...m,r!=="row"&&s[`direction-xs-${String(r)}`],d!=="wrap"&&s[`wrap-xs-${String(d)}`],...p]}})(({ownerState:e})=>({boxSizing:"border-box",...e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},...e.item&&{margin:0},...e.zeroMinWidth&&{minWidth:0},...e.wrap!=="wrap"&&{flexWrap:e.wrap}}),it,ot,nt,st);function ct(e,s){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const i=[];return s.forEach(o=>{const r=e[o];if(Number(r)>0){const a=`spacing-${o}-${String(r)}`;i.push(a)}}),i}const lt=e=>{const{classes:s,container:i,direction:o,item:r,spacing:a,wrap:l,zeroMinWidth:d,breakpoints:c}=e;let u=[];i&&(u=ct(a,c));const m=[];c.forEach(x=>{const v=e[x];v&&m.push(`grid-${x}-${String(v)}`)});const p={root:["root",i&&"container",r&&"item",d&&"zeroMinWidth",...u,o!=="row"&&`direction-xs-${String(o)}`,l!=="wrap"&&`wrap-xs-${String(l)}`,...m]};return T(p,Qe,s)},F=h.forwardRef(function(s,i){const o=D({props:s,name:"MuiGrid"}),{breakpoints:r}=ve(),a=fe(o),{className:l,columns:d,columnSpacing:c,component:u="div",container:m=!1,direction:p="row",item:x=!1,rowSpacing:v,spacing:C=0,wrap:S="wrap",zeroMinWidth:E=!1,...$}=a,L=v||C,U=c||C,O=h.useContext(X),A=m?d||12:O,z={},y={...$};r.keys.forEach(n=>{$[n]!=null&&(z[n]=$[n],delete y[n])});const V={...a,columns:A,container:m,direction:p,item:x,rowSpacing:L,columnSpacing:U,wrap:S,zeroMinWidth:E,spacing:C,...z,breakpoints:r.keys},j=lt(V);return t.jsx(X.Provider,{value:A,children:t.jsx(at,{ownerState:V,className:I(j.root,l),as:u,ref:i,...y})})}),ee=P(t.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),dt=P(t.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"Group"),te=P(t.jsx("path",{d:"M21 6h-7.59l3.29-3.29L16 2l-4 4-4-4-.71.71L10.59 6H3c-1.1 0-2 .89-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.11-.9-2-2-2m0 14H3V8h18zM9 10v8l7-4z"}),"LiveTv"),se=P(t.jsx("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1z"}),"Lock"),ie=P(t.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39"}),"Public"),ut=h.createContext(),pt=()=>h.useContext(ut),mt=f(we)(({theme:e})=>({paddingTop:e.spacing(4),paddingBottom:e.spacing(8)})),oe=f(Re)(({theme:e})=>({height:"100%",display:"flex",flexDirection:"column",transition:"transform 0.2s","&:hover":{transform:"translateY(-5px)",boxShadow:e.shadows[8]}})),ne=f(Ke)(({theme:e})=>({paddingTop:"56.25%",position:"relative"})),re=f(b)(({theme:e})=>({position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"linear-gradient(to bottom, rgba(0,0,0,0.1) 0%, rgba(0,0,0,0.7) 100%)",display:"flex",flexDirection:"column",justifyContent:"flex-end",padding:e.spacing(2),color:"white"})),ae=f(Ee)(({theme:e})=>({flexGrow:1})),ht=f(Je)(({theme:e})=>({position:"fixed",bottom:e.spacing(4),right:e.spacing(4)})),ce=f(K)(({theme:e,status:s})=>{let i=e.palette.primary.main;return s==="live"?i=e.palette.success.main:s==="scheduled"?i=e.palette.warning.main:s==="ended"&&(i=e.palette.error.main),{backgroundColor:i,color:"white",fontWeight:"bold"}}),bt=()=>{const[e,s]=h.useState([]),[i,o]=h.useState(!0),[r,a]=h.useState(null),[l,d]=h.useState(!1),[c,u]=h.useState({title:"",description:"",contentId:"",isPrivate:!1,scheduledTime:""}),m=be(),{user:p}=pt(),{hasActiveSubscription:x,currentPlan:v}=Ce(),[C,S]=h.useState(!1),[E,$]=h.useState(""),[L,U]=h.useState("info"),O=h.useMemo(()=>je,[]);h.useEffect(()=>{p&&(async()=>{try{if(o(!0),!x||v!=="ultimate"){a("La fonctionnalité Watch Party est disponible uniquement pour les abonnements Ultimate."),o(!1);return}setTimeout(()=>{s([{id:"wp1",title:"Soirée K-Drama",contentId:"drama123",contentTitle:"Crash Landing on You",contentThumbnail:"https://via.placeholder.com/300x200?text=Drama+Thumbnail",hostId:"user1",hostName:"Sophie",participantCount:5,isPrivate:!1,status:"active",createdAt:new Date(Date.now()-36e5).toISOString()},{id:"wp2",title:"Marathon Goblin",contentId:"drama456",contentTitle:"Goblin",contentThumbnail:"https://via.placeholder.com/300x200?text=Goblin",hostId:"user2",hostName:"Thomas",participantCount:3,isPrivate:!0,status:"active",createdAt:new Date(Date.now()-72e5).toISOString()}]),o(!1)},1500)}catch(w){console.error("Erreur lors du chargement des soirées de visionnage:",w),a("Impossible de charger les soirées de visionnage. Veuillez réessayer."),o(!1)}})()},[p,x,v]);const A=async()=>{try{if(o(!0),!c.title||!c.contentId){a("Veuillez remplir tous les champs obligatoires");return}const n=await O.createWatchParty({title:c.title,description:c.description,contentId:c.contentId,isPrivate:c.isPrivate,scheduledTime:c.scheduledTime?new Date(c.scheduledTime):null});d(!1),u({title:"",description:"",contentId:"",isPrivate:!1,scheduledTime:""}),$("Soirée de visionnage créée avec succès !"),U("success"),S(!0),m(`/watch-party/${n.id}`)}catch(n){console.error("Erreur lors de la création de la soirée de visionnage:",n),a("Impossible de créer la soirée de visionnage")}finally{o(!1)}},z=n=>{m(`/watch-party/${n}`)},y=n=>{const{name:w,value:de,checked:ue}=n.target;u(pe=>({...pe,[w]:w==="isPrivate"?ue:de}))},V=n=>new Date(n).toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),j=n=>n.endedAt?{label:"Terminée",value:"ended"}:n.startedAt?{label:"En direct",value:"live"}:n.scheduledTime&&new Date(n.scheduledTime)>new Date?{label:"Programmée",value:"scheduled"}:{label:"En attente",value:"pending"};return t.jsxs(mt,{maxWidth:"lg",children:[t.jsxs(b,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4,children:[t.jsx(g,{variant:"h4",component:"h1",gutterBottom:!0,children:"Soirées de Visionnage"}),t.jsxs(b,{display:"flex",alignItems:"center",children:[p&&t.jsxs(g,{variant:"h6",sx:{mb:2},children:["Bienvenue, ",p.displayName||p.email||"Utilisateur"]}),t.jsx(Se,{open:C,autoHideDuration:6e3,onClose:()=>S(!1),anchorOrigin:{vertical:"top",horizontal:"right"},children:t.jsx(ye,{onClose:()=>S(!1),severity:L,sx:{width:"100%"},children:E})})]})]}),i&&!e.length?t.jsx(b,{display:"flex",justifyContent:"center",my:8,children:t.jsx(Z,{})}):r?t.jsxs(b,{textAlign:"center",my:4,children:[t.jsx(g,{variant:"h6",color:"error",gutterBottom:!0,children:r}),!x&&t.jsx(M,{variant:"contained",color:"primary",onClick:()=>m("/subscription"),sx:{mt:2,mr:2},children:"Découvrir les abonnements Ultimate"}),t.jsx(M,{variant:"outlined",onClick:()=>{a(null),o(!0),(async()=>{try{setTimeout(()=>{s([{id:"wp1",title:"Soirée K-Drama",contentId:"drama123",contentTitle:"Crash Landing on You",contentThumbnail:"https://via.placeholder.com/300x200?text=Drama+Thumbnail",hostId:"user1",hostName:"Sophie",participantCount:5,isPrivate:!1,status:"active",createdAt:new Date(Date.now()-36e5).toISOString()},{id:"wp2",title:"Marathon Goblin",contentId:"drama456",contentTitle:"Goblin",contentThumbnail:"https://via.placeholder.com/300x200?text=Goblin",hostId:"user2",hostName:"Thomas",participantCount:3,isPrivate:!0,status:"active",createdAt:new Date(Date.now()-72e5).toISOString()}]),o(!1)},1500)}catch(w){console.error("Erreur lors du chargement des soirées de visionnage:",w),a("Impossible de charger les soirées de visionnage. Veuillez réessayer."),o(!1)}})()},sx:{mt:2},children:"Réessayer"})]}):e.length===0?t.jsxs(b,{textAlign:"center",my:8,children:[t.jsx(te,{sx:{fontSize:60,color:"text.secondary",mb:2}}),t.jsx(g,{variant:"h6",color:"textSecondary",gutterBottom:!0,children:"Aucune soirée de visionnage disponible"}),t.jsx(g,{variant:"body1",color:"textSecondary",paragraph:!0,children:p?"Créez votre première soirée pour regarder des contenus avec vos amis !":"Connectez-vous pour créer ou rejoindre des soirées de visionnage."}),t.jsx(M,{variant:"contained",color:"primary",startIcon:t.jsx(ee,{}),onClick:()=>d(!0),disabled:!p,children:"Créer une soirée"})]}):t.jsxs(t.Fragment,{children:[t.jsxs(b,{mb:4,children:[t.jsx(g,{variant:"h6",gutterBottom:!0,children:"Soirées en direct"}),t.jsx(_,{sx:{mb:2}}),t.jsx(F,{container:!0,spacing:3,children:e.filter(n=>j(n).value==="live").map(n=>t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsxs(oe,{children:[t.jsx(ne,{image:n.thumbnailUrl||"https://via.placeholder.com/300x169?text=FloDrama",title:n.title,children:t.jsxs(re,{children:[t.jsx(ce,{label:j(n).label,status:j(n).value,size:"small",icon:t.jsx(te,{})}),t.jsx(g,{variant:"h6",component:"div",children:n.title})]})}),t.jsxs(ae,{children:[t.jsxs(b,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1,children:[t.jsxs(g,{variant:"body2",color:"textSecondary",children:["Hôte: ",n.hostName]}),t.jsx(K,{icon:n.isPrivate?t.jsx(se,{}):t.jsx(ie,{}),label:n.isPrivate?"Privée":"Publique",size:"small",variant:"outlined"})]}),t.jsx(g,{variant:"body2",paragraph:!0,children:n.description||"Aucune description"}),t.jsxs(b,{display:"flex",alignItems:"center",children:[t.jsx(dt,{fontSize:"small",color:"action"}),t.jsxs(g,{variant:"body2",color:"textSecondary",sx:{ml:.5},children:[n.participantCount||0," participants"]})]})]}),t.jsx(J,{children:t.jsx(M,{fullWidth:!0,variant:"contained",color:"primary",onClick:()=>z(n.id),children:"Rejoindre"})})]})},n.id))}),!e.some(n=>j(n).value==="live")&&t.jsx(g,{variant:"body2",color:"textSecondary",align:"center",sx:{my:3},children:"Aucune soirée en direct pour le moment"})]}),t.jsxs(b,{mb:4,children:[t.jsx(g,{variant:"h6",gutterBottom:!0,children:"Soirées programmées"}),t.jsx(_,{sx:{mb:2}}),t.jsx(F,{container:!0,spacing:3,children:e.filter(n=>j(n).value==="scheduled").map(n=>t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsxs(oe,{children:[t.jsx(ne,{image:n.thumbnailUrl||"https://via.placeholder.com/300x169?text=FloDrama",title:n.title,children:t.jsxs(re,{children:[t.jsx(ce,{label:j(n).label,status:j(n).value,size:"small"}),t.jsx(g,{variant:"h6",component:"div",children:n.title})]})}),t.jsxs(ae,{children:[t.jsxs(b,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1,children:[t.jsxs(g,{variant:"body2",color:"textSecondary",children:["Hôte: ",n.hostName]}),t.jsx(K,{icon:n.isPrivate?t.jsx(se,{}):t.jsx(ie,{}),label:n.isPrivate?"Privée":"Publique",size:"small",variant:"outlined"})]}),t.jsx(g,{variant:"body2",paragraph:!0,children:n.description||"Aucune description"}),t.jsxs(g,{variant:"body2",color:"primary",fontWeight:"bold",children:["Date: ",V(n.scheduledTime)]})]}),t.jsx(J,{children:t.jsx(M,{fullWidth:!0,variant:"outlined",color:"primary",onClick:()=>z(n.id),children:"Détails"})})]})},n.id))}),!e.some(n=>j(n).value==="scheduled")&&t.jsx(g,{variant:"body2",color:"textSecondary",align:"center",sx:{my:3},children:"Aucune soirée programmée pour le moment"})]})]}),t.jsx(ht,{color:"primary","aria-label":"Créer une soirée de visionnage",onClick:()=>d(!0),disabled:!p,children:t.jsx(ee,{})}),t.jsxs(Me,{open:l,onClose:()=>d(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(Ie,{children:"Créer une nouvelle soirée de visionnage"}),t.jsxs(We,{children:[t.jsx(G,{autoFocus:!0,margin:"dense",name:"title",label:"Titre de la soirée *",type:"text",fullWidth:!0,variant:"outlined",value:c.title,onChange:y,sx:{mb:2}}),t.jsx(G,{margin:"dense",name:"description",label:"Description",type:"text",fullWidth:!0,variant:"outlined",multiline:!0,rows:3,value:c.description,onChange:y,sx:{mb:2}}),t.jsx(G,{margin:"dense",name:"contentId",label:"ID du contenu à regarder *",type:"text",fullWidth:!0,variant:"outlined",value:c.contentId,onChange:y,sx:{mb:2},helperText:"Entrez l'ID du drama, film ou série que vous souhaitez regarder"}),t.jsx(G,{margin:"dense",name:"scheduledTime",label:"Date et heure programmées",type:"datetime-local",fullWidth:!0,variant:"outlined",InputLabelProps:{shrink:!0},value:c.scheduledTime,onChange:y,sx:{mb:2}}),t.jsx(ke,{control:t.jsx(De,{checked:c.isPrivate,onChange:y,name:"isPrivate",color:"primary"}),label:"Soirée privée (accessible uniquement sur invitation)"})]}),t.jsxs(Te,{children:[t.jsx(M,{onClick:()=>d(!1),children:"Annuler"}),t.jsx(M,{onClick:A,variant:"contained",color:"primary",disabled:i||!c.title||!c.contentId,children:i?t.jsx(Z,{size:24}):"Créer"})]})]})]})};export{bt as default};
//# sourceMappingURL=WatchPartyListPage-BUsyDBxF.js.map
