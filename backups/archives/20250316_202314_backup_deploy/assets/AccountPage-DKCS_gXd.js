import{c as u,u as m,r as d,j as e,h as i,P as g,N as b,m as j,f as x,F as y,U as N,B as f,S as v}from"./index-FDuPggmr.js";import{S as w}from"./SubscriptionStatus-W96gTSHz.js";import{S}from"./settings-QgxvAdOX.js";const D=u("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),C=({className:n})=>{const{subscriptionData:t}=m(),[a,c]=d.useState([]);return d.useEffect(()=>{if(t){const s=localStorage.getItem("flodrama_subscription_history");let r=s?JSON.parse(s):[];t.plan&&!r.some(l=>l.planId===t.plan.id&&new Date(l.date).toDateString()===new Date(t.startDate).toDateString())&&(r=[{id:Date.now().toString(),planId:t.plan.id,planName:t.plan.name,date:t.startDate,endDate:t.endDate,price:t.plan.monthlyPrice,status:t.status},...r],localStorage.setItem("flodrama_subscription_history",JSON.stringify(r))),c(r)}},[t]),a.length?e.jsxs("div",{className:`rounded-lg p-4 ${n}`,children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Historique de vos abonnements"}),e.jsx("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Plan"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Date"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Prix"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Statut"})]})}),e.jsx("tbody",{className:"bg-gray-800 divide-y divide-gray-700",children:a.map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-white",children:s.planName})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-gray-300",children:[new Date(s.date).toLocaleDateString(),s.endDate&&` - ${new Date(s.endDate).toLocaleDateString()}`]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-gray-300",children:[s.price.toFixed(2),"€/mois"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${s.status===i.ACTIVE?"bg-green-100 text-green-800":s.status===i.TRIAL||s.status===i.SUBSCRIBED_TRIAL?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:s.status===i.ACTIVE?"Actif":s.status===i.TRIAL?"Essai initial":s.status===i.SUBSCRIBED_TRIAL?"Essai après abonnement":"Inactif"})})]},s.id))})]})})]}):null},A=()=>{const[n,t]=d.useState("subscription"),{subscriptionData:a,cancelSubscription:c,reactivateSubscription:s,hasActiveSubscription:r}=m(),l=()=>{window.confirm("Êtes-vous sûr de vouloir annuler votre abonnement ? Vous pourrez toujours y accéder jusqu'à la fin de la période en cours.")&&c()},p=()=>{s()},h=[{id:"subscription",label:"Abonnement",icon:e.jsx(x,{size:20})},{id:"profile",label:"Profil",icon:e.jsx(N,{size:20})},{id:"notifications",label:"Notifications",icon:e.jsx(f,{size:20})},{id:"security",label:"Sécurité",icon:e.jsx(v,{size:20})},{id:"settings",label:"Paramètres",icon:e.jsx(S,{size:20})}];return e.jsx(g,{type:"fade",children:e.jsxs("div",{className:"bg-gray-900 text-white min-h-screen",children:[e.jsx(b,{}),e.jsx("div",{className:"container mx-auto px-4 py-12 pt-24",children:e.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-6xl mx-auto",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Mon compte"}),e.jsx("p",{className:"text-xl text-gray-400 mb-8",children:"Gérez votre compte et vos préférences"}),e.jsx("div",{className:"flex flex-wrap border-b border-gray-700 mb-8",children:h.map(o=>e.jsxs("button",{className:`flex items-center px-6 py-3 font-medium transition-colors ${n===o.id?"text-pink-500 border-b-2 border-pink-500":"text-gray-400 hover:text-white"}`,onClick:()=>t(o.id),children:[e.jsx("span",{className:"mr-2",children:o.icon}),o.label]},o.id))}),e.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 mb-8",children:[n==="subscription"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Gérer mon abonnement"}),e.jsx(w,{className:"mb-8"}),r()&&a&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Options d'abonnement"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-700 rounded-lg p-6",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Renouvellement automatique"}),e.jsx("p",{className:"text-gray-300 mb-4",children:a.autoRenew?"Votre abonnement sera automatiquement renouvelé à la fin de la période en cours.":"Votre abonnement ne sera pas renouvelé automatiquement et expirera à la fin de la période en cours."}),a.autoRenew?e.jsx("button",{className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors",onClick:l,children:"Annuler l'abonnement"}):e.jsx("button",{className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg transition-colors",onClick:p,children:"Réactiver l'abonnement"})]}),e.jsxs("div",{className:"bg-gray-700 rounded-lg p-6",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Changer de formule"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"Vous pouvez changer de formule à tout moment. Le changement prendra effet immédiatement."}),e.jsx("button",{className:"bg-pink-500 hover:bg-pink-600 text-white px-4 py-2 rounded-lg transition-colors",onClick:()=>window.location.href="/subscription",children:"Voir les formules"})]})]})]}),e.jsx(C,{className:"mb-8"}),e.jsxs("div",{className:"bg-gray-700 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Méthodes de paiement"}),a!=null&&a.paymentMethod?e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-600 rounded-lg mb-4",children:[e.jsx("div",{className:"flex items-center",children:a.paymentMethod.type==="paypal"?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"font-bold text-blue-500 mr-2",children:"Pay"}),e.jsx("span",{className:"text-blue-300",children:"Pal"}),e.jsxs("span",{className:"ml-2 text-gray-300",children:["(",a.paymentMethod.email,")"]})]}):e.jsxs(e.Fragment,{children:[e.jsx(x,{size:20,className:"mr-2"}),e.jsxs("span",{children:["Carte bancaire se terminant par ",a.paymentMethod.lastDigits||"****"]})]})}),e.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full",children:"Par défaut"})]}):e.jsx("p",{className:"text-gray-300 mb-4",children:"Aucune méthode de paiement enregistrée."}),e.jsx("button",{className:"text-pink-500 hover:text-pink-400 transition-colors",onClick:()=>window.location.href="/subscription",children:"Gérer les méthodes de paiement"})]})]}),n==="profile"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Mon profil"}),e.jsx("p",{className:"text-gray-300",children:"Gérez vos informations personnelles et vos préférences de compte."}),e.jsx("div",{className:"mt-6 p-6 bg-gray-700 rounded-lg text-center",children:e.jsx("p",{className:"text-gray-300",children:"Cette section est en cours de développement."})})]}),n==="notifications"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Notifications"}),e.jsx("p",{className:"text-gray-300",children:"Gérez vos préférences de notifications."}),e.jsx("div",{className:"mt-6 p-6 bg-gray-700 rounded-lg text-center",children:e.jsx("p",{className:"text-gray-300",children:"Cette section est en cours de développement."})})]}),n==="security"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Sécurité"}),e.jsx("p",{className:"text-gray-300",children:"Gérez la sécurité de votre compte."}),e.jsx("div",{className:"mt-6 p-6 bg-gray-700 rounded-lg text-center",children:e.jsx("p",{className:"text-gray-300",children:"Cette section est en cours de développement."})})]}),n==="settings"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Paramètres"}),e.jsx("p",{className:"text-gray-300",children:"Gérez les paramètres de votre compte."}),e.jsx("div",{className:"mt-6 p-6 bg-gray-700 rounded-lg text-center",children:e.jsx("p",{className:"text-gray-300",children:"Cette section est en cours de développement."})})]})]}),e.jsx("div",{className:"text-center mb-8",children:e.jsxs("button",{className:"flex items-center mx-auto text-gray-400 hover:text-white transition-colors",children:[e.jsx(D,{size:20,className:"mr-2"}),"Déconnexion"]})})]})}),e.jsx(y,{})]})})};export{A as default};
//# sourceMappingURL=AccountPage-DKCS_gXd.js.map
