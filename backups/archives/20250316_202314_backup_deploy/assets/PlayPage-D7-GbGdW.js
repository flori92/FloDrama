import{n as b,o as N,r as t,z as E,j as e,m as w,L as p,t as L,E as V,I}from"./index-FDuPggmr.js";const S=()=>{const{type:x,id:s,episode:a}=b(),{getItemById:m,isLoading:i,error:u}=N(),[l,j]=t.useState(null),[h,g]=t.useState(""),[f,r]=t.useState(!0),[o,n]=t.useState(null);t.useEffect(()=>{if(i||u)return;const c=m(s);if(c){j(c);try{const d=E(c,a);g(d)}catch(d){console.error("Erreur lors de la récupération de l'URL vidéo:",d),n("Impossible de charger la vidéo. Veuillez réessayer plus tard.")}finally{r(!1)}}else n("Contenu non trouvé"),r(!1)},[s,a,i,u,m]);const v=()=>{r(!1)},y=()=>{r(!1),n("Erreur lors du chargement de la vidéo. Veuillez réessayer plus tard.")};return e.jsxs(w.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"relative min-h-screen bg-black",children:[e.jsx("div",{className:"absolute top-4 left-4 z-10",children:e.jsxs(p,{to:`/${x}/${s}`,className:"flex items-center gap-2 text-white bg-black bg-opacity-50 p-2 rounded-full hover:bg-opacity-70 transition-all",children:[e.jsx(L,{size:20}),e.jsx("span",{className:"hidden md:inline",children:"Retour"})]})}),e.jsx("div",{className:"w-full h-screen flex flex-col items-center justify-center",children:i||f?e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx(V,{size:"large"}),e.jsx("p",{className:"mt-4 text-white",children:"Chargement de la vidéo..."})]}):o?e.jsxs("div",{className:"flex flex-col items-center justify-center text-white",children:[e.jsx(I,{size:48,className:"text-red-500 mb-4"}),e.jsx("h2",{className:"text-xl font-bold mb-2",children:"Erreur de lecture"}),e.jsx("p",{className:"text-center max-w-md",children:o}),e.jsx(p,{to:`/${x}/${s}`,className:"mt-6 px-6 py-2 bg-fuchsia-600 rounded-full hover:bg-fuchsia-700 transition-colors",children:"Retour aux détails"})]}):e.jsx("div",{className:"w-full h-full max-w-7xl mx-auto",children:h&&e.jsx("video",{className:"w-full h-full object-contain",controls:!0,autoPlay:!0,src:h,onLoadedData:v,onError:y})})}),l&&!f&&!o&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("h1",{className:"text-xl md:text-2xl font-bold text-white",children:[l.title,a&&` - Épisode ${a}`]}),l.year&&e.jsx("p",{className:"text-gray-300 text-sm",children:l.year})]})})]})};export{S as default};
//# sourceMappingURL=PlayPage-D7-GbGdW.js.map
