import{j as e}from"./ui-components-DqEG6yq2.js";import{u as P,a as l,L as p}from"./vendor-Chun8WN8.js";import{c as k,l as T,n as D,N as W,m as i,o as r,p as E,q as o,r as M,t as w,i as F,v as V,A as q,F as G}from"./index-Q4v1UkCE.js";import{C as H}from"./calendar-XOsucv5N.js";import"./player-BLuYXUgV.js";const B=k("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),O=k("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]),Y=()=>{const{type:C,id:d}=P(),{getItemById:g,getSectionItems:u,isLoading:x,error:m}=T(),{isInWatchlist:N,toggleWatchlist:I}=D(),[s,S]=l.useState(null),[b,$]=l.useState([]),[c,h]=l.useState("overview"),[j,v]=l.useState(!1),[z,f]=l.useState(!1);l.useEffect(()=>{if(x||m)return;const t=g(d);if(t){S(t);const a=u("recommended").items;if(a&&a.length>0){const _=a.filter(L=>L.id!==d).slice(0,6);$(_)}}},[d,x,m,g,u]),l.useEffect(()=>{s&&s.id&&v(N(s.id))},[s,N]);const A=()=>{if(s){const t=I(s);v(t),f(!0),setTimeout(()=>f(!1),500)}};if(x)return e.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-900",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-white",children:"Chargement..."})]})});if(m||!s)return e.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-900",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-red-600 text-5xl mb-4",children:"⚠️"}),e.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Contenu non trouvé"}),e.jsx("p",{className:"text-gray-400 mb-6",children:m||"Ce contenu n'existe pas ou a été supprimé."}),e.jsx(p,{to:"/",className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded font-medium",children:"Retour à l'accueil"})]})});const y=()=>s.duration?s.duration:s.episodes?`${s.episodes} épisodes`:"",R={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},n={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};return e.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[e.jsx(W,{}),e.jsxs("div",{className:"relative h-screen-80",children:[e.jsxs(i.div,{className:"absolute inset-0",initial:{scale:1.05,opacity:.8},animate:{scale:1,opacity:1},transition:{duration:6,ease:"easeOut"},children:[e.jsx("img",{src:r(s.banner||s.poster),alt:s.title,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/80 to-transparent"})]}),e.jsx("div",{className:"absolute top-24 left-6 z-10",children:e.jsxs(p,{to:"/",className:"flex items-center text-white hover:text-red-500 transition-colors",children:[e.jsx(E,{size:20,className:"mr-1"}),e.jsx("span",{children:"Retour"})]})}),e.jsxs("div",{className:"relative container mx-auto px-6 flex flex-col md:flex-row items-end h-full pb-12",children:[e.jsx(o,{animation:"scale",delay:.2,children:e.jsx("div",{className:"w-48 h-72 md:w-64 md:h-96 rounded-lg overflow-hidden shadow-2xl mb-6 md:mb-0 md:mr-8 flex-shrink-0",children:e.jsx("img",{src:r(s.poster),alt:s.title,className:"w-full h-full object-cover"})})}),e.jsxs(i.div,{className:"flex-grow",initial:"hidden",animate:"visible",variants:R,children:[e.jsx(i.h1,{className:"text-4xl md:text-5xl font-bold mb-3",variants:n,children:s.title}),e.jsxs(i.div,{className:"flex flex-wrap items-center space-x-4 mb-4",variants:n,children:[s.rating&&e.jsxs("span",{className:"bg-red-600 px-2 py-1 rounded text-sm text-white flex items-center",children:[e.jsx(M,{size:14,className:"mr-1"}),s.rating]}),e.jsxs("span",{className:"text-white flex items-center",children:[e.jsx(H,{size:14,className:"mr-1"}),s.year]}),y()&&e.jsxs("span",{className:"text-white flex items-center",children:[e.jsx(B,{size:14,className:"mr-1"}),y()]}),s.categories&&s.categories.length>0&&e.jsx("span",{className:"text-gray-300",children:s.categories.join(" • ")})]}),e.jsxs(i.div,{className:"flex space-x-4 mb-6",variants:n,children:[e.jsxs(p,{to:`/${C}/${d}/watch`,className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded font-medium flex items-center",children:[e.jsx(w,{size:18,className:"mr-2"}),"Regarder"]}),e.jsxs("button",{className:`${j?"bg-red-600":"bg-gray-800 hover:bg-gray-700"} text-white px-4 py-2 rounded flex items-center transition-colors`,onClick:A,children:[e.jsx(i.div,{animate:z?{scale:[1,1.3,1]}:{},transition:{duration:.5},children:j?e.jsx(F,{size:18,className:"mr-2"}):e.jsx(V,{size:18,className:"mr-2"})}),j?"Dans ma liste":"Ajouter à ma liste"]}),e.jsxs("button",{className:"bg-gray-800 hover:bg-gray-700 text-white px-4 py-2 rounded flex items-center",children:[e.jsx(O,{size:18,className:"mr-2"}),"Partager"]})]}),e.jsx(i.p,{className:"text-gray-300 mb-6 max-w-3xl",variants:n,children:s.description}),e.jsxs(i.div,{className:"flex flex-wrap text-sm",variants:n,children:[s.director&&e.jsxs("div",{className:"mr-8 mb-2",children:[e.jsx("span",{className:"text-gray-400",children:"Réalisateur: "}),e.jsx("span",{className:"text-white",children:s.director})]}),s.country&&e.jsxs("div",{className:"mr-8 mb-2",children:[e.jsx("span",{className:"text-gray-400",children:"Pays: "}),e.jsx("span",{className:"text-white",children:s.country})]}),s.language&&e.jsxs("div",{className:"mr-8 mb-2",children:[e.jsx("span",{className:"text-gray-400",children:"Langue: "}),e.jsx("span",{className:"text-white",children:s.language})]}),s.network&&e.jsxs("div",{className:"mr-8 mb-2",children:[e.jsx("span",{className:"text-gray-400",children:"Réseau: "}),e.jsx("span",{className:"text-white",children:s.network})]})]})]})]})]}),e.jsxs("div",{className:"container mx-auto px-6 py-12",children:[e.jsx("div",{className:"border-b border-gray-800 mb-8",children:e.jsxs("div",{className:"flex space-x-8",children:[e.jsx("button",{className:`pb-4 px-2 font-medium transition-colors ${c==="overview"?"text-red-500 border-b-2 border-red-500":"text-gray-400 hover:text-white"}`,onClick:()=>h("overview"),children:"Aperçu"}),s.episodes&&e.jsx("button",{className:`pb-4 px-2 font-medium transition-colors ${c==="episodes"?"text-red-500 border-b-2 border-red-500":"text-gray-400 hover:text-white"}`,onClick:()=>h("episodes"),children:"Épisodes"}),e.jsx("button",{className:`pb-4 px-2 font-medium transition-colors ${c==="more"?"text-red-500 border-b-2 border-red-500":"text-gray-400 hover:text-white"}`,onClick:()=>h("more"),children:"Plus d'infos"})]})}),e.jsxs("div",{className:"mb-12",children:[c==="overview"&&e.jsx(o,{animation:"fadeIn",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Synopsis"}),e.jsx("p",{className:"text-gray-300",children:s.description}),s.cast&&s.cast.length>0&&e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Casting"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:s.cast.map((t,a)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden mr-3",children:e.jsx("img",{src:t.image?r(t.image):"https://via.placeholder.com/100",alt:t.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:t.name}),e.jsx("p",{className:"text-sm text-gray-400",children:t.role})]})]},a))})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Détails"}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-gray-400 mb-1",children:"Titre original"}),e.jsx("p",{children:s.original_title||s.title})]}),s.status&&e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-gray-400 mb-1",children:"Statut"}),e.jsx("p",{children:s.status})]}),s.release_date&&e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-gray-400 mb-1",children:"Date de sortie"}),e.jsx("p",{children:s.release_date})]}),s.genres&&s.genres.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-gray-400 mb-1",children:"Genres"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:s.genres.map((t,a)=>e.jsx("span",{className:"bg-gray-700 text-xs px-2 py-1 rounded",children:t},a))})]}),s.tags&&s.tags.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 mb-1",children:"Tags"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:s.tags.map((t,a)=>e.jsx("span",{className:"bg-gray-700 text-xs px-2 py-1 rounded",children:t},a))})]})]})]})]})}),c==="episodes"&&s.episodes&&e.jsxs(o,{animation:"fadeIn",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Épisodes"}),e.jsx("div",{className:"space-y-4",children:Array.from({length:s.episodes},(t,a)=>e.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden flex flex-col md:flex-row",children:[e.jsxs("div",{className:"md:w-48 h-32 relative",children:[e.jsx("img",{src:r(s.poster),alt:`Épisode ${a+1}`,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/50 to-transparent"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("button",{className:"bg-red-600 rounded-full p-3 text-white",children:e.jsx(w,{size:24})})})]}),e.jsxs("div",{className:"p-4 flex-grow",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-bold text-lg",children:["Épisode ",a+1]}),e.jsx("p",{className:"text-gray-400 text-sm",children:s.episode_titles?s.episode_titles[a]:`${s.title} - Épisode ${a+1}`})]}),e.jsx("span",{className:"text-gray-400 text-sm",children:s.episode_duration||"45 min"})]}),e.jsx("p",{className:"mt-2 text-gray-300 text-sm",children:s.episode_descriptions?s.episode_descriptions[a]:"Aucune description disponible pour cet épisode."})]})]},a))})]}),c==="more"&&e.jsx(o,{animation:"fadeIn",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Informations supplémentaires"}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.awards&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Récompenses"}),e.jsx("p",{className:"text-gray-300",children:s.awards})]}),s.production&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Production"}),e.jsx("p",{className:"text-gray-300",children:s.production})]}),s.writer&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Scénariste"}),e.jsx("p",{className:"text-gray-300",children:s.writer})]}),s.music&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Musique"}),e.jsx("p",{className:"text-gray-300",children:s.music})]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Galerie"}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:s.gallery?s.gallery.map((t,a)=>e.jsx("div",{className:"rounded-lg overflow-hidden aspect-video",children:e.jsx("img",{src:r(t),alt:`${s.title} - ${a+1}`,className:"w-full h-full object-cover"})},a)):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"rounded-lg overflow-hidden aspect-video",children:e.jsx("img",{src:r(s.poster),alt:s.title,className:"w-full h-full object-cover"})}),e.jsx("div",{className:"rounded-lg overflow-hidden aspect-video",children:e.jsx("img",{src:r(s.banner||s.poster),alt:s.title,className:"w-full h-full object-cover"})})]})})]})]})})]}),b.length>0&&e.jsxs("div",{className:"mt-12",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Vous pourriez aussi aimer"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:b.map((t,a)=>e.jsx(q,{item:t,index:a},t.id))})]})]}),e.jsx(G,{})]})};export{Y as default};
//# sourceMappingURL=DetailPage-C6gEwH23.js.map
